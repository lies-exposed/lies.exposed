/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-build",
factory: function (require) {
var plugin=(()=>{var LR=Object.create,li=Object.defineProperty,DR=Object.defineProperties,BR=Object.getOwnPropertyDescriptor,UR=Object.getOwnPropertyDescriptors,qR=Object.getOwnPropertyNames,yf=Object.getOwnPropertySymbols,FR=Object.getPrototypeOf,Sf=Object.prototype.hasOwnProperty,kR=Object.prototype.propertyIsEnumerable;var Af=(e,t,r)=>t in e?li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D=(e,t)=>{for(var r in t||(t={}))Sf.call(t,r)&&Af(e,r,t[r]);if(yf)for(var r of yf(t))kR.call(t,r)&&Af(e,r,t[r]);return e},ue=(e,t)=>DR(e,UR(t)),jR=e=>li(e,"__esModule",{value:!0});var O=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),GR=(e,t)=>{for(var r in t)li(e,r,{get:t[r],enumerable:!0})},HR=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of qR(t))!Sf.call(e,n)&&n!=="default"&&li(e,n,{get:()=>t[n],enumerable:!(r=BR(t,n))||r.enumerable});return e},U=e=>HR(jR(li(e!=null?LR(FR(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Is=l(Ze=>{"use strict";Ze.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;Ze.find=(e,t)=>e.nodes.find(r=>r.type===t);Ze.exceedsLimit=(e,t,r=1,n)=>n===!1||!Ze.isInteger(e)||!Ze.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;Ze.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Ze.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;Ze.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;Ze.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;Ze.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);Ze.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var ws=l((ZF,vf)=>{"use strict";var bf=Is();vf.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&bf.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&bf.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var Rf=l((JF,Tf)=>{"use strict";Tf.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Lf=l((ek,Mf)=>{"use strict";var Of=Rf(),pr=(e,t,r)=>{if(Of(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Of(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=D({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(pr.cache.hasOwnProperty(u))return pr.cache[u].result;let c=Math.min(e,t),d=Math.max(e,t);if(Math.abs(c-d)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let p=xf(e)||xf(t),f={min:e,max:t,a:c,b:d},h=[],_=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),c<0){let g=d<0?Math.abs(d):1;_=Pf(g,Math.abs(c),f,n),c=f.a=0}return d>=0&&(h=Pf(c,d,f,n)),f.negatives=_,f.positives=h,f.result=$R(_,h,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&h.length+_.length>1&&(f.result=`(?:${f.result})`),pr.cache[u]=f,f.result};function $R(e,t,r){let n=Xu(e,t,"-",!1,r)||[],i=Xu(t,e,"",!1,r)||[],s=Xu(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function VR(e,t){let r=1,n=1,i=If(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=If(e,r);for(i=wf(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=wf(t+1,n)-1;return s=[...s],s.sort(KR),s}function WR(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=YR(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?s+=u:u!=="0"||c!=="9"?s+=XR(u,c,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Pf(e,t,r,n){let i=VR(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let c=i[u],d=WR(String(o),String(c),n),p="";if(!r.isPadded&&a&&a.pattern===d.pattern){a.count.length>1&&a.count.pop(),a.count.push(d.count[0]),a.string=a.pattern+Nf(a.count),o=c+1;continue}r.isPadded&&(p=zR(c,r,n)),d.string=p+d.pattern+Nf(d.count),s.push(d),o=c+1,a=d}return s}function Xu(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!Cf(t,"string",a)&&s.push(r+a),n&&Cf(t,"string",a)&&s.push(r+a)}return s}function YR(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function KR(e,t){return e>t?1:t>e?-1:0}function Cf(e,t,r){return e.some(n=>n[t]===r)}function If(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function wf(e,t){return e-e%Math.pow(10,t)}function Nf(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function XR(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function xf(e){return/^-?(0+)\d/.test(e)}function zR(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}pr.cache={};pr.clearCache=()=>pr.cache={};Mf.exports=pr});var Zu=l((tk,Gf)=>{"use strict";var QR=O("util"),Df=Lf(),Bf=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),ZR=e=>t=>e===!0?Number(t):String(t),zu=e=>typeof e=="number"||typeof e=="string"&&e!=="",di=e=>Number.isInteger(+e),Qu=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},JR=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,eO=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Uf=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},tO=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},qf=(e,t,r,n)=>{if(r)return Df(e,t,D({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},Ff=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return Df(e,t,r)},kf=(...e)=>new RangeError("Invalid range arguments: "+QR.inspect(...e)),jf=(e,t,r)=>{if(r.strictRanges===!0)throw kf([e,t]);return[]},rO=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},nO=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw kf([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),c=String(r);r=Math.max(Math.abs(r),1);let d=Qu(a)||Qu(u)||Qu(c),p=d?Math.max(a.length,u.length,c.length):0,f=d===!1&&JR(e,t,n)===!1,h=n.transform||ZR(f);if(n.toRegex&&r===1)return qf(Uf(e,p),Uf(t,p),!0,n);let _={negatives:[],positives:[]},g=S=>_[S<0?"negatives":"positives"].push(Math.abs(S)),b=[],v=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?g(i):b.push(eO(h(i,v),p,f)),i=o?i-r:i+r,v++;return n.toRegex===!0?r>1?tO(_,n):Ff(b,null,D({wrap:!1},n)):b},iO=(e,t,r=1,n={})=>{if(!di(e)&&e.length>1||!di(t)&&t.length>1)return jf(e,t,n);let i=n.transform||(f=>String.fromCharCode(f)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),c=Math.max(s,o);if(n.toRegex&&r===1)return qf(u,c,!1,n);let d=[],p=0;for(;a?s>=o:s<=o;)d.push(i(s,p)),s=a?s-r:s+r,p++;return n.toRegex===!0?Ff(d,null,{wrap:!1,options:n}):d},Ns=(e,t,r,n={})=>{if(t==null&&zu(e))return[e];if(!zu(e)||!zu(t))return jf(e,t,n);if(typeof r=="function")return Ns(e,t,1,{transform:r});if(Bf(r))return Ns(e,t,0,r);let i=D({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,di(r)?di(e)&&di(t)?nO(e,t,r,i):iO(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Bf(r)?rO(r,i):Ns(e,t,1,r)};Gf.exports=Ns});var Vf=l((rk,$f)=>{"use strict";var sO=Zu(),Hf=Is(),oO=(e,t={})=>{let r=(n,i={})=>{let s=Hf.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let d=Hf.reduce(n.nodes),p=sO(...d,ue(D({},t),{wrap:!1,toRegex:!0}));if(p.length!==0)return d.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let d of n.nodes)c+=r(d,n);return c};return r(e)};$f.exports=oO});var Kf=l((nk,Yf)=>{"use strict";var aO=Zu(),Wf=ws(),Jr=Is(),fr=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Jr.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(fr(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?fr(i,s,r):i+s);return Jr.flatten(n)},uO=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(fr(a.pop(),Wf(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(fr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=Jr.reduce(i.nodes);if(Jr.exceedsLimit(...p,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=aO(...p,t);f.length===0&&(f=Wf(i,t)),a.push(fr(a.pop(),f)),i.nodes=[];return}let u=Jr.encloseBrace(i),c=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,c=d.queue;for(let p=0;p<i.nodes.length;p++){let f=i.nodes[p];if(f.type==="comma"&&i.type==="brace"){p===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(fr(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(fr(c.pop(),f.value));continue}f.nodes&&n(f,i)}return c};return Jr.flatten(n(e))};Yf.exports=uO});var zf=l((ik,Xf)=>{"use strict";Xf.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var th=l((sk,eh)=>{"use strict";var cO=ws(),{MAX_LENGTH:Qf,CHAR_BACKSLASH:Ju,CHAR_BACKTICK:lO,CHAR_COMMA:dO,CHAR_DOT:pO,CHAR_LEFT_PARENTHESES:fO,CHAR_RIGHT_PARENTHESES:hO,CHAR_LEFT_CURLY_BRACE:_O,CHAR_RIGHT_CURLY_BRACE:gO,CHAR_LEFT_SQUARE_BRACKET:Zf,CHAR_RIGHT_SQUARE_BRACKET:Jf,CHAR_DOUBLE_QUOTE:mO,CHAR_SINGLE_QUOTE:EO,CHAR_NO_BREAK_SPACE:yO,CHAR_ZERO_WIDTH_NOBREAK_SPACE:SO}=zf(),AO=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Qf,r.maxLength):Qf;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,c=e.length,d=0,p=0,f,h={},_=()=>e[d++],g=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return o.nodes.push(b),b.parent=o,b.prev=a,a=b,b};for(g({type:"bos"});d<c;)if(o=s[s.length-1],f=_(),!(f===SO||f===yO)){if(f===Ju){g({type:"text",value:(t.keepEscaping?f:"")+_()});continue}if(f===Jf){g({type:"text",value:"\\"+f});continue}if(f===Zf){u++;let b=!0,v;for(;d<c&&(v=_());){if(f+=v,v===Zf){u++;continue}if(v===Ju){f+=_();continue}if(v===Jf&&(u--,u===0))break}g({type:"text",value:f});continue}if(f===fO){o=g({type:"paren",nodes:[]}),s.push(o),g({type:"text",value:f});continue}if(f===hO){if(o.type!=="paren"){g({type:"text",value:f});continue}o=s.pop(),g({type:"text",value:f}),o=s[s.length-1];continue}if(f===mO||f===EO||f===lO){let b=f,v;for(t.keepQuotes!==!0&&(f="");d<c&&(v=_());){if(v===Ju){f+=v+_();continue}if(v===b){t.keepQuotes===!0&&(f+=v);break}f+=v}g({type:"text",value:f});continue}if(f===_O){p++;let b=a.value&&a.value.slice(-1)==="$"||o.dollar===!0;o=g({type:"brace",open:!0,close:!1,dollar:b,depth:p,commas:0,ranges:0,nodes:[]}),s.push(o),g({type:"open",value:f});continue}if(f===gO){if(o.type!=="brace"){g({type:"text",value:f});continue}let b="close";o=s.pop(),o.close=!0,g({type:b,value:f}),p--,o=s[s.length-1];continue}if(f===dO&&p>0){if(o.ranges>0){o.ranges=0;let b=o.nodes.shift();o.nodes=[b,{type:"text",value:cO(o)}]}g({type:"comma",value:f}),o.commas++;continue}if(f===pO&&p>0&&o.commas===0){let b=o.nodes;if(p===0||b.length===0){g({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){b.pop();let v=b[b.length-1];v.value+=a.value+f,a=v,o.ranges--;continue}g({type:"dot",value:f});continue}g({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(S=>{S.nodes||(S.type==="open"&&(S.isOpen=!0),S.type==="close"&&(S.isClose=!0),S.nodes||(S.type="text"),S.invalid=!0)});let b=s[s.length-1],v=b.nodes.indexOf(o);b.nodes.splice(v,1,...o.nodes)}while(s.length>0);return g({type:"eos"}),i};eh.exports=AO});var ih=l((ok,nh)=>{"use strict";var rh=ws(),bO=Vf(),vO=Kf(),TO=th(),We=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=We.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(We.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};We.parse=(e,t={})=>TO(e,t);We.stringify=(e,t={})=>typeof e=="string"?rh(We.parse(e,t),t):rh(e,t);We.compile=(e,t={})=>(typeof e=="string"&&(e=We.parse(e,t)),bO(e,t));We.expand=(e,t={})=>{typeof e=="string"&&(e=We.parse(e,t));let r=vO(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};We.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?We.compile(e,t):We.expand(e,t);nh.exports=We});var pi=l((ak,ch)=>{"use strict";var RO=O("path"),ft="\\\\/",sh=`[^${ft}]`,Mt="\\.",OO="\\+",PO="\\?",xs="\\/",CO="(?=.)",oh="[^/]",ec=`(?:${xs}|$)`,ah=`(?:^|${xs})`,tc=`${Mt}{1,2}${ec}`,IO=`(?!${Mt})`,wO=`(?!${ah}${tc})`,NO=`(?!${Mt}{0,1}${ec})`,xO=`(?!${tc})`,MO=`[^.${xs}]`,LO=`${oh}*?`,uh={DOT_LITERAL:Mt,PLUS_LITERAL:OO,QMARK_LITERAL:PO,SLASH_LITERAL:xs,ONE_CHAR:CO,QMARK:oh,END_ANCHOR:ec,DOTS_SLASH:tc,NO_DOT:IO,NO_DOTS:wO,NO_DOT_SLASH:NO,NO_DOTS_SLASH:xO,QMARK_NO_DOT:MO,STAR:LO,START_ANCHOR:ah},DO=ue(D({},uh),{SLASH_LITERAL:`[${ft}]`,QMARK:sh,STAR:`${sh}*?`,DOTS_SLASH:`${Mt}{1,2}(?:[${ft}]|$)`,NO_DOT:`(?!${Mt})`,NO_DOTS:`(?!(?:^|[${ft}])${Mt}{1,2}(?:[${ft}]|$))`,NO_DOT_SLASH:`(?!${Mt}{0,1}(?:[${ft}]|$))`,NO_DOTS_SLASH:`(?!${Mt}{1,2}(?:[${ft}]|$))`,QMARK_NO_DOT:`[^.${ft}]`,START_ANCHOR:`(?:^|[${ft}])`,END_ANCHOR:`(?:[${ft}]|$)`}),BO={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};ch.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:BO,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:RO.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?DO:uh}}});var fi=l(Fe=>{"use strict";var UO=O("path"),qO=process.platform==="win32",{REGEX_BACKSLASH:FO,REGEX_REMOVE_BACKSLASH:kO,REGEX_SPECIAL_CHARS:jO,REGEX_SPECIAL_CHARS_GLOBAL:GO}=pi();Fe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Fe.hasRegexChars=e=>jO.test(e);Fe.isRegexChar=e=>e.length===1&&Fe.hasRegexChars(e);Fe.escapeRegex=e=>e.replace(GO,"\\$1");Fe.toPosixSlashes=e=>e.replace(FO,"/");Fe.removeBackslashes=e=>e.replace(kO,t=>t==="\\"?"":t);Fe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Fe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:qO===!0||UO.sep==="\\";Fe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?Fe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};Fe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Fe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var mh=l((ck,gh)=>{"use strict";var lh=fi(),{CHAR_ASTERISK:rc,CHAR_AT:HO,CHAR_BACKWARD_SLASH:hi,CHAR_COMMA:$O,CHAR_DOT:nc,CHAR_EXCLAMATION_MARK:ic,CHAR_FORWARD_SLASH:dh,CHAR_LEFT_CURLY_BRACE:sc,CHAR_LEFT_PARENTHESES:oc,CHAR_LEFT_SQUARE_BRACKET:VO,CHAR_PLUS:WO,CHAR_QUESTION_MARK:ph,CHAR_RIGHT_CURLY_BRACE:YO,CHAR_RIGHT_PARENTHESES:fh,CHAR_RIGHT_SQUARE_BRACKET:KO}=pi(),hh=e=>e===dh||e===hi,_h=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},XO=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,c=-1,d=0,p=0,f=!1,h=!1,_=!1,g=!1,b=!1,v=!1,S=!1,A=!1,G=!1,N=!1,L=0,P,M,C={value:"",depth:0,isGlob:!1},V=()=>c>=n,m=()=>u.charCodeAt(c+1),H=()=>(P=M,u.charCodeAt(++c));for(;c<n;){M=H();let Se;if(M===hi){S=C.backslashes=!0,M=H(),M===sc&&(v=!0);continue}if(v===!0||M===sc){for(L++;V()!==!0&&(M=H());){if(M===hi){S=C.backslashes=!0,H();continue}if(M===sc){L++;continue}if(v!==!0&&M===nc&&(M=H())===nc){if(f=C.isBrace=!0,_=C.isGlob=!0,N=!0,i===!0)continue;break}if(v!==!0&&M===$O){if(f=C.isBrace=!0,_=C.isGlob=!0,N=!0,i===!0)continue;break}if(M===YO&&(L--,L===0)){v=!1,f=C.isBrace=!0,N=!0;break}}if(i===!0)continue;break}if(M===dh){if(s.push(c),o.push(C),C={value:"",depth:0,isGlob:!1},N===!0)continue;if(P===nc&&c===d+1){d+=2;continue}p=c+1;continue}if(r.noext!==!0&&(M===WO||M===HO||M===rc||M===ph||M===ic)===!0&&m()===oc){if(_=C.isGlob=!0,g=C.isExtglob=!0,N=!0,M===ic&&c===d&&(G=!0),i===!0){for(;V()!==!0&&(M=H());){if(M===hi){S=C.backslashes=!0,M=H();continue}if(M===fh){_=C.isGlob=!0,N=!0;break}}continue}break}if(M===rc){if(P===rc&&(b=C.isGlobstar=!0),_=C.isGlob=!0,N=!0,i===!0)continue;break}if(M===ph){if(_=C.isGlob=!0,N=!0,i===!0)continue;break}if(M===VO){for(;V()!==!0&&(Se=H());){if(Se===hi){S=C.backslashes=!0,H();continue}if(Se===KO){h=C.isBracket=!0,_=C.isGlob=!0,N=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&M===ic&&c===d){A=C.negated=!0,d++;continue}if(r.noparen!==!0&&M===oc){if(_=C.isGlob=!0,i===!0){for(;V()!==!0&&(M=H());){if(M===oc){S=C.backslashes=!0,M=H();continue}if(M===fh){N=!0;break}}continue}break}if(_===!0){if(N=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,_=!1);let X=u,se="",E="";d>0&&(se=u.slice(0,d),u=u.slice(d),p-=d),X&&_===!0&&p>0?(X=u.slice(0,p),E=u.slice(p)):_===!0?(X="",E=u):X=u,X&&X!==""&&X!=="/"&&X!==u&&hh(X.charCodeAt(X.length-1))&&(X=X.slice(0,-1)),r.unescape===!0&&(E&&(E=lh.removeBackslashes(E)),X&&S===!0&&(X=lh.removeBackslashes(X)));let y={prefix:se,input:e,start:d,base:X,glob:E,isBrace:f,isBracket:h,isGlob:_,isExtglob:g,isGlobstar:b,negated:A,negatedExtglob:G};if(r.tokens===!0&&(y.maxDepth=0,hh(M)||o.push(C),y.tokens=o),r.parts===!0||r.tokens===!0){let Se;for(let B=0;B<s.length;B++){let Ae=Se?Se+1:d,Ve=s[B],J=e.slice(Ae,Ve);r.tokens&&(B===0&&d!==0?(o[B].isPrefix=!0,o[B].value=se):o[B].value=J,_h(o[B]),y.maxDepth+=o[B].depth),(B!==0||J!=="")&&a.push(J),Se=Ve}if(Se&&Se+1<e.length){let B=e.slice(Se+1);a.push(B),r.tokens&&(o[o.length-1].value=B,_h(o[o.length-1]),y.maxDepth+=o[o.length-1].depth)}y.slashes=s,y.parts=a}return y};gh.exports=XO});var Ah=l((lk,Sh)=>{"use strict";var Ms=pi(),Ye=fi(),{MAX_LENGTH:Ls,POSIX_REGEX_SOURCE:zO,REGEX_NON_SPECIAL_CHARS:QO,REGEX_SPECIAL_CHARS_BACKREF:ZO,REPLACEMENTS:Eh}=Ms,JO=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>Ye.escapeRegex(i)).join("..")}return r},en=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,yh=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Eh[e]||e;let r=D({},t),n=typeof r.maxLength=="number"?Math.min(Ls,r.maxLength):Ls,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=Ye.isWindows(t),c=Ms.globChars(u),d=Ms.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:_,DOTS_SLASH:g,NO_DOT:b,NO_DOT_SLASH:v,NO_DOTS_SLASH:S,QMARK:A,QMARK_NO_DOT:G,STAR:N,START_ANCHOR:L}=c,P=R=>`(${a}(?:(?!${L}${R.dot?g:p}).)*?)`,M=r.dot?"":b,C=r.dot?A:G,V=r.bash===!0?P(r):N;r.capture&&(V=`(${V})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let m={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Ye.removePrefix(e,m),i=e.length;let H=[],X=[],se=[],E=s,y,Se=()=>m.index===i-1,B=m.peek=(R=1)=>e[m.index+R],Ae=m.advance=()=>e[++m.index]||"",Ve=()=>e.slice(m.index+1),J=(R="",re=0)=>{m.consumed+=R,m.index+=re},st=R=>{m.output+=R.output!=null?R.output:R.value,J(R.value)},pt=()=>{let R=1;for(;B()==="!"&&(B(2)!=="("||B(3)==="?");)Ae(),m.start++,R++;return R%2==0?!1:(m.negated=!0,m.start++,!0)},ve=R=>{m[R]++,se.push(R)},qe=R=>{m[R]--,se.pop()},Y=R=>{if(E.type==="globstar"){let re=m.braces>0&&(R.type==="comma"||R.type==="brace"),T=R.extglob===!0||H.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!re&&!T&&(m.output=m.output.slice(0,-E.output.length),E.type="star",E.value="*",E.output=V,m.output+=E.output)}if(H.length&&R.type!=="paren"&&(H[H.length-1].inner+=R.value),(R.value||R.output)&&st(R),E&&E.type==="text"&&R.type==="text"){E.value+=R.value,E.output=(E.output||"")+R.value;return}R.prev=E,o.push(R),E=R},Ps=(R,re)=>{let T=ue(D({},d[re]),{conditions:1,inner:""});T.prev=E,T.parens=m.parens,T.output=m.output;let $=(r.capture?"(":"")+T.open;ve("parens"),Y({type:R,value:re,output:m.output?"":_}),Y({type:"paren",extglob:!0,value:Ae(),output:$}),H.push(T)},MR=R=>{let re=R.close+(r.capture?")":""),T;if(R.type==="negate"){let $=V;R.inner&&R.inner.length>1&&R.inner.includes("/")&&($=P(r)),($!==V||Se()||/^\)+$/.test(Ve()))&&(re=R.close=`)$))${$}`),R.inner.includes("*")&&(T=Ve())&&/^\.[^\\/.]+$/.test(T)&&(re=R.close=`)${T})${$})`),R.prev.type==="bos"&&(m.negatedExtglob=!0)}Y({type:"paren",extglob:!0,value:y,output:re}),qe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let R=!1,re=e.replace(ZO,(T,$,le,Me,Ee,Ku)=>Me==="\\"?(R=!0,T):Me==="?"?$?$+Me+(Ee?A.repeat(Ee.length):""):Ku===0?C+(Ee?A.repeat(Ee.length):""):A.repeat(le.length):Me==="."?p.repeat(le.length):Me==="*"?$?$+Me+(Ee?V:""):V:$?T:`\\${T}`);return R===!0&&(r.unescape===!0?re=re.replace(/\\/g,""):re=re.replace(/\\+/g,T=>T.length%2==0?"\\\\":T?"\\":"")),re===e&&r.contains===!0?(m.output=e,m):(m.output=Ye.wrapOutput(re,m,t),m)}for(;!Se();){if(y=Ae(),y==="\0")continue;if(y==="\\"){let T=B();if(T==="/"&&r.bash!==!0||T==="."||T===";")continue;if(!T){y+="\\",Y({type:"text",value:y});continue}let $=/^\\+/.exec(Ve()),le=0;if($&&$[0].length>2&&(le=$[0].length,m.index+=le,le%2!=0&&(y+="\\")),r.unescape===!0?y=Ae():y+=Ae(),m.brackets===0){Y({type:"text",value:y});continue}}if(m.brackets>0&&(y!=="]"||E.value==="["||E.value==="[^")){if(r.posix!==!1&&y===":"){let T=E.value.slice(1);if(T.includes("[")&&(E.posix=!0,T.includes(":"))){let $=E.value.lastIndexOf("["),le=E.value.slice(0,$),Me=E.value.slice($+2),Ee=zO[Me];if(Ee){E.value=le+Ee,m.backtrack=!0,Ae(),!s.output&&o.indexOf(E)===1&&(s.output=_);continue}}}(y==="["&&B()!==":"||y==="-"&&B()==="]")&&(y=`\\${y}`),y==="]"&&(E.value==="["||E.value==="[^")&&(y=`\\${y}`),r.posix===!0&&y==="!"&&E.value==="["&&(y="^"),E.value+=y,st({value:y});continue}if(m.quotes===1&&y!=='"'){y=Ye.escapeRegex(y),E.value+=y,st({value:y});continue}if(y==='"'){m.quotes=m.quotes===1?0:1,r.keepQuotes===!0&&Y({type:"text",value:y});continue}if(y==="("){ve("parens"),Y({type:"paren",value:y});continue}if(y===")"){if(m.parens===0&&r.strictBrackets===!0)throw new SyntaxError(en("opening","("));let T=H[H.length-1];if(T&&m.parens===T.parens+1){MR(H.pop());continue}Y({type:"paren",value:y,output:m.parens?")":"\\)"}),qe("parens");continue}if(y==="["){if(r.nobracket===!0||!Ve().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(en("closing","]"));y=`\\${y}`}else ve("brackets");Y({type:"bracket",value:y});continue}if(y==="]"){if(r.nobracket===!0||E&&E.type==="bracket"&&E.value.length===1){Y({type:"text",value:y,output:`\\${y}`});continue}if(m.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(en("opening","["));Y({type:"text",value:y,output:`\\${y}`});continue}qe("brackets");let T=E.value.slice(1);if(E.posix!==!0&&T[0]==="^"&&!T.includes("/")&&(y=`/${y}`),E.value+=y,st({value:y}),r.literalBrackets===!1||Ye.hasRegexChars(T))continue;let $=Ye.escapeRegex(E.value);if(m.output=m.output.slice(0,-E.value.length),r.literalBrackets===!0){m.output+=$,E.value=$;continue}E.value=`(${a}${$}|${E.value})`,m.output+=E.value;continue}if(y==="{"&&r.nobrace!==!0){ve("braces");let T={type:"brace",value:y,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};X.push(T),Y(T);continue}if(y==="}"){let T=X[X.length-1];if(r.nobrace===!0||!T){Y({type:"text",value:y,output:y});continue}let $=")";if(T.dots===!0){let le=o.slice(),Me=[];for(let Ee=le.length-1;Ee>=0&&(o.pop(),le[Ee].type!=="brace");Ee--)le[Ee].type!=="dots"&&Me.unshift(le[Ee].value);$=JO(Me,r),m.backtrack=!0}if(T.comma!==!0&&T.dots!==!0){let le=m.output.slice(0,T.outputIndex),Me=m.tokens.slice(T.tokensIndex);T.value=T.output="\\{",y=$="\\}",m.output=le;for(let Ee of Me)m.output+=Ee.output||Ee.value}Y({type:"brace",value:y,output:$}),qe("braces"),X.pop();continue}if(y==="|"){H.length>0&&H[H.length-1].conditions++,Y({type:"text",value:y});continue}if(y===","){let T=y,$=X[X.length-1];$&&se[se.length-1]==="braces"&&($.comma=!0,T="|"),Y({type:"comma",value:y,output:T});continue}if(y==="/"){if(E.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",o.pop(),E=s;continue}Y({type:"slash",value:y,output:h});continue}if(y==="."){if(m.braces>0&&E.type==="dot"){E.value==="."&&(E.output=p);let T=X[X.length-1];E.type="dots",E.output+=y,E.value+=y,T.dots=!0;continue}if(m.braces+m.parens===0&&E.type!=="bos"&&E.type!=="slash"){Y({type:"text",value:y,output:p});continue}Y({type:"dot",value:y,output:p});continue}if(y==="?"){if(!(E&&E.value==="(")&&r.noextglob!==!0&&B()==="("&&B(2)!=="?"){Ps("qmark",y);continue}if(E&&E.type==="paren"){let $=B(),le=y;if($==="<"&&!Ye.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(E.value==="("&&!/[!=<:]/.test($)||$==="<"&&!/<([!=]|\w+>)/.test(Ve()))&&(le=`\\${y}`),Y({type:"text",value:y,output:le});continue}if(r.dot!==!0&&(E.type==="slash"||E.type==="bos")){Y({type:"qmark",value:y,output:G});continue}Y({type:"qmark",value:y,output:A});continue}if(y==="!"){if(r.noextglob!==!0&&B()==="("&&(B(2)!=="?"||!/[!=<:]/.test(B(3)))){Ps("negate",y);continue}if(r.nonegate!==!0&&m.index===0){pt();continue}}if(y==="+"){if(r.noextglob!==!0&&B()==="("&&B(2)!=="?"){Ps("plus",y);continue}if(E&&E.value==="("||r.regex===!1){Y({type:"plus",value:y,output:f});continue}if(E&&(E.type==="bracket"||E.type==="paren"||E.type==="brace")||m.parens>0){Y({type:"plus",value:y});continue}Y({type:"plus",value:f});continue}if(y==="@"){if(r.noextglob!==!0&&B()==="("&&B(2)!=="?"){Y({type:"at",extglob:!0,value:y,output:""});continue}Y({type:"text",value:y});continue}if(y!=="*"){(y==="$"||y==="^")&&(y=`\\${y}`);let T=QO.exec(Ve());T&&(y+=T[0],m.index+=T[0].length),Y({type:"text",value:y});continue}if(E&&(E.type==="globstar"||E.star===!0)){E.type="star",E.star=!0,E.value+=y,E.output=V,m.backtrack=!0,m.globstar=!0,J(y);continue}let R=Ve();if(r.noextglob!==!0&&/^\([^?]/.test(R)){Ps("star",y);continue}if(E.type==="star"){if(r.noglobstar===!0){J(y);continue}let T=E.prev,$=T.prev,le=T.type==="slash"||T.type==="bos",Me=$&&($.type==="star"||$.type==="globstar");if(r.bash===!0&&(!le||R[0]&&R[0]!=="/")){Y({type:"star",value:y,output:""});continue}let Ee=m.braces>0&&(T.type==="comma"||T.type==="brace"),Ku=H.length&&(T.type==="pipe"||T.type==="paren");if(!le&&T.type!=="paren"&&!Ee&&!Ku){Y({type:"star",value:y,output:""});continue}for(;R.slice(0,3)==="/**";){let Cs=e[m.index+4];if(Cs&&Cs!=="/")break;R=R.slice(3),J("/**",3)}if(T.type==="bos"&&Se()){E.type="globstar",E.value+=y,E.output=P(r),m.output=E.output,m.globstar=!0,J(y);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&!Me&&Se()){m.output=m.output.slice(0,-(T.output+E.output).length),T.output=`(?:${T.output}`,E.type="globstar",E.output=P(r)+(r.strictSlashes?")":"|$)"),E.value+=y,m.globstar=!0,m.output+=T.output+E.output,J(y);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&R[0]==="/"){let Cs=R[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(T.output+E.output).length),T.output=`(?:${T.output}`,E.type="globstar",E.output=`${P(r)}${h}|${h}${Cs})`,E.value+=y,m.output+=T.output+E.output,m.globstar=!0,J(y+Ae()),Y({type:"slash",value:"/",output:""});continue}if(T.type==="bos"&&R[0]==="/"){E.type="globstar",E.value+=y,E.output=`(?:^|${h}|${P(r)}${h})`,m.output=E.output,m.globstar=!0,J(y+Ae()),Y({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-E.output.length),E.type="globstar",E.output=P(r),E.value+=y,m.output+=E.output,m.globstar=!0,J(y);continue}let re={type:"star",value:y,output:V};if(r.bash===!0){re.output=".*?",(E.type==="bos"||E.type==="slash")&&(re.output=M+re.output),Y(re);continue}if(E&&(E.type==="bracket"||E.type==="paren")&&r.regex===!0){re.output=y,Y(re);continue}(m.index===m.start||E.type==="slash"||E.type==="dot")&&(E.type==="dot"?(m.output+=v,E.output+=v):r.dot===!0?(m.output+=S,E.output+=S):(m.output+=M,E.output+=M),B()!=="*"&&(m.output+=_,E.output+=_)),Y(re)}for(;m.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(en("closing","]"));m.output=Ye.escapeLast(m.output,"["),qe("brackets")}for(;m.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(en("closing",")"));m.output=Ye.escapeLast(m.output,"("),qe("parens")}for(;m.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(en("closing","}"));m.output=Ye.escapeLast(m.output,"{"),qe("braces")}if(r.strictSlashes!==!0&&(E.type==="star"||E.type==="bracket")&&Y({type:"maybe_slash",value:"",output:`${h}?`}),m.backtrack===!0){m.output="";for(let R of m.tokens)m.output+=R.output!=null?R.output:R.value,R.suffix&&(m.output+=R.suffix)}return m};yh.fastpaths=(e,t)=>{let r=D({},t),n=typeof r.maxLength=="number"?Math.min(Ls,r.maxLength):Ls,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=Eh[e]||e;let s=Ye.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:d,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:_}=Ms.globChars(s),g=r.dot?p:d,b=r.dot?f:d,v=r.capture?"":"?:",S={negated:!1,prefix:""},A=r.bash===!0?".*?":h;r.capture&&(A=`(${A})`);let G=M=>M.noglobstar===!0?A:`(${v}(?:(?!${_}${M.dot?c:o}).)*?)`,N=M=>{switch(M){case"*":return`${g}${u}${A}`;case".*":return`${o}${u}${A}`;case"*.*":return`${g}${A}${o}${u}${A}`;case"*/*":return`${g}${A}${a}${u}${b}${A}`;case"**":return g+G(r);case"**/*":return`(?:${g}${G(r)}${a})?${b}${u}${A}`;case"**/*.*":return`(?:${g}${G(r)}${a})?${b}${A}${o}${u}${A}`;case"**/.*":return`(?:${g}${G(r)}${a})?${o}${u}${A}`;default:{let C=/^(.*?)\.(\w+)$/.exec(M);if(!C)return;let V=N(C[1]);return V?V+o+C[2]:void 0}}},L=Ye.removePrefix(e,S),P=N(L);return P&&r.strictSlashes!==!0&&(P+=`${a}?`),P};Sh.exports=yh});var vh=l((dk,bh)=>{"use strict";var eP=O("path"),tP=mh(),ac=Ah(),uc=fi(),rP=pi(),nP=e=>e&&typeof e=="object"&&!Array.isArray(e),de=(e,t,r=!1)=>{if(Array.isArray(e)){let d=e.map(f=>de(f,t,r));return f=>{for(let h of d){let _=h(f);if(_)return _}return!1}}let n=nP(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=uc.isWindows(t),o=n?de.compileRe(e,t):de.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let d=ue(D({},t),{ignore:null,onMatch:null,onResult:null});u=de(i.ignore,d,r)}let c=(d,p=!1)=>{let{isMatch:f,match:h,output:_}=de.test(d,o,t,{glob:e,posix:s}),g={glob:e,state:a,regex:o,posix:s,input:d,output:_,match:h,isMatch:f};return typeof i.onResult=="function"&&i.onResult(g),f===!1?(g.isMatch=!1,p?g:!1):u(d)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,p?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),p?g:!0)};return r&&(c.state=a),c};de.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?uc.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=de.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};de.matchBase=(e,t,r,n=uc.isWindows(r))=>(t instanceof RegExp?t:de.makeRe(t,r)).test(eP.basename(e));de.isMatch=(e,t,r)=>de(t,r)(e);de.parse=(e,t)=>Array.isArray(e)?e.map(r=>de.parse(r,t)):ac(e,ue(D({},t),{fastpaths:!1}));de.scan=(e,t)=>tP(e,t);de.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=de.toRegex(a,t);return n===!0&&(u.state=e),u};de.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=ac.fastpaths(e,t)),i.output||(i=ac(e,t)),de.compileRe(i,t,r,n)};de.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};de.constants=rP;bh.exports=de});var Rh=l((pk,Th)=>{"use strict";Th.exports=vh()});var lc=l((fk,Ih)=>{"use strict";var Oh=O("util"),Ph=ih(),ht=Rh(),cc=fi(),Ch=e=>e===""||e==="./",oe=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=d=>{s.add(d.output),r&&r.onResult&&r.onResult(d)};for(let d=0;d<t.length;d++){let p=ht(String(t[d]),ue(D({},r),{onResult:a}),!0),f=p.state.negated||p.state.negatedExtglob;f&&o++;for(let h of e){let _=p(h,!0);!(f?!_.isMatch:_.isMatch)||(f?n.add(_.output):(n.delete(_.output),i.add(_.output)))}}let c=(o===t.length?[...s]:[...i]).filter(d=>!n.has(d));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(d=>d.replace(/\\/g,"")):t}return c};oe.match=oe;oe.matcher=(e,t)=>ht(e,t);oe.isMatch=(e,t,r)=>ht(t,r)(e);oe.any=oe.isMatch;oe.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=a=>{r.onResult&&r.onResult(a),i.push(a.output)},o=oe(e,t,ue(D({},r),{onResult:s}));for(let a of i)o.includes(a)||n.add(a);return[...n]};oe.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Oh.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>oe.contains(e,n,r));if(typeof t=="string"){if(Ch(e)||Ch(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return oe.isMatch(e,t,ue(D({},r),{contains:!0}))};oe.matchKeys=(e,t,r)=>{if(!cc.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=oe(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};oe.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=ht(String(i),r);if(n.some(o=>s(o)))return!0}return!1};oe.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=ht(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};oe.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Oh.inspect(e)}"`);return[].concat(t).every(n=>ht(n,r)(e))};oe.capture=(e,t,r)=>{let n=cc.isWindows(r),s=ht.makeRe(String(e),ue(D({},r),{capture:!0})).exec(n?cc.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};oe.makeRe=(...e)=>ht.makeRe(...e);oe.scan=(...e)=>ht.scan(...e);oe.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of Ph(String(n),t))r.push(ht.parse(i,t));return r};oe.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:Ph(e,t)};oe.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return oe.braces(e,ue(D({},t),{expand:!0}))};Ih.exports=oe});var tn=l((hk,hr)=>{"use strict";function wh(e){return typeof e=="undefined"||e===null}function iP(e){return typeof e=="object"&&e!==null}function sP(e){return Array.isArray(e)?e:wh(e)?[]:[e]}function oP(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function aP(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function uP(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}hr.exports.isNothing=wh;hr.exports.isObject=iP;hr.exports.toArray=sP;hr.exports.repeat=aP;hr.exports.isNegativeZero=uP;hr.exports.extend=oP});var rn=l((_k,xh)=>{"use strict";function Nh(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function _i(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Nh(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}_i.prototype=Object.create(Error.prototype);_i.prototype.constructor=_i;_i.prototype.toString=function(t){return this.name+": "+Nh(this,t)};xh.exports=_i});var Lh=l((gk,Mh)=>{"use strict";var gi=tn();function dc(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function pc(e,t){return gi.repeat(" ",t-e.length)+e}function cP(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,c,d=Math.min(e.line+t.linesAfter,i.length).toString().length,p=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)c=dc(e.buffer,n[o-u],i[o-u],e.position-(n[o]-n[o-u]),p),a=gi.repeat(" ",t.indent)+pc((e.line-u+1).toString(),d)+" | "+c.str+`
`+a;for(c=dc(e.buffer,n[o],i[o],e.position,p),a+=gi.repeat(" ",t.indent)+pc((e.line+1).toString(),d)+" | "+c.str+`
`,a+=gi.repeat("-",t.indent+d+3+c.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=i.length);u++)c=dc(e.buffer,n[o+u],i[o+u],e.position-(n[o]-n[o+u]),p),a+=gi.repeat(" ",t.indent)+pc((e.line+u+1).toString(),d)+" | "+c.str+`
`;return a.replace(/\n$/,"")}Mh.exports=cP});var Te=l((mk,Bh)=>{"use strict";var Dh=rn(),lP=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],dP=["scalar","sequence","mapping"];function pP(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function fP(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(lP.indexOf(r)===-1)throw new Dh('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=pP(t.styleAliases||null),dP.indexOf(this.kind)===-1)throw new Dh('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Bh.exports=fP});var _c=l((Ek,qh)=>{"use strict";var mi=rn(),fc=Te();function Uh(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function hP(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function hc(e){return this.extend(e)}hc.prototype.extend=function(t){var r=[],n=[];if(t instanceof fc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new mi("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof fc))throw new mi("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new mi("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new mi("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof fc))throw new mi("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(hc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Uh(i,"implicit"),i.compiledExplicit=Uh(i,"explicit"),i.compiledTypeMap=hP(i.compiledImplicit,i.compiledExplicit),i};qh.exports=hc});var gc=l((yk,Fh)=>{"use strict";var _P=Te();Fh.exports=new _P("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var mc=l((Sk,kh)=>{"use strict";var gP=Te();kh.exports=new gP("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var Ec=l((Ak,jh)=>{"use strict";var mP=Te();jh.exports=new mP("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var yc=l((bk,Gh)=>{"use strict";var EP=_c();Gh.exports=new EP({explicit:[gc(),mc(),Ec()]})});var Sc=l((vk,Hh)=>{"use strict";var yP=Te();function SP(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function AP(){return null}function bP(e){return e===null}Hh.exports=new yP("tag:yaml.org,2002:null",{kind:"scalar",resolve:SP,construct:AP,predicate:bP,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var Ac=l((Tk,$h)=>{"use strict";var vP=Te();function TP(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function RP(e){return e==="true"||e==="True"||e==="TRUE"}function OP(e){return Object.prototype.toString.call(e)==="[object Boolean]"}$h.exports=new vP("tag:yaml.org,2002:bool",{kind:"scalar",resolve:TP,construct:RP,predicate:OP,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var bc=l((Rk,Vh)=>{"use strict";var PP=tn(),CP=Te();function IP(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function wP(e){return 48<=e&&e<=55}function NP(e){return 48<=e&&e<=57}function xP(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!IP(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!wP(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!NP(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function MP(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function LP(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!PP.isNegativeZero(e)}Vh.exports=new CP("tag:yaml.org,2002:int",{kind:"scalar",resolve:xP,construct:MP,predicate:LP,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var vc=l((Ok,Yh)=>{"use strict";var Wh=tn(),DP=Te(),BP=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function UP(e){return!(e===null||!BP.test(e)||e[e.length-1]==="_")}function qP(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var FP=/^[-+]?[0-9]+e/;function kP(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Wh.isNegativeZero(e))return"-0.0";return r=e.toString(10),FP.test(r)?r.replace("e",".e"):r}function jP(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||Wh.isNegativeZero(e))}Yh.exports=new DP("tag:yaml.org,2002:float",{kind:"scalar",resolve:UP,construct:qP,predicate:jP,represent:kP,defaultStyle:"lowercase"})});var Tc=l((Pk,Kh)=>{"use strict";Kh.exports=yc().extend({implicit:[Sc(),Ac(),bc(),vc()]})});var Rc=l((Ck,Xh)=>{"use strict";Xh.exports=Tc()});var Oc=l((Ik,Zh)=>{"use strict";var GP=Te(),zh=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Qh=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function HP(e){return e===null?!1:zh.exec(e)!==null||Qh.exec(e)!==null}function $P(e){var t,r,n,i,s,o,a,u=0,c=null,d,p,f;if(t=zh.exec(e),t===null&&(t=Qh.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],p=+(t[11]||0),c=(d*60+p)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,s,o,a,u)),c&&f.setTime(f.getTime()-c),f}function VP(e){return e.toISOString()}Zh.exports=new GP("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:HP,construct:$P,instanceOf:Date,represent:VP})});var Pc=l((wk,Jh)=>{"use strict";var WP=Te();function YP(e){return e==="<<"||e===null}Jh.exports=new WP("tag:yaml.org,2002:merge",{kind:"scalar",resolve:YP})});var Ic=l((Nk,e_)=>{"use strict";var KP=Te(),Cc=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function XP(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Cc;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function zP(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Cc,o=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function QP(e){var t="",r=0,n,i,s=e.length,o=Cc;for(n=0;n<s;n++)n%3==0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function ZP(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}e_.exports=new KP("tag:yaml.org,2002:binary",{kind:"scalar",resolve:XP,construct:zP,predicate:ZP,represent:QP})});var wc=l((xk,t_)=>{"use strict";var JP=Te(),eC=Object.prototype.hasOwnProperty,tC=Object.prototype.toString;function rC(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,tC.call(i)!=="[object Object]")return!1;for(s in i)if(eC.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function nC(e){return e!==null?e:[]}t_.exports=new JP("tag:yaml.org,2002:omap",{kind:"sequence",resolve:rC,construct:nC})});var Nc=l((Mk,r_)=>{"use strict";var iC=Te(),sC=Object.prototype.toString;function oC(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],sC.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function aC(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}r_.exports=new iC("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:oC,construct:aC})});var xc=l((Lk,n_)=>{"use strict";var uC=Te(),cC=Object.prototype.hasOwnProperty;function lC(e){if(e===null)return!0;var t,r=e;for(t in r)if(cC.call(r,t)&&r[t]!==null)return!1;return!0}function dC(e){return e!==null?e:{}}n_.exports=new uC("tag:yaml.org,2002:set",{kind:"mapping",resolve:lC,construct:dC})});var Ds=l((Dk,i_)=>{"use strict";i_.exports=Rc().extend({implicit:[Oc(),Pc()],explicit:[Ic(),wc(),Nc(),xc()]})});var S_=l((Bk,Bc)=>{"use strict";var _r=tn(),s_=rn(),pC=Lh(),fC=Ds(),$t=Object.prototype.hasOwnProperty,Bs=1,o_=2,a_=3,Us=4,Mc=1,hC=2,u_=3,_C=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,gC=/[\x85\u2028\u2029]/,mC=/[,\[\]\{\}]/,c_=/^(?:!|!!|![a-z\-]+!)$/i,l_=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function d_(e){return Object.prototype.toString.call(e)}function _t(e){return e===10||e===13}function gr(e){return e===9||e===32}function ke(e){return e===9||e===32||e===10||e===13}function nn(e){return e===44||e===91||e===93||e===123||e===125}function EC(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function yC(e){return e===120?2:e===117?4:e===85?8:0}function SC(e){return 48<=e&&e<=57?e-48:-1}function p_(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function AC(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var f_=new Array(256),h_=new Array(256);for(var sn=0;sn<256;sn++)f_[sn]=p_(sn)?1:0,h_[sn]=p_(sn);function bC(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||fC,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function __(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=pC(r),new s_(t,r)}function x(e,t){throw __(e,t)}function qs(e,t){e.onWarning&&e.onWarning.call(null,__(e,t))}var g_={YAML:function(t,r,n){var i,s,o;t.version!==null&&x(t,"duplication of %YAML directive"),n.length!==1&&x(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&x(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&x(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&qs(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&x(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],c_.test(i)||x(t,"ill-formed tag handle (first argument) of the TAG directive"),$t.call(t.tagMap,i)&&x(t,'there is a previously declared suffix for "'+i+'" tag handle'),l_.test(s)||x(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch(o){x(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function Vt(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||x(e,"expected valid JSON character");else _C.test(a)&&x(e,"the stream contains non-printable characters");e.result+=a}}function m_(e,t,r,n){var i,s,o,a;for(_r.isObject(r)||x(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],$t.call(t,s)||(t[s]=r[s],n[s]=!0)}function on(e,t,r,n,i,s,o,a,u){var c,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,d=i.length;c<d;c+=1)Array.isArray(i[c])&&x(e,"nested arrays are not supported inside keys"),typeof i=="object"&&d_(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&d_(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,d=s.length;c<d;c+=1)m_(e,t,s[c],r);else m_(e,t,s,r);else!e.json&&!$t.call(r,i)&&$t.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,x(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function Lc(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):x(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function fe(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;gr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(_t(i))for(Lc(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&qs(e,"deficient indentation"),n}function Fs(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ke(r)))}function Dc(e,t){t===1?e.result+=" ":t>1&&(e.result+=_r.repeat(`
`,t-1))}function vC(e,t,r){var n,i,s,o,a,u,c,d,p=e.kind,f=e.result,h;if(h=e.input.charCodeAt(e.position),ke(h)||nn(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),ke(i)||r&&nn(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),ke(i)||r&&nn(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),ke(n))break}else{if(e.position===e.lineStart&&Fs(e)||r&&nn(h))break;if(_t(h))if(u=e.line,c=e.lineStart,d=e.lineIndent,fe(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=c,e.lineIndent=d;break}}a&&(Vt(e,s,o,!1),Dc(e,e.line-u),s=o=e.position,a=!1),gr(h)||(o=e.position+1),h=e.input.charCodeAt(++e.position)}return Vt(e,s,o,!1),e.result?!0:(e.kind=p,e.result=f,!1)}function TC(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Vt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else _t(r)?(Vt(e,n,i,!0),Dc(e,fe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Fs(e)?x(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);x(e,"unexpected end of the stream within a single quoted scalar")}function RC(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Vt(e,r,e.position,!0),e.position++,!0;if(a===92){if(Vt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),_t(a))fe(e,!1,t);else if(a<256&&f_[a])e.result+=h_[a],e.position++;else if((o=yC(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=EC(a))>=0?s=(s<<4)+o:x(e,"expected hexadecimal character");e.result+=AC(s),e.position++}else x(e,"unknown escape sequence");r=n=e.position}else _t(a)?(Vt(e,r,n,!0),Dc(e,fe(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Fs(e)?x(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}x(e,"unexpected end of the stream within a double quoted scalar")}function OC(e,t){var r=!0,n,i,s,o=e.tag,a,u=e.anchor,c,d,p,f,h,_=Object.create(null),g,b,v,S;if(S=e.input.charCodeAt(e.position),S===91)d=93,h=!1,a=[];else if(S===123)d=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),S=e.input.charCodeAt(++e.position);S!==0;){if(fe(e,!0,t),S=e.input.charCodeAt(e.position),S===d)return e.position++,e.tag=o,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=a,!0;r?S===44&&x(e,"expected the node content, but found ','"):x(e,"missed comma between flow collection entries"),b=g=v=null,p=f=!1,S===63&&(c=e.input.charCodeAt(e.position+1),ke(c)&&(p=f=!0,e.position++,fe(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,an(e,t,Bs,!1,!0),b=e.tag,g=e.result,fe(e,!0,t),S=e.input.charCodeAt(e.position),(f||e.line===n)&&S===58&&(p=!0,S=e.input.charCodeAt(++e.position),fe(e,!0,t),an(e,t,Bs,!1,!0),v=e.result),h?on(e,a,_,b,g,v,n,i,s):p?a.push(on(e,null,_,b,g,v,n,i,s)):a.push(g),fe(e,!0,t),S=e.input.charCodeAt(e.position),S===44?(r=!0,S=e.input.charCodeAt(++e.position)):r=!1}x(e,"unexpected end of the stream within a flow collection")}function PC(e,t){var r,n,i=Mc,s=!1,o=!1,a=t,u=0,c=!1,d,p;if(p=e.input.charCodeAt(e.position),p===124)n=!1;else if(p===62)n=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)Mc===i?i=p===43?u_:hC:x(e,"repeat of a chomping mode identifier");else if((d=SC(p))>=0)d===0?x(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?x(e,"repeat of an indentation width identifier"):(a=t+d-1,o=!0);else break;if(gr(p)){do p=e.input.charCodeAt(++e.position);while(gr(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!_t(p)&&p!==0)}for(;p!==0;){for(Lc(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),_t(p)){u++;continue}if(e.lineIndent<a){i===u_?e.result+=_r.repeat(`
`,s?1+u:u):i===Mc&&s&&(e.result+=`
`);break}for(n?gr(p)?(c=!0,e.result+=_r.repeat(`
`,s?1+u:u)):c?(c=!1,e.result+=_r.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=_r.repeat(`
`,u):e.result+=_r.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=e.position;!_t(p)&&p!==0;)p=e.input.charCodeAt(++e.position);Vt(e,r,e.position,!1)}return!0}function E_(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!ke(o))));){if(a=!0,e.position++,fe(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,an(e,t,a_,!1,!0),s.push(e.result),fe(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)x(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function CC(e,t,r){var n,i,s,o,a,u,c=e.tag,d=e.anchor,p={},f=Object.create(null),h=null,_=null,g=null,b=!1,v=!1,S;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),S=e.input.charCodeAt(e.position);S!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(S===63||S===58)&&ke(n))S===63?(b&&(on(e,p,f,h,_,null,o,a,u),h=_=g=null),v=!0,b=!0,i=!0):b?(b=!1,i=!0):x(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,S=n;else{if(o=e.line,a=e.lineStart,u=e.position,!an(e,r,o_,!1,!0))break;if(e.line===s){for(S=e.input.charCodeAt(e.position);gr(S);)S=e.input.charCodeAt(++e.position);if(S===58)S=e.input.charCodeAt(++e.position),ke(S)||x(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(on(e,p,f,h,_,null,o,a,u),h=_=g=null),v=!0,b=!1,i=!1,h=e.tag,_=e.result;else if(v)x(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=d,!0}else if(v)x(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(b&&(o=e.line,a=e.lineStart,u=e.position),an(e,t,Us,!0,i)&&(b?_=e.result:g=e.result),b||(on(e,p,f,h,_,g,o,a,u),h=_=g=null),fe(e,!0,-1),S=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&S!==0)x(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&on(e,p,f,h,_,null,o,a,u),v&&(e.tag=c,e.anchor=d,e.kind="mapping",e.result=p),v}function IC(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&x(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):x(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!ke(o);)o===33&&(n?x(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),c_.test(i)||x(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),mC.test(s)&&x(e,"tag suffix cannot contain flow indicator characters")}s&&!l_.test(s)&&x(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch(a){x(e,"tag name is malformed: "+s)}return r?e.tag=s:$t.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:x(e,'undeclared tag handle "'+i+'"'),!0}function wC(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&x(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ke(r)&&!nn(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function NC(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ke(n)&&!nn(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),$t.call(e.anchorMap,r)||x(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],fe(e,!0,-1),!0}function an(e,t,r,n,i){var s,o,a,u=1,c=!1,d=!1,p,f,h,_,g,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Us===r||a_===r,n&&fe(e,!0,-1)&&(c=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;IC(e)||wC(e);)fe(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||Us===r)&&(Bs===r||o_===r?g=t:g=t+1,b=e.position-e.lineStart,u===1?a&&(E_(e,b)||CC(e,b,g))||OC(e,g)?d=!0:(o&&PC(e,g)||TC(e,g)||RC(e,g)?d=!0:NC(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&x(e,"alias node should not have any properties")):vC(e,g,Bs===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=a&&E_(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&x(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,f=e.implicitTypes.length;p<f;p+=1)if(_=e.implicitTypes[p],_.resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if($t.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,h=e.typeMap.multi[e.kind||"fallback"],p=0,f=h.length;p<f;p+=1)if(e.tag.slice(0,h[p].tag.length)===h[p].tag){_=h[p];break}_||x(e,"unknown tag !<"+e.tag+">"),e.result!==null&&_.kind!==e.kind&&x(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):x(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function xC(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(fe(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!ke(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&x(e,"directive name must not be less than one character in length");o!==0;){for(;gr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!_t(o));break}if(_t(o))break;for(r=e.position;o!==0&&!ke(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&Lc(e),$t.call(g_,n)?g_[n](e,n,i):qs(e,'unknown document directive "'+n+'"')}if(fe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,fe(e,!0,-1)):s&&x(e,"directives end mark is expected"),an(e,e.lineIndent-1,Us,!1,!0),fe(e,!0,-1),e.checkLineBreaks&&gC.test(e.input.slice(t,e.position))&&qs(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Fs(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,fe(e,!0,-1));return}if(e.position<e.length-1)x(e,"end of the stream or a document separator is expected");else return}function y_(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new bC(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,x(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)xC(r);return r.documents}function MC(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=y_(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function LC(e,t){var r=y_(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new s_("expected a single document in the stream, but found more")}}Bc.exports.loadAll=MC;Bc.exports.load=LC});var j_=l((Uk,k_)=>{"use strict";var ks=tn(),Ei=rn(),DC=Ds(),A_=Object.prototype.toString,b_=Object.prototype.hasOwnProperty,Uc=65279,BC=9,yi=10,UC=13,qC=32,FC=33,kC=34,qc=35,jC=37,GC=38,HC=39,$C=42,v_=44,VC=45,js=58,WC=61,YC=62,KC=63,XC=64,T_=91,R_=93,zC=96,O_=123,QC=124,P_=125,Re={};Re[0]="\\0";Re[7]="\\a";Re[8]="\\b";Re[9]="\\t";Re[10]="\\n";Re[11]="\\v";Re[12]="\\f";Re[13]="\\r";Re[27]="\\e";Re[34]='\\"';Re[92]="\\\\";Re[133]="\\N";Re[160]="\\_";Re[8232]="\\L";Re[8233]="\\P";var ZC=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],JC=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function eI(e,t){var r,n,i,s,o,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&b_.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function tI(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Ei("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ks.repeat("0",n-t.length)+t}var rI=1,Si=2;function nI(e){this.schema=e.schema||DC,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ks.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=eI(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Si:rI,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function C_(e,t){for(var r=ks.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Fc(e,t){return`
`+ks.repeat(" ",e.indent*t)}function iI(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Gs(e){return e===qC||e===BC}function Ai(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Uc||65536<=e&&e<=1114111}function I_(e){return Ai(e)&&e!==Uc&&e!==UC&&e!==yi}function w_(e,t,r){var n=I_(e),i=n&&!Gs(e);return(r?n:n&&e!==v_&&e!==T_&&e!==R_&&e!==O_&&e!==P_)&&e!==qc&&!(t===js&&!i)||I_(t)&&!Gs(t)&&e===qc||t===js&&i}function sI(e){return Ai(e)&&e!==Uc&&!Gs(e)&&e!==VC&&e!==KC&&e!==js&&e!==v_&&e!==T_&&e!==R_&&e!==O_&&e!==P_&&e!==qc&&e!==GC&&e!==$C&&e!==FC&&e!==QC&&e!==WC&&e!==YC&&e!==HC&&e!==kC&&e!==jC&&e!==XC&&e!==zC}function oI(e){return!Gs(e)&&e!==js}function bi(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function N_(e){var t=/^\n* /;return t.test(e)}var x_=1,kc=2,M_=3,L_=4,un=5;function aI(e,t,r,n,i,s,o,a){var u,c=0,d=null,p=!1,f=!1,h=n!==-1,_=-1,g=sI(bi(e,0))&&oI(bi(e,e.length-1));if(t||o)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=bi(e,u),!Ai(c))return un;g=g&&w_(c,d,a),d=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=bi(e,u),c===yi)p=!0,h&&(f=f||u-_-1>n&&e[_+1]!==" ",_=u);else if(!Ai(c))return un;g=g&&w_(c,d,a),d=c}f=f||h&&u-_-1>n&&e[_+1]!==" "}return!p&&!f?g&&!o&&!i(e)?x_:s===Si?un:kc:r>9&&N_(e)?un:o?s===Si?un:kc:f?L_:M_}function uI(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===Si?'""':"''";if(!e.noCompatMode&&(ZC.indexOf(t)!==-1||JC.test(t)))return e.quotingType===Si?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(c){return iI(e,c)}switch(aI(t,a,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,i)){case x_:return t;case kc:return"'"+t.replace(/'/g,"''")+"'";case M_:return"|"+D_(t,e.indent)+B_(C_(t,s));case L_:return">"+D_(t,e.indent)+B_(C_(cI(t,o),s));case un:return'"'+lI(t,o)+'"';default:throw new Ei("impossible error: invalid scalar style")}}()}function D_(e,t){var r=N_(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function B_(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function cI(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,U_(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+U_(u,t),i=s}return n}function U_(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,u+=`
`+e.slice(i,s),i=s+1),o=a;return u+=`
`,e.length-i>t&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function lI(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=bi(e,i),n=Re[r],!n&&Ai(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||tI(r);return t}function dI(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Lt(e,t,a,!1,!1)||typeof a=="undefined"&&Lt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function q_(e,t,r,n){var i="",s=e.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(Lt(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&Lt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Fc(e,t)),e.dump&&yi===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function pI(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,u,c,d;for(o=0,a=s.length;o<a;o+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=s[o],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),!!Lt(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!Lt(e,t,c,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function fI(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,u,c,d,p,f;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Ei("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)f="",(!n||i!=="")&&(f+=Fc(e,t)),c=o[a],d=r[c],e.replacer&&(d=e.replacer.call(r,c,d)),!!Lt(e,t+1,c,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&yi===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,p&&(f+=Fc(e,t)),!!Lt(e,t+1,d,!0,p)&&(e.dump&&yi===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}function F_(e,t,r){var n,i,s,o,a,u;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,A_.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(b_.call(a.represent,u))n=a.represent[u](t,u);else throw new Ei("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function Lt(e,t,r,n,i,s,o){e.tag=null,e.dump=r,F_(e,r,!1)||F_(e,r,!0);var a=A_.call(e.dump),u=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=a==="[object Object]"||a==="[object Array]",p,f;if(d&&(p=e.duplicates.indexOf(r),f=p!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(d&&f&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(fI(e,t,e.dump,i),f&&(e.dump="&ref_"+p+e.dump)):(pI(e,t,e.dump),f&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?q_(e,t-1,e.dump,i):q_(e,t,e.dump,i),f&&(e.dump="&ref_"+p+e.dump)):(dI(e,t,e.dump),f&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&uI(e,e.dump,t,s,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ei("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function hI(e,t){var r=[],n=[],i,s;for(jc(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function jc(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)jc(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)jc(e[n[i]],t,r)}function _I(e,t){t=t||{};var r=new nI(t);r.noRefs||hI(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Lt(r,0,n,!0,!0)?r.dump+`
`:""}k_.exports.dump=_I});var H_=l((qk,Le)=>{"use strict";var G_=S_(),gI=j_();function Gc(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Le.exports.Type=Te();Le.exports.Schema=_c();Le.exports.FAILSAFE_SCHEMA=yc();Le.exports.JSON_SCHEMA=Tc();Le.exports.CORE_SCHEMA=Rc();Le.exports.DEFAULT_SCHEMA=Ds();Le.exports.load=G_.load;Le.exports.loadAll=G_.loadAll;Le.exports.dump=gI.dump;Le.exports.YAMLException=rn();Le.exports.types={binary:Ic(),float:vc(),map:Ec(),null:Sc(),pairs:Nc(),set:xc(),timestamp:Oc(),bool:Ac(),int:bc(),merge:Pc(),omap:wc(),seq:mc(),str:gc()};Le.exports.safeLoad=Gc("safeLoad","load");Le.exports.safeLoadAll=Gc("safeLoadAll","loadAll");Le.exports.safeDump=Gc("safeDump","dump")});var W_=l((Gk,bI)=>{bI.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var X_=l(Ke=>{"use strict";var Y_=W_(),gt=process.env;Object.defineProperty(Ke,"_vendors",{value:Y_.map(function(e){return e.constant})});Ke.name=null;Ke.isPR=null;Y_.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return K_(n)});if(Ke[e.constant]=r,r)switch(Ke.name=e.name,typeof e.pr){case"string":Ke.isPR=!!gt[e.pr];break;case"object":"env"in e.pr?Ke.isPR=e.pr.env in gt&&gt[e.pr.env]!==e.pr.ne:"any"in e.pr?Ke.isPR=e.pr.any.some(function(n){return!!gt[n]}):Ke.isPR=K_(e.pr);break;default:Ke.isPR=null}});Ke.isCI=!!(gt.CI||gt.CONTINUOUS_INTEGRATION||gt.BUILD_NUMBER||gt.RUN_ID||Ke.name);function K_(e){return typeof e=="string"?!!gt[e]:Object.keys(e).every(function(t){return gt[t]===e[t]})}});var Q_=l(($k,z_)=>{"use strict";z_.exports=X_().isCI});var J_=l((Vk,Z_)=>{"use strict";Z_.exports=(...e)=>[...new Set([].concat(...e))]});var $c=l((Wk,rg)=>{"use strict";var vI=O("stream"),eg=vI.PassThrough,TI=Array.prototype.slice;rg.exports=RI;function RI(){let e=[],t=TI.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=eg(n);function a(){for(let d=0,p=arguments.length;d<p;d++)e.push(tg(arguments[d],n));return u(),this}function u(){if(r)return;r=!0;let d=e.shift();if(!d){process.nextTick(c);return}Array.isArray(d)||(d=[d]);let p=d.length+1;function f(){--p>0||(r=!1,u())}function h(_){function g(){_.removeListener("merge2UnpipeEnd",g),_.removeListener("end",g),s&&_.removeListener("error",b),f()}function b(v){o.emit("error",v)}if(_._readableState.endEmitted)return f();_.on("merge2UnpipeEnd",g),_.on("end",g),s&&_.on("error",b),_.pipe(o,{end:!1}),_.resume()}for(let _=0;_<d.length;_++)h(d[_]);f()}function c(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(d){d.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function tg(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=tg(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(eg(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var ng=l(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.splitWhen=cn.flatten=void 0;function OI(e){return e.reduce((t,r)=>[].concat(t,r),[])}cn.flatten=OI;function PI(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}cn.splitWhen=PI});var ig=l($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.isEnoentCodeError=void 0;function CI(e){return e.code==="ENOENT"}$s.isEnoentCodeError=CI});var og=l(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.createDirentFromStats=void 0;var sg=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function II(e,t){return new sg(e,t)}Vs.createDirentFromStats=II});var ag=l(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.removeLeadingDotSegment=mt.escape=mt.makeAbsolute=mt.unixify=void 0;var wI=O("path"),NI=2,xI=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function MI(e){return e.replace(/\\/g,"/")}mt.unixify=MI;function LI(e,t){return wI.resolve(e,t)}mt.makeAbsolute=LI;function DI(e){return e.replace(xI,"\\$2")}mt.escape=DI;function BI(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(NI)}return e}mt.removeLeadingDotSegment=BI});var cg=l((Qk,ug)=>{ug.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var dg=l((Zk,lg)=>{var UI=cg(),qI={"{":"}","(":")","[":"]"},FI=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,kI=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;lg.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(UI(t))return!0;var n=FI,i;for(r&&r.strict===!1&&(n=kI);i=n.exec(t);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?qI[o]:null;if(o&&a){var u=t.indexOf(a,s);u!==-1&&(s=u+1)}t=t.slice(s)}return!1}});var fg=l((Jk,pg)=>{"use strict";var jI=dg(),GI=O("path").posix.dirname,HI=O("os").platform()==="win32",Vc="/",$I=/\\/g,VI=/[\{\[].*[\}\]]$/,WI=/(^|[^\\])([\{\[]|\([^\)]+$)/,YI=/\\([\!\*\?\|\[\]\(\)\{\}])/g;pg.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&HI&&t.indexOf(Vc)<0&&(t=t.replace($I,Vc)),VI.test(t)&&(t+=Vc),t+="a";do t=GI(t);while(jI(t)||WI.test(t));return t.replace(YI,"$1")}});var Ag=l(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.matchAny=q.convertPatternsToRe=q.makeRe=q.getPatternParts=q.expandBraceExpansion=q.expandPatternsWithBraceExpansion=q.isAffectDepthOfReadingPattern=q.endsWithSlashGlobStar=q.hasGlobStar=q.getBaseDirectory=q.isPatternRelatedToParentDirectory=q.getPatternsOutsideCurrentDirectory=q.getPatternsInsideCurrentDirectory=q.getPositivePatterns=q.getNegativePatterns=q.isPositivePattern=q.isNegativePattern=q.convertToNegativePattern=q.convertToPositivePattern=q.isDynamicPattern=q.isStaticPattern=void 0;var KI=O("path"),XI=fg(),Wc=lc(),hg="**",zI="\\",QI=/[*?]|^!/,ZI=/\[[^[]*]/,JI=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,ew=/[!*+?@]\([^(]*\)/,tw=/,|\.\./;function _g(e,t={}){return!gg(e,t)}q.isStaticPattern=_g;function gg(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(zI)||QI.test(e)||ZI.test(e)||JI.test(e)||t.extglob!==!1&&ew.test(e)||t.braceExpansion!==!1&&rw(e))}q.isDynamicPattern=gg;function rw(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return tw.test(n)}function nw(e){return Ws(e)?e.slice(1):e}q.convertToPositivePattern=nw;function iw(e){return"!"+e}q.convertToNegativePattern=iw;function Ws(e){return e.startsWith("!")&&e[1]!=="("}q.isNegativePattern=Ws;function mg(e){return!Ws(e)}q.isPositivePattern=mg;function sw(e){return e.filter(Ws)}q.getNegativePatterns=sw;function ow(e){return e.filter(mg)}q.getPositivePatterns=ow;function aw(e){return e.filter(t=>!Yc(t))}q.getPatternsInsideCurrentDirectory=aw;function uw(e){return e.filter(Yc)}q.getPatternsOutsideCurrentDirectory=uw;function Yc(e){return e.startsWith("..")||e.startsWith("./..")}q.isPatternRelatedToParentDirectory=Yc;function cw(e){return XI(e,{flipBackslashes:!1})}q.getBaseDirectory=cw;function lw(e){return e.includes(hg)}q.hasGlobStar=lw;function Eg(e){return e.endsWith("/"+hg)}q.endsWithSlashGlobStar=Eg;function dw(e){let t=KI.basename(e);return Eg(e)||_g(t)}q.isAffectDepthOfReadingPattern=dw;function pw(e){return e.reduce((t,r)=>t.concat(yg(r)),[])}q.expandPatternsWithBraceExpansion=pw;function yg(e){return Wc.braces(e,{expand:!0,nodupes:!0})}q.expandBraceExpansion=yg;function fw(e,t){let{parts:r}=Wc.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}q.getPatternParts=fw;function Sg(e,t){return Wc.makeRe(e,t)}q.makeRe=Sg;function hw(e,t){return e.map(r=>Sg(r,t))}q.convertPatternsToRe=hw;function _w(e,t){return t.some(r=>r.test(e))}q.matchAny=_w});var vg=l(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.merge=void 0;var gw=$c();function mw(e){let t=gw(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>bg(e)),t.once("end",()=>bg(e)),t}Ys.merge=mw;function bg(e){e.forEach(t=>t.emit("close"))}});var Tg=l(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.isEmpty=ln.isString=void 0;function Ew(e){return typeof e=="string"}ln.isString=Ew;function yw(e){return e===""}ln.isEmpty=yw});var Dt=l(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.string=Oe.stream=Oe.pattern=Oe.path=Oe.fs=Oe.errno=Oe.array=void 0;var Sw=ng();Oe.array=Sw;var Aw=ig();Oe.errno=Aw;var bw=og();Oe.fs=bw;var vw=ag();Oe.path=vw;var Tw=Ag();Oe.pattern=Tw;var Rw=vg();Oe.stream=Rw;var Ow=Tg();Oe.string=Ow});var Pg=l(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.convertPatternGroupToTask=Pe.convertPatternGroupsToTasks=Pe.groupPatternsByBaseDirectory=Pe.getNegativePatternsAsPositive=Pe.getPositivePatterns=Pe.convertPatternsToTasks=Pe.generate=void 0;var Bt=Dt();function Pw(e,t){let r=Rg(e),n=Og(e,t.ignore),i=r.filter(u=>Bt.pattern.isStaticPattern(u,t)),s=r.filter(u=>Bt.pattern.isDynamicPattern(u,t)),o=Kc(i,n,!1),a=Kc(s,n,!0);return o.concat(a)}Pe.generate=Pw;function Kc(e,t,r){let n=[],i=Bt.pattern.getPatternsOutsideCurrentDirectory(e),s=Bt.pattern.getPatternsInsideCurrentDirectory(e),o=Xc(i),a=Xc(s);return n.push(...zc(o,t,r)),"."in a?n.push(Qc(".",s,t,r)):n.push(...zc(a,t,r)),n}Pe.convertPatternsToTasks=Kc;function Rg(e){return Bt.pattern.getPositivePatterns(e)}Pe.getPositivePatterns=Rg;function Og(e,t){return Bt.pattern.getNegativePatterns(e).concat(t).map(Bt.pattern.convertToPositivePattern)}Pe.getNegativePatternsAsPositive=Og;function Xc(e){let t={};return e.reduce((r,n)=>{let i=Bt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}Pe.groupPatternsByBaseDirectory=Xc;function zc(e,t,r){return Object.keys(e).map(n=>Qc(n,e[n],t,r))}Pe.convertPatternGroupsToTasks=zc;function Qc(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Bt.pattern.convertToNegativePattern))}}Pe.convertPatternGroupToTask=Qc});var Ig=l(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.removeDuplicateSlashes=dn.transform=void 0;var Cw=/(?!^)\/{2,}/g;function Iw(e){return e.map(t=>Cg(t))}dn.transform=Iw;function Cg(e){return e.replace(Cw,"/")}dn.removeDuplicateSlashes=Cg});var Ng=l(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.read=void 0;function ww(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){wg(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){Zc(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){wg(r,s);return}Zc(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),Zc(r,o)})})}Ks.read=ww;function wg(e,t){e(t)}function Zc(e,t){e(null,t)}});var xg=l(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.read=void 0;function Nw(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Xs.read=Nw});var Mg=l(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.createFileSystemAdapter=Wt.FILE_SYSTEM_ADAPTER=void 0;var zs=O("fs");Wt.FILE_SYSTEM_ADAPTER={lstat:zs.lstat,stat:zs.stat,lstatSync:zs.lstatSync,statSync:zs.statSync};function xw(e){return e===void 0?Wt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Wt.FILE_SYSTEM_ADAPTER),e)}Wt.createFileSystemAdapter=xw});var Dg=l(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});var Mw=Mg(),Lg=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Mw.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t!=null?t:r}};Jc.default=Lg});var mr=l(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.statSync=Yt.stat=Yt.Settings=void 0;var Bg=Ng(),Lw=xg(),el=Dg();Yt.Settings=el.default;function Dw(e,t,r){if(typeof t=="function"){Bg.read(e,tl(),t);return}Bg.read(e,tl(t),r)}Yt.stat=Dw;function Bw(e,t){let r=tl(t);return Lw.read(e,r)}Yt.statSync=Bw;function tl(e={}){return e instanceof el.default?e:new el.default(e)}});var Fg=l((dj,qg)=>{var Ug;qg.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):e=>(Ug||(Ug=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var jg=l((pj,kg)=>{kg.exports=qw;var Uw=Fg();function qw(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function c(){t&&t(u,r),t=null}s?Uw(c):c()}function a(u,c,d){r[u]=d,(--n==0||c)&&o(c)}n?i?i.forEach(function(u){e[u](function(c,d){a(u,c,d)})}):e.forEach(function(u,c){u(function(d,p){a(c,d,p)})}):o(null),s=!1}});var rl=l(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Qs=process.versions.node.split(".");if(Qs[0]===void 0||Qs[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Gg=Number.parseInt(Qs[0],10),Fw=Number.parseInt(Qs[1],10),Hg=10,kw=10,jw=Gg>Hg,Gw=Gg===Hg&&Fw>=kw;Zs.IS_SUPPORT_READDIR_WITH_FILE_TYPES=jw||Gw});var Vg=l(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.createDirentFromStats=void 0;var $g=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Hw(e,t){return new $g(e,t)}Js.createDirentFromStats=Hw});var nl=l(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.fs=void 0;var $w=Vg();eo.fs=$w});var il=l(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.joinPathSegments=void 0;function Vw(e,t,r){return e.endsWith(r)?e+t:e+r+t}to.joinPathSegments=Vw});var Qg=l(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.readdir=Kt.readdirWithFileTypes=Kt.read=void 0;var Ww=mr(),Wg=jg(),Yw=rl(),Yg=nl(),Kg=il();function Kw(e,t,r){if(!t.stats&&Yw.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Xg(e,t,r);return}zg(e,t,r)}Kt.read=Kw;function Xg(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){ro(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:Kg.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){sl(r,s);return}let o=s.map(a=>Xw(a,t));Wg(o,(a,u)=>{if(a!==null){ro(r,a);return}sl(r,u)})})}Kt.readdirWithFileTypes=Xg;function Xw(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=Yg.fs.createDirentFromStats(e.name,i),r(null,e)})}}function zg(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){ro(r,n);return}let s=i.map(o=>{let a=Kg.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{Ww.stat(a,t.fsStatSettings,(c,d)=>{if(c!==null){u(c);return}let p={name:o,path:a,dirent:Yg.fs.createDirentFromStats(o,d)};t.stats&&(p.stats=d),u(null,p)})}});Wg(s,(o,a)=>{if(o!==null){ro(r,o);return}sl(r,a)})})}Kt.readdir=zg;function ro(e,t){e(t)}function sl(e,t){e(null,t)}});var rm=l(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.readdir=Xt.readdirWithFileTypes=Xt.read=void 0;var zw=mr(),Qw=rl(),Zg=nl(),Jg=il();function Zw(e,t){return!t.stats&&Qw.IS_SUPPORT_READDIR_WITH_FILE_TYPES?em(e,t):tm(e,t)}Xt.read=Zw;function em(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Jg.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=Zg.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}Xt.readdirWithFileTypes=em;function tm(e,t){return t.fs.readdirSync(e).map(n=>{let i=Jg.joinPathSegments(e,n,t.pathSegmentSeparator),s=zw.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:Zg.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}Xt.readdir=tm});var nm=l(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.createFileSystemAdapter=zt.FILE_SYSTEM_ADAPTER=void 0;var pn=O("fs");zt.FILE_SYSTEM_ADAPTER={lstat:pn.lstat,stat:pn.stat,lstatSync:pn.lstatSync,statSync:pn.statSync,readdir:pn.readdir,readdirSync:pn.readdirSync};function Jw(e){return e===void 0?zt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},zt.FILE_SYSTEM_ADAPTER),e)}zt.createFileSystemAdapter=Jw});var sm=l(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});var eN=O("path"),tN=mr(),rN=nm(),im=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=rN.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,eN.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new tN.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t!=null?t:r}};ol.default=im});var no=l(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Settings=Qt.scandirSync=Qt.scandir=void 0;var om=Qg(),nN=rm(),al=sm();Qt.Settings=al.default;function iN(e,t,r){if(typeof t=="function"){om.read(e,ul(),t);return}om.read(e,ul(t),r)}Qt.scandir=iN;function sN(e,t){let r=ul(t);return nN.read(e,r)}Qt.scandirSync=sN;function ul(e={}){return e instanceof al.default?e:new al.default(e)}});var um=l((bj,am)=>{"use strict";function oN(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}am.exports=oN});var lm=l((vj,cl)=>{"use strict";var aN=um();function cm(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=aN(uN),i=null,s=null,o=0,a=null,u={push:g,drain:Et,saturated:Et,pause:d,paused:!1,concurrency:r,running:c,resume:h,idle:_,length:p,getQueue:f,unshift:b,empty:Et,kill:S,killAndDrain:A,error:G};return u;function c(){return o}function d(){u.paused=!0}function p(){for(var N=i,L=0;N;)N=N.next,L++;return L}function f(){for(var N=i,L=[];N;)L.push(N.value),N=N.next;return L}function h(){if(!!u.paused){u.paused=!1;for(var N=0;N<u.concurrency;N++)o++,v()}}function _(){return o===0&&u.length()===0}function g(N,L){var P=n.get();P.context=e,P.release=v,P.value=N,P.callback=L||Et,P.errorHandler=a,o===u.concurrency||u.paused?s?(s.next=P,s=P):(i=P,s=P,u.saturated()):(o++,t.call(e,P.value,P.worked))}function b(N,L){var P=n.get();P.context=e,P.release=v,P.value=N,P.callback=L||Et,o===u.concurrency||u.paused?i?(P.next=i,i=P):(i=P,s=P,u.saturated()):(o++,t.call(e,P.value,P.worked))}function v(N){N&&n.release(N);var L=i;L?u.paused?o--:(s===i&&(s=null),i=L.next,L.next=null,t.call(e,L.value,L.worked),s===null&&u.empty()):--o==0&&u.drain()}function S(){i=null,s=null,u.drain=Et}function A(){i=null,s=null,u.drain(),u.drain=Et}function G(N){a=N}}function Et(){}function uN(){this.value=null,this.callback=Et,this.next=null,this.release=Et,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=Et,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function cN(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(c,d){t.call(this,c).then(function(p){d(null,p)},d)}var i=cm(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i;function a(c){return new Promise(function(d,p){s(c,function(f,h){if(f){p(f);return}d(h)})})}function u(c){return new Promise(function(d,p){o(c,function(f,h){if(f){p(f);return}d(h)})})}}cl.exports=cm;cl.exports.promise=cN});var io=l(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.joinPathSegments=yt.replacePathSegmentSeparator=yt.isAppliedFilter=yt.isFatalError=void 0;function lN(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}yt.isFatalError=lN;function dN(e,t){return e===null||e(t)}yt.isAppliedFilter=dN;function pN(e,t){return e.split(/[/\\]/).join(t)}yt.replacePathSegmentSeparator=pN;function fN(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}yt.joinPathSegments=fN});var dl=l(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});var hN=io(),dm=class{constructor(t,r){this._root=t,this._settings=r,this._root=hN.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};ll.default=dm});var fl=l(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});var _N=O("events"),gN=no(),mN=lm(),so=io(),EN=dl(),pm=class extends EN.default{constructor(t,r){super(t,r);this._settings=r,this._scandir=gN.scandir,this._emitter=new _N.EventEmitter,this._queue=mN(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!so.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=so.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),so.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&so.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};pl.default=pm});var hm=l(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});var yN=fl(),fm=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new yN.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{SN(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{AN(t,this._storage)}),this._reader.read()}};hl.default=fm;function SN(e,t){e(t)}function AN(e,t){e(null,t)}});var gm=l(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var bN=O("stream"),vN=fl(),_m=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new vN.default(this._root,this._settings),this._stream=new bN.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};_l.default=_m});var Em=l(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var TN=no(),oo=io(),RN=dl(),mm=class extends RN.default{constructor(){super(...arguments);this._scandir=TN.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!oo.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=oo.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),oo.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&oo.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};gl.default=mm});var Sm=l(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});var ON=Em(),ym=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new ON.default(this._root,this._settings)}read(){return this._reader.read()}};ml.default=ym});var bm=l(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});var PN=O("path"),CN=no(),Am=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,PN.sep),this.fsScandirSettings=new CN.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t!=null?t:r}};El.default=Am});var Sl=l(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.Settings=St.walkStream=St.walkSync=St.walk=void 0;var vm=hm(),IN=gm(),wN=Sm(),yl=bm();St.Settings=yl.default;function NN(e,t,r){if(typeof t=="function"){new vm.default(e,ao()).read(t);return}new vm.default(e,ao(t)).read(r)}St.walk=NN;function xN(e,t){let r=ao(t);return new wN.default(e,r).read()}St.walkSync=xN;function MN(e,t){let r=ao(t);return new IN.default(e,r).read()}St.walkStream=MN;function ao(e={}){return e instanceof yl.default?e:new yl.default(e)}});var bl=l(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});var LN=O("path"),DN=mr(),Tm=Dt(),Rm=class{constructor(t){this._settings=t,this._fsStatSettings=new DN.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return LN.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:Tm.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!Tm.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Al.default=Rm});var Tl=l(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});var BN=O("stream"),UN=mr(),qN=Sl(),FN=bl(),Om=class extends FN.default{constructor(){super(...arguments);this._walkStream=qN.walkStream,this._stat=UN.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new BN.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};vl.default=Om});var Cm=l(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});var fn=Dt(),Pm=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=fn.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return fn.pattern.getPatternParts(t,this._micromatchOptions).map(n=>fn.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:fn.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return fn.array.splitWhen(t,r=>r.dynamic&&fn.pattern.hasGlobStar(r.pattern))}};Rl.default=Pm});var wm=l(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});var kN=Cm(),Im=class extends kN.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,c)=>{let d=s.segments[c];return!!(d.dynamic&&d.patternRe.test(u)||!d.dynamic&&d.pattern===u)}))return!0}return!1}};Ol.default=Im});var xm=l(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});var uo=Dt(),jN=wm(),Nm=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new jN.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(uo.pattern.isAffectDepthOfReadingPattern);return uo.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=uo.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===Infinity?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!uo.pattern.matchAny(t,r)}};Pl.default=Nm});var Lm=l(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});var Er=Dt(),Mm=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Er.pattern.convertPatternsToRe(t,this._micromatchOptions),i=Er.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Er.path.makeAbsolute(this._settings.cwd,t);return Er.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=Er.path.removeLeadingDotSegment(t);return Er.pattern.matchAny(n,r)||Er.pattern.matchAny(n+"/",r)}};Cl.default=Mm});var Bm=l(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});var GN=Dt(),Dm=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return GN.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};Il.default=Dm});var Fm=l(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});var Um=Dt(),qm=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=Um.path.makeAbsolute(this._settings.cwd,r),r=Um.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};wl.default=qm});var co=l(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});var HN=O("path"),$N=xm(),VN=Lm(),WN=Bm(),YN=Fm(),km=class{constructor(t){this._settings=t,this.errorFilter=new WN.default(this._settings),this.entryFilter=new VN.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new $N.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new YN.default(this._settings)}_getRootDirectory(t){return HN.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Nl.default=km});var Gm=l(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});var KN=Tl(),XN=co(),jm=class extends XN.default{constructor(){super(...arguments);this._reader=new KN.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((s,o)=>{let a=this.api(r,t,n);a.once("error",o),a.on("data",u=>i.push(n.transform(u))),a.once("end",()=>s(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};xl.default=jm});var $m=l(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});var zN=O("stream"),QN=Tl(),ZN=co(),Hm=class extends ZN.default{constructor(){super(...arguments);this._reader=new QN.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new zN.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Ml.default=Hm});var Wm=l(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});var JN=mr(),ex=Sl(),tx=bl(),Vm=class extends tx.default{constructor(){super(...arguments);this._walkSync=ex.walkSync,this._statSync=JN.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Ll.default=Vm});var Km=l(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});var rx=Wm(),nx=co(),Ym=class extends nx.default{constructor(){super(...arguments);this._reader=new rx.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Dl.default=Ym});var zm=l(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var hn=O("fs"),ix=O("os"),sx=Math.max(ix.cpus().length,1);_n.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:hn.lstat,lstatSync:hn.lstatSync,stat:hn.stat,statSync:hn.statSync,readdir:hn.readdir,readdirSync:hn.readdirSync};var Xm=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,sx),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,Infinity),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},_n.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};_n.default=Xm});var Fl=l((Yj,Jm)=>{"use strict";var Qm=Pg(),Zm=Ig(),ox=Gm(),ax=$m(),ux=Km(),Bl=zm(),yr=Dt();async function Ul(e,t){gn(e);let r=ql(e,ox.default,t),n=await Promise.all(r);return yr.array.flatten(n)}(function(e){function t(o,a){gn(o);let u=ql(o,ux.default,a);return yr.array.flatten(u)}e.sync=t;function r(o,a){gn(o);let u=ql(o,ax.default,a);return yr.stream.merge(u)}e.stream=r;function n(o,a){gn(o);let u=Zm.transform([].concat(o)),c=new Bl.default(a);return Qm.generate(u,c)}e.generateTasks=n;function i(o,a){gn(o);let u=new Bl.default(a);return yr.pattern.isDynamicPattern(o,u)}e.isDynamicPattern=i;function s(o){return gn(o),yr.path.escape(o)}e.escapePath=s})(Ul||(Ul={}));function ql(e,t,r){let n=Zm.transform([].concat(e)),i=new Bl.default(r),s=Qm.generate(n,i),o=new t(i);return s.map(o.read,o)}function gn(e){if(![].concat(e).every(n=>yr.string.isString(n)&&!yr.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Jm.exports=Ul});var tE=l(Sr=>{"use strict";var{promisify:cx}=O("util"),eE=O("fs");async function kl(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await cx(eE[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function jl(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return eE[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}Sr.isFile=kl.bind(null,"stat","isFile");Sr.isDirectory=kl.bind(null,"stat","isDirectory");Sr.isSymlink=kl.bind(null,"lstat","isSymbolicLink");Sr.isFileSync=jl.bind(null,"statSync","isFile");Sr.isDirectorySync=jl.bind(null,"statSync","isDirectory");Sr.isSymlinkSync=jl.bind(null,"lstatSync","isSymbolicLink")});var oE=l((Xj,Gl)=>{"use strict";var Ar=O("path"),rE=tE(),nE=e=>e.length>1?`{${e.join(",")}}`:e[0],iE=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return Ar.isAbsolute(r)?r:Ar.join(t,r)},lx=(e,t)=>Ar.extname(e)?`**/${e}`:`**/${e}.${nE(t)}`,sE=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>Ar.posix.join(e,lx(r,t.extensions))):t.files?t.files.map(r=>Ar.posix.join(e,`**/${r}`)):t.extensions?[Ar.posix.join(e,`**/*.${nE(t.extensions)}`)]:[Ar.posix.join(e,"**")]};Gl.exports=async(e,t)=>{if(t=D({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await rE.isDirectory(iE(n,t.cwd))?sE(n,t):n));return[].concat.apply([],r)};Gl.exports.sync=(e,t)=>{if(t=D({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>rE.isDirectorySync(iE(n,t.cwd))?sE(n,t):n);return[].concat.apply([],r)}});var mE=l((zj,gE)=>{function aE(e){return Array.isArray(e)?e:[e]}var uE="",cE=" ",Hl="\\",dx=/^\s+$/,px=/^\\!/,fx=/^\\#/,hx=/\r?\n/g,_x=/^\.*\/|^\.+$/,$l="/",lE=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",gx=(e,t,r)=>Object.defineProperty(e,t,{value:r}),mx=/([0-z])-([0-z])/g,dE=()=>!1,Ex=e=>e.replace(mx,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:uE),yx=e=>{let{length:t}=e;return e.slice(0,t-t%2)},Sx=[[/\\?\s+$/,e=>e.indexOf("\\")===0?cE:uE],[/\\\s/g,()=>cE],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Hl],[/\\\\/g,()=>Hl],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===Hl?`\\[${r}${yx(n)}${i}`:i==="]"&&n.length%2==0?`[${Ex(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],pE=Object.create(null),Ax=(e,t)=>{let r=pE[e];return r||(r=Sx.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),pE[e]=r),t?new RegExp(r,"i"):new RegExp(r)},Vl=e=>typeof e=="string",bx=e=>e&&Vl(e)&&!dx.test(e)&&e.indexOf("#")!==0,vx=e=>e.split(hx),fE=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},Tx=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(px,"!").replace(fx,"#");let i=Ax(e,t);return new fE(r,e,n,i)},Rx=(e,t)=>{throw new t(e)},Ut=(e,t,r)=>Vl(e)?e?Ut.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),hE=e=>_x.test(e);Ut.isNotRelative=hE;Ut.convert=e=>e;var _E=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){gx(this,lE,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[lE]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(bx(t)){let r=Tx(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,aE(Vl(t)?vx(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Ut.convert(t);return Ut(s,t,this._allowRelativePaths?dE:Rx),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split($l)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join($l)+$l,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return aE(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},lo=e=>new _E(e),Ox=e=>Ut(e&&Ut.convert(e),e,dE);lo.isPathValid=Ox;lo.default=lo;gE.exports=lo;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Ut.convert=e;let t=/^[a-z]:\//i;Ut.isNotRelative=r=>t.test(r)||hE(r)}});var yE=l((Qj,EE)=>{"use strict";EE.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var OE=l((Zj,Wl)=>{"use strict";var{promisify:Px}=O("util"),SE=O("fs"),qt=O("path"),AE=Fl(),Cx=mE(),Ti=yE(),bE=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],Ix=Px(SE.readFile),wx=e=>t=>t.startsWith("!")?"!"+qt.posix.join(e,t.slice(1)):qt.posix.join(e,t),Nx=(e,t)=>{let r=Ti(qt.relative(t.cwd,qt.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(wx(r))},vE=e=>{let t=Cx();for(let r of e)t.add(Nx(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},xx=(e,t)=>{if(e=Ti(e),qt.isAbsolute(t)){if(Ti(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return qt.join(e,t)},TE=(e,t)=>r=>e.ignores(Ti(qt.relative(t,xx(t,r.path||r)))),Mx=async(e,t)=>{let r=qt.join(t,e),n=await Ix(r,"utf8");return{cwd:t,filePath:r,content:n}},Lx=(e,t)=>{let r=qt.join(t,e),n=SE.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},RE=({ignore:e=[],cwd:t=Ti(process.cwd())}={})=>({ignore:e,cwd:t});Wl.exports=async e=>{e=RE(e);let t=await AE("**/.gitignore",{ignore:bE.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>Mx(i,e.cwd))),n=vE(r);return TE(n,e.cwd)};Wl.exports.sync=e=>{e=RE(e);let r=AE.sync("**/.gitignore",{ignore:bE.concat(e.ignore),cwd:e.cwd}).map(i=>Lx(i,e.cwd)),n=vE(r);return TE(n,e.cwd)}});var wE=l((Jj,IE)=>{"use strict";var{Transform:Dx}=O("stream"),Yl=class extends Dx{constructor(){super({objectMode:!0})}},PE=class extends Yl{constructor(t){super();this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},CE=class extends Yl{constructor(){super();this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};IE.exports={FilterStream:PE,UniqueStream:CE}});var DE=l((e2,br)=>{"use strict";var NE=O("fs"),po=J_(),Bx=$c(),fo=Fl(),ho=oE(),Kl=OE(),{FilterStream:Ux,UniqueStream:qx}=wE(),xE=()=>!1,ME=e=>e[0]==="!",Fx=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},kx=(e={})=>{if(!e.cwd)return;let t;try{t=NE.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},jx=e=>e.stats instanceof NE.Stats?e.path:e,_o=(e,t)=>{e=po([].concat(e)),Fx(e),kx(t);let r=[];t=D({ignore:[],expandDirectories:!0},t);for(let[n,i]of e.entries()){if(ME(i))continue;let s=e.slice(n).filter(a=>ME(a)).map(a=>a.slice(1)),o=ue(D({},t),{ignore:t.ignore.concat(s)});r.push({pattern:i,options:o})}return r},Gx=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r=ue(D({},r),{files:e.options.expandDirectories}):typeof e.options.expandDirectories=="object"&&(r=D(D({},r),e.options.expandDirectories)),t(e.pattern,r)},Xl=(e,t)=>e.options.expandDirectories?Gx(e,t):[e.pattern],LE=e=>e&&e.gitignore?Kl.sync({cwd:e.cwd,ignore:e.ignore}):xE,zl=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=ho.sync(r.ignore)),{pattern:t,options:r}};br.exports=async(e,t)=>{let r=_o(e,t),n=async()=>t&&t.gitignore?Kl({cwd:t.cwd,ignore:t.ignore}):xE,i=async()=>{let u=await Promise.all(r.map(async c=>{let d=await Xl(c,ho);return Promise.all(d.map(zl(c)))}));return po(...u)},[s,o]=await Promise.all([n(),i()]),a=await Promise.all(o.map(u=>fo(u.pattern,u.options)));return po(...a).filter(u=>!s(jx(u)))};br.exports.sync=(e,t)=>{let r=_o(e,t),n=[];for(let o of r){let a=Xl(o,ho.sync).map(zl(o));n.push(...a)}let i=LE(t),s=[];for(let o of n)s=po(s,fo.sync(o.pattern,o.options));return s.filter(o=>!i(o))};br.exports.stream=(e,t)=>{let r=_o(e,t),n=[];for(let a of r){let u=Xl(a,ho.sync).map(zl(a));n.push(...u)}let i=LE(t),s=new Ux(a=>!i(a)),o=new qx;return Bx(n.map(a=>fo.stream(a.pattern,a.options))).pipe(s).pipe(o)};br.exports.generateGlobTasks=_o;br.exports.hasMagic=(e,t)=>[].concat(e).some(r=>fo.isDynamicPattern(r,t));br.exports.gitignore=Kl});var UE=l((t2,Ql)=>{"use strict";var Hx=Object.prototype.hasOwnProperty,De="~";function Ri(){}Object.create&&(Ri.prototype=Object.create(null),new Ri().__proto__||(De=!1));function $x(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function BE(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new $x(r,n||e,i),o=De?De+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}function go(e,t){--e._eventsCount==0?e._events=new Ri:delete e._events[t]}function Ce(){this._events=new Ri,this._eventsCount=0}Ce.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)Hx.call(r,n)&&t.push(De?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Ce.prototype.listeners=function(t){var r=De?De+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};Ce.prototype.listenerCount=function(t){var r=De?De+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Ce.prototype.emit=function(t,r,n,i,s,o){var a=De?De+t:t;if(!this._events[a])return!1;var u=this._events[a],c=arguments.length,d,p;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,s),!0;case 6:return u.fn.call(u.context,r,n,i,s,o),!0}for(p=1,d=new Array(c-1);p<c;p++)d[p-1]=arguments[p];u.fn.apply(u.context,d)}else{var f=u.length,h;for(p=0;p<f;p++)switch(u[p].once&&this.removeListener(t,u[p].fn,void 0,!0),c){case 1:u[p].fn.call(u[p].context);break;case 2:u[p].fn.call(u[p].context,r);break;case 3:u[p].fn.call(u[p].context,r,n);break;case 4:u[p].fn.call(u[p].context,r,n,i);break;default:if(!d)for(h=1,d=new Array(c-1);h<c;h++)d[h-1]=arguments[h];u[p].fn.apply(u[p].context,d)}}return!0};Ce.prototype.on=function(t,r,n){return BE(this,t,r,n,!1)};Ce.prototype.once=function(t,r,n){return BE(this,t,r,n,!0)};Ce.prototype.removeListener=function(t,r,n,i){var s=De?De+t:t;if(!this._events[s])return this;if(!r)return go(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&go(this,s);else{for(var a=0,u=[],c=o.length;a<c;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[s]=u.length===1?u[0]:u:go(this,s)}return this};Ce.prototype.removeAllListeners=function(t){var r;return t?(r=De?De+t:t,this._events[r]&&go(this,r)):(this._events=new Ri,this._eventsCount=0),this};Ce.prototype.off=Ce.prototype.removeListener;Ce.prototype.addListener=Ce.prototype.on;Ce.prefixed=De;Ce.EventEmitter=Ce;typeof Ql!="undefined"&&(Ql.exports=Ce)});var FE=l((r2,qE)=>{"use strict";qE.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var jE=l((n2,mo)=>{"use strict";var Vx=FE(),Zl=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},kE=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){n(e);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let o=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new Zl(o);typeof e.cancel=="function"&&e.cancel(),i(a)},t);Vx(e.then(n,i),()=>{clearTimeout(s)})});mo.exports=kE;mo.exports.default=kE;mo.exports.TimeoutError=Zl});var GE=l(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});function Wx(e,t,r){let n=0,i=e.length;for(;i>0;){let s=i/2|0,o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}Jl.default=Wx});var $E=l(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});var Yx=GE(),HE=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=Yx.default(this._queue,n,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};ed.default=HE});var YE=l(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});var Kx=UE(),VE=jE(),Xx=$E(),Eo=()=>{},zx=new VE.TimeoutError,WE=class extends Kx{constructor(t){var r,n,i,s;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Eo,this._resolveIdle=Eo,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:Xx.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===Infinity||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Eo,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Eo,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?t():VE.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(zx)});n(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};td.default=WE});var XE=l((a2,rd)=>{"use strict";var KE=(e,...t)=>new Promise(r=>{r(e(...t))});rd.exports=KE;rd.exports.default=KE});var QE=l((u2,nd)=>{"use strict";var Qx=XE(),zE=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...c)=>{r++;let d=Qx(a,...c);u(d),d.then(n,n)},s=(a,u,...c)=>{r<e?i(a,u,...c):t.push(i.bind(null,a,u,...c))},o=(a,...u)=>new Promise(c=>s(a,c,...u));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};nd.exports=zE;nd.exports.default=zE});var JE=l(sd=>{"use strict";var id=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};sd.Semaphore=id;var ZE=class extends id{constructor(){super(1)}};sd.Mutex=ZE});var ty=l((l2,ey)=>{"use strict";ey.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var od=l((d2,ry)=>{"use strict";var Zx=ty();ry.exports=e=>typeof e=="string"?e.replace(Zx(),""):e});var iy=l((p2,ad)=>{"use strict";var ny=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);ad.exports=ny;ad.exports.default=ny});var ay=l((f2,oy)=>{"use strict";var sy="[\uD800-\uDBFF][\uDC00-\uDFFF]",Jx=e=>e&&e.exact?new RegExp(`^${sy}$`):new RegExp(sy,"g");oy.exports=Jx});var cy=l((h2,uy)=>{"use strict";uy.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var ud=l((_2,dy)=>{var Oi=cy(),ly={};for(let e of Object.keys(Oi))ly[Oi[e]]=e;var I={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};dy.exports=I;for(let e of Object.keys(I)){if(!("channels"in I[e]))throw new Error("missing channels property: "+e);if(!("labels"in I[e]))throw new Error("missing channel labels property: "+e);if(I[e].labels.length!==I[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=I[e];delete I[e].channels,delete I[e].labels,Object.defineProperty(I[e],"channels",{value:t}),Object.defineProperty(I[e],"labels",{value:r})}I.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,u;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};I.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(o,a,u),d=c-Math.min(o,a,u),p=function(f){return(c-f)/6/d+1/2};return d===0?(i=0,s=0):(s=d/c,t=p(o),r=p(a),n=p(u),o===c?i=n-r:a===c?i=1/3+t-n:u===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};I.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=I.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};I.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function eM(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}I.rgb.keyword=function(e){let t=ly[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(Oi)){let s=Oi[i],o=eM(e,s);o<r&&(r=o,n=i)}return n};I.keyword.rgb=function(e){return Oi[e]};I.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};I.rgb.lab=function(e){let t=I.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};I.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};I.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};I.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};I.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};I.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!=0&&(s=1-s);let u=r+s*(a-r),c,d,p;switch(o){default:case 6:case 0:c=a,d=u,p=r;break;case 1:c=u,d=a,p=r;break;case 2:c=r,d=a,p=u;break;case 3:c=r,d=u,p=a;break;case 4:c=u,d=r,p=a;break;case 5:c=a,d=r,p=u;break}return[c*255,d*255,p*255]};I.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};I.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};I.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};I.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};I.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};I.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};I.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?I.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};I.hsv.ansi16=function(e){return I.rgb.ansi16(I.hsv.rgb(e),e[2])};I.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};I.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};I.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};I.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};I.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};I.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===t?u=(r-n)/o%6:i===r?u=2+(n-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};I.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};I.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};I.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};I.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};I.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};I.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};I.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};I.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};I.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};I.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};I.gray.hsl=function(e){return[0,0,e[0]]};I.gray.hsv=I.gray.hsl;I.gray.hwb=function(e){return[0,100,e[0]]};I.gray.cmyk=function(e){return[0,0,0,e[0]]};I.gray.lab=function(e){return[e[0],0,0]};I.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};I.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var fy=l((g2,py)=>{var yo=ud();function tM(){let e={},t=Object.keys(yo);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function rM(e){let t=tM(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(yo[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function nM(e,t){return function(r){return t(e(r))}}function iM(e,t){let r=[t[e].parent,e],n=yo[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=nM(yo[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}py.exports=function(e){let t=rM(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=iM(o,t))}return r}});var _y=l((m2,hy)=>{var cd=ud(),sM=fy(),mn={},oM=Object.keys(cd);function aM(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function uM(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}oM.forEach(e=>{mn[e]={},Object.defineProperty(mn[e],"channels",{value:cd[e].channels}),Object.defineProperty(mn[e],"labels",{value:cd[e].labels});let t=sM(e);Object.keys(t).forEach(n=>{let i=t[n];mn[e][n]=uM(i),mn[e][n].raw=aM(i)})});hy.exports=mn});var Ay=l((E2,Sy)=>{"use strict";var gy=(e,t)=>(...r)=>`[${e(...r)+t}m`,my=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};5;${n}m`},Ey=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},So=e=>e,yy=(e,t,r)=>[e,t,r],En=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},ld,yn=(e,t,r,n)=>{ld===void 0&&(ld=_y());let i=n?10:0,s={};for(let[o,a]of Object.entries(ld)){let u=o==="ansi16"?"ansi":o;o===t?s[u]=e(r,i):typeof a=="object"&&(s[u]=e(a[t],i))}return s};function cM(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",En(t.color,"ansi",()=>yn(gy,"ansi16",So,!1)),En(t.color,"ansi256",()=>yn(my,"ansi256",So,!1)),En(t.color,"ansi16m",()=>yn(Ey,"rgb",yy,!1)),En(t.bgColor,"ansi",()=>yn(gy,"ansi16",So,!0)),En(t.bgColor,"ansi256",()=>yn(my,"ansi256",So,!0)),En(t.bgColor,"ansi16m",()=>yn(Ey,"rgb",yy,!0)),t}Object.defineProperty(Sy,"exports",{enumerable:!0,get:cM})});var Oy=l((y2,Ry)=>{"use strict";var lM=iy(),dM=ay(),by=Ay(),vy=["","\x9B"],Ao=e=>`${vy[0]}[${e}m`,Ty=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let s=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let o=by.codes.get(Number.parseInt(i,10));if(o){let a=e.indexOf(o.toString());a===-1?n.push(Ao(t?o:s)):e.splice(a,1)}else if(t){n.push(Ao(0));break}else n.push(Ao(s))}if(t&&(n=n.filter((i,s)=>n.indexOf(i)===s),r!==void 0)){let i=Ao(by.codes.get(Number.parseInt(r,10)));n=n.reduce((s,o)=>o===i?[o,...s]:[...s,o],[])}return n.join("")};Ry.exports=(e,t,r)=>{let n=[...e],i=[],s=typeof r=="number"?r:n.length,o=!1,a,u=0,c="";for(let[d,p]of n.entries()){let f=!1;if(vy.includes(p)){let h=/\d[^m]*/.exec(e.slice(d,d+18));a=h&&h.length>0?h[0]:void 0,u<s&&(o=!0,a!==void 0&&i.push(a))}else o&&p==="m"&&(o=!1,f=!0);if(!o&&!f&&u++,!dM({exact:!0}).test(p)&&lM(p.codePointAt())&&(u++,typeof r!="number"&&s++),u>t&&u<=s)c+=p;else if(u===t&&!o&&a!==void 0)c=Ty(i);else if(u>=s){c+=Ty(i,!0,a);break}}return c}});var Cy=l(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0})});var Iy=l(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo._globalThis=void 0;bo._globalThis=typeof globalThis=="object"?globalThis:global});var wy=l(vr=>{"use strict";var pM=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fM=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pM(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});fM(Iy(),vr)});var Ny=l(Tr=>{"use strict";var hM=Tr&&Tr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_M=Tr&&Tr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hM(t,e,r)};Object.defineProperty(Tr,"__esModule",{value:!0});_M(wy(),Tr)});var dd=l(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.VERSION=void 0;vo.VERSION="1.1.0"});var Ly=l(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.isCompatible=Sn._makeCompatibilityCheck=void 0;var gM=dd(),xy=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function My(e){var t=new Set([e]),r=new Set,n=e.match(xy);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function s(a){return r.add(a),!1}function o(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var c=u.match(xy);if(!c)return s(u);var d={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return d.prerelease!=null||i.major!==d.major?s(u):i.major===0?i.minor===d.minor&&i.patch<=d.patch?o(u):s(u):i.minor<=d.minor?o(u):s(u)}}Sn._makeCompatibilityCheck=My;Sn.isCompatible=My(gM.VERSION)});var An=l(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.unregisterGlobal=Zt.getGlobal=Zt.registerGlobal=void 0;var mM=Ny(),Pi=dd(),EM=Ly(),yM=Pi.VERSION.split(".")[0],Ci=Symbol.for("opentelemetry.js.api."+yM),Ii=mM._globalThis;function SM(e,t,r,n){var i;n===void 0&&(n=!1);var s=Ii[Ci]=(i=Ii[Ci])!==null&&i!==void 0?i:{version:Pi.VERSION};if(!n&&s[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(o.stack||o.message),!1}if(s.version!==Pi.VERSION){var o=new Error("@opentelemetry/api: All API registration versions must match");return r.error(o.stack||o.message),!1}return s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Pi.VERSION+"."),!0}Zt.registerGlobal=SM;function AM(e){var t,r,n=(t=Ii[Ci])===null||t===void 0?void 0:t.version;if(!(!n||!EM.isCompatible(n)))return(r=Ii[Ci])===null||r===void 0?void 0:r[e]}Zt.getGlobal=AM;function bM(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Pi.VERSION+".");var r=Ii[Ci];r&&delete r[e]}Zt.unregisterGlobal=bM});var Dy=l(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.DiagComponentLogger=void 0;var vM=An(),TM=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wi("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wi("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wi("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wi("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return wi("verbose",this._namespace,t)},e}();To.DiagComponentLogger=TM;function wi(e,t,r){var n=vM.getGlobal("diag");if(!!n)return r.unshift(t),n[e].apply(n,r)}});var Ro=l(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.DiagLogLevel=void 0;var RM;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(RM=Ni.DiagLogLevel||(Ni.DiagLogLevel={}))});var By=l(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.createLogLevelDiagLogger=void 0;var Ft=Ro();function OM(e,t){e<Ft.DiagLogLevel.NONE?e=Ft.DiagLogLevel.NONE:e>Ft.DiagLogLevel.ALL&&(e=Ft.DiagLogLevel.ALL),t=t||{};function r(n,i){var s=t[n];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:r("error",Ft.DiagLogLevel.ERROR),warn:r("warn",Ft.DiagLogLevel.WARN),info:r("info",Ft.DiagLogLevel.INFO),debug:r("debug",Ft.DiagLogLevel.DEBUG),verbose:r("verbose",Ft.DiagLogLevel.VERBOSE)}}Oo.createLogLevelDiagLogger=OM});var bn=l(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.DiagAPI=void 0;var PM=Dy(),CM=By(),IM=Ro(),Po=An(),wM="diag",NM=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=Po.getGlobal("diag");if(!!o)return o[n].apply(o,i)}}var r=this;r.setLogger=function(n,i){var s,o;if(i===void 0&&(i=IM.DiagLogLevel.INFO),n===r){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=a.stack)!==null&&s!==void 0?s:a.message),!1}var u=Po.getGlobal("diag"),c=CM.createLogLevelDiagLogger(i,n);if(u){var d=(o=new Error().stack)!==null&&o!==void 0?o:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+d),c.warn("Current logger will overwrite one already registered from "+d)}return Po.registerGlobal("diag",c,r,!0)},r.disable=function(){Po.unregisterGlobal(wM,r)},r.createComponentLogger=function(n){return new PM.DiagComponentLogger(n)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();Co.DiagAPI=NM});var Uy=l(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.BaggageImpl=void 0;var xM=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(!!r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=t[0],n=t[1];return[r,n]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,s=t;i<s.length;i++){var o=s[i];n._entries.delete(o)}return n},e.prototype.clear=function(){return new e},e}();Io.BaggageImpl=xM});var qy=l(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.baggageEntryMetadataSymbol=void 0;wo.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var pd=l(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.baggageEntryMetadataFromString=vn.createBaggage=void 0;var MM=bn(),LM=Uy(),DM=qy(),BM=MM.DiagAPI.instance();function UM(e){return e===void 0&&(e={}),new LM.BaggageImpl(new Map(Object.entries(e)))}vn.createBaggage=UM;function qM(e){return typeof e!="string"&&(BM.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:DM.baggageEntryMetadataSymbol,toString:function(){return e}}}vn.baggageEntryMetadataFromString=qM});var ky=l(Fy=>{"use strict";Object.defineProperty(Fy,"__esModule",{value:!0})});var Gy=l(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0})});var $y=l(Hy=>{"use strict";Object.defineProperty(Hy,"__esModule",{value:!0})});var Vy=l(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.DiagConsoleLogger=void 0;var fd=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],FM=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(console){var o=console[n];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,i)}}}for(var r=0;r<fd.length;r++)this[fd[r].n]=t(fd[r].c)}return e}();No.DiagConsoleLogger=FM});var Yy=l(Jt=>{"use strict";var kM=Jt&&Jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wy=Jt&&Jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kM(t,e,r)};Object.defineProperty(Jt,"__esModule",{value:!0});Wy(Vy(),Jt);Wy(Ro(),Jt)});var hd=l(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.defaultTextMapSetter=Tn.defaultTextMapGetter=void 0;Tn.defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}};Tn.defaultTextMapSetter={set:function(e,t,r){e!=null&&(e[t]=r)}}});var Xy=l(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0})});var Qy=l(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0})});var xi=l(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.ROOT_CONTEXT=Rn.createContextKey=void 0;function jM(e){return Symbol.for(e)}Rn.createContextKey=jM;var GM=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var s=new e(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}();Rn.ROOT_CONTEXT=new GM});var Zy=l(On=>{"use strict";var HM=On&&On.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(On,"__esModule",{value:!0});On.NoopContextManager=void 0;var $M=xi(),VM=function(){function e(){}return e.prototype.active=function(){return $M.ROOT_CONTEXT},e.prototype.with=function(t,r,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return r.call.apply(r,HM([n],i))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();On.NoopContextManager=VM});var md=l(Pn=>{"use strict";var WM=Pn&&Pn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.ContextAPI=void 0;var YM=Zy(),_d=An(),Jy=bn(),gd="context",KM=new YM.NoopContextManager,XM=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return _d.registerGlobal(gd,t,Jy.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,WM([t,r,n],s))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return _d.getGlobal(gd)||KM},e.prototype.disable=function(){this._getContextManager().disable(),_d.unregisterGlobal(gd,Jy.DiagAPI.instance())},e}();Pn.ContextAPI=XM});var Ed=l(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.TraceFlags=void 0;var zM;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(zM=Mi.TraceFlags||(Mi.TraceFlags={}))});var xo=l(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.INVALID_SPAN_CONTEXT=At.INVALID_TRACEID=At.INVALID_SPANID=void 0;var QM=Ed();At.INVALID_SPANID="0000000000000000";At.INVALID_TRACEID="00000000000000000000000000000000";At.INVALID_SPAN_CONTEXT={traceId:At.INVALID_TRACEID,spanId:At.INVALID_SPANID,traceFlags:QM.TraceFlags.NONE}});var Lo=l(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.NonRecordingSpan=void 0;var ZM=xo(),JM=function(){function e(t){t===void 0&&(t=ZM.INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();Mo.NonRecordingSpan=JM});var Sd=l(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.getSpanContext=Je.setSpanContext=Je.deleteSpan=Je.setSpan=Je.getSpan=void 0;var e1=xi(),t1=Lo(),yd=e1.createContextKey("OpenTelemetry Context Key SPAN");function eS(e){return e.getValue(yd)||void 0}Je.getSpan=eS;function tS(e,t){return e.setValue(yd,t)}Je.setSpan=tS;function r1(e){return e.deleteValue(yd)}Je.deleteSpan=r1;function n1(e,t){return tS(e,new t1.NonRecordingSpan(t))}Je.setSpanContext=n1;function i1(e){var t;return(t=eS(e))===null||t===void 0?void 0:t.spanContext()}Je.getSpanContext=i1});var Do=l(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.wrapSpanContext=bt.isSpanContextValid=bt.isValidSpanId=bt.isValidTraceId=void 0;var rS=xo(),s1=Lo(),o1=/^([0-9a-f]{32})$/i,a1=/^[0-9a-f]{16}$/i;function nS(e){return o1.test(e)&&e!==rS.INVALID_TRACEID}bt.isValidTraceId=nS;function iS(e){return a1.test(e)&&e!==rS.INVALID_SPANID}bt.isValidSpanId=iS;function u1(e){return nS(e.traceId)&&iS(e.spanId)}bt.isSpanContextValid=u1;function c1(e){return new s1.NonRecordingSpan(e)}bt.wrapSpanContext=c1});var bd=l(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.NoopTracer=void 0;var l1=md(),sS=Sd(),Ad=Lo(),d1=Do(),oS=l1.ContextAPI.getInstance(),p1=function(){function e(){}return e.prototype.startSpan=function(t,r,n){var i=Boolean(r==null?void 0:r.root);if(i)return new Ad.NonRecordingSpan;var s=n&&sS.getSpanContext(n);return f1(s)&&d1.isSpanContextValid(s)?new Ad.NonRecordingSpan(s):new Ad.NonRecordingSpan},e.prototype.startActiveSpan=function(t,r,n,i){var s,o,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);var u=o!=null?o:oS.active(),c=this.startSpan(t,s,u),d=sS.setSpan(u,c);return oS.with(d,a,void 0,c)}},e}();Bo.NoopTracer=p1;function f1(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var vd=l(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.ProxyTracer=void 0;var h1=bd(),_1=new h1.NoopTracer,g1=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):_1},e}();Uo.ProxyTracer=g1});var aS=l(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.NoopTracerProvider=void 0;var m1=bd(),E1=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new m1.NoopTracer},e}();qo.NoopTracerProvider=E1});var Td=l(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.ProxyTracerProvider=void 0;var y1=vd(),S1=aS(),A1=new S1.NoopTracerProvider,b1=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new y1.ProxyTracer(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:A1},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();Fo.ProxyTracerProvider=b1});var cS=l(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0})});var lS=l(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.SamplingDecision=void 0;var v1;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(v1=Li.SamplingDecision||(Li.SamplingDecision={}))});var pS=l(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0})});var fS=l(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.SpanKind=void 0;var T1;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(T1=Di.SpanKind||(Di.SpanKind={}))});var _S=l(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0})});var mS=l(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0})});var ES=l(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.SpanStatusCode=void 0;var R1;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(R1=Bi.SpanStatusCode||(Bi.SpanStatusCode={}))});var SS=l(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0})});var AS=l(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.validateValue=Cn.validateKey=void 0;var Rd="[_0-9a-z-*/]",O1="[a-z]"+Rd+"{0,255}",P1="[a-z0-9]"+Rd+"{0,240}@[a-z]"+Rd+"{0,13}",C1=new RegExp("^(?:"+O1+"|"+P1+")$"),I1=/^[ -~]{0,255}[!-~]$/,w1=/,|=/;function N1(e){return C1.test(e)}Cn.validateKey=N1;function x1(e){return I1.test(e)&&!w1.test(e)}Cn.validateValue=x1});var OS=l(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.TraceStateImpl=void 0;var bS=AS(),vS=32,M1=512,TS=",",RS="=",L1=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+RS+t.get(n)),r},[]).join(TS)},e.prototype._parse=function(t){t.length>M1||(this._internalState=t.split(TS).reverse().reduce(function(r,n){var i=n.trim(),s=i.indexOf(RS);if(s!==-1){var o=i.slice(0,s),a=i.slice(s+1,n.length);bS.validateKey(o)&&bS.validateValue(a)&&r.set(o,a)}return r},new Map),this._internalState.size>vS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,vS))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();ko.TraceStateImpl=L1});var PS=l(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.createTraceState=void 0;var D1=OS();function B1(e){return new D1.TraceStateImpl(e)}jo.createTraceState=B1});var IS=l(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0})});var NS=l(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0})});var MS=l(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0})});var DS=l(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0})});var FS=l(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.TraceAPI=void 0;var Od=An(),BS=Td(),US=Do(),Ui=Sd(),qS=bn(),Pd="trace",U1=function(){function e(){this._proxyTracerProvider=new BS.ProxyTracerProvider,this.wrapSpanContext=US.wrapSpanContext,this.isSpanContextValid=US.isSpanContextValid,this.deleteSpan=Ui.deleteSpan,this.getSpan=Ui.getSpan,this.getSpanContext=Ui.getSpanContext,this.setSpan=Ui.setSpan,this.setSpanContext=Ui.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=Od.registerGlobal(Pd,this._proxyTracerProvider,qS.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Od.getGlobal(Pd)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Od.unregisterGlobal(Pd,qS.DiagAPI.instance()),this._proxyTracerProvider=new BS.ProxyTracerProvider},e}();Go.TraceAPI=U1});var kS=l(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.NoopTextMapPropagator=void 0;var q1=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}();Ho.NoopTextMapPropagator=q1});var jS=l(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.deleteBaggage=er.setBaggage=er.getBaggage=void 0;var F1=xi(),Cd=F1.createContextKey("OpenTelemetry Baggage Key");function k1(e){return e.getValue(Cd)||void 0}er.getBaggage=k1;function j1(e,t){return e.setValue(Cd,t)}er.setBaggage=j1;function G1(e){return e.deleteValue(Cd)}er.deleteBaggage=G1});var $S=l($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.PropagationAPI=void 0;var Id=An(),H1=kS(),GS=hd(),wd=jS(),$1=pd(),HS=bn(),Nd="propagation",V1=new H1.NoopTextMapPropagator,W1=function(){function e(){this.createBaggage=$1.createBaggage,this.getBaggage=wd.getBaggage,this.setBaggage=wd.setBaggage,this.deleteBaggage=wd.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Id.registerGlobal(Nd,t,HS.DiagAPI.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=GS.defaultTextMapSetter),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=GS.defaultTextMapGetter),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Id.unregisterGlobal(Nd,HS.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return Id.getGlobal(Nd)||V1},e}();$o.PropagationAPI=W1});var F=l(w=>{"use strict";var Y1=w&&w.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ae=w&&w.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Y1(t,e,r)};Object.defineProperty(w,"__esModule",{value:!0});w.diag=w.propagation=w.trace=w.context=w.INVALID_SPAN_CONTEXT=w.INVALID_TRACEID=w.INVALID_SPANID=w.isValidSpanId=w.isValidTraceId=w.isSpanContextValid=w.createTraceState=w.baggageEntryMetadataFromString=void 0;ae(Cy(),w);var K1=pd();Object.defineProperty(w,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return K1.baggageEntryMetadataFromString}});ae(ky(),w);ae(Gy(),w);ae($y(),w);ae(Yy(),w);ae(hd(),w);ae(Xy(),w);ae(Qy(),w);ae(vd(),w);ae(Td(),w);ae(cS(),w);ae(lS(),w);ae(pS(),w);ae(fS(),w);ae(_S(),w);ae(mS(),w);ae(ES(),w);ae(Ed(),w);ae(SS(),w);var X1=PS();Object.defineProperty(w,"createTraceState",{enumerable:!0,get:function(){return X1.createTraceState}});ae(IS(),w);ae(NS(),w);ae(MS(),w);var xd=Do();Object.defineProperty(w,"isSpanContextValid",{enumerable:!0,get:function(){return xd.isSpanContextValid}});Object.defineProperty(w,"isValidTraceId",{enumerable:!0,get:function(){return xd.isValidTraceId}});Object.defineProperty(w,"isValidSpanId",{enumerable:!0,get:function(){return xd.isValidSpanId}});var Md=xo();Object.defineProperty(w,"INVALID_SPANID",{enumerable:!0,get:function(){return Md.INVALID_SPANID}});Object.defineProperty(w,"INVALID_TRACEID",{enumerable:!0,get:function(){return Md.INVALID_TRACEID}});Object.defineProperty(w,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Md.INVALID_SPAN_CONTEXT}});ae(xi(),w);ae(DS(),w);var z1=md();w.context=z1.ContextAPI.getInstance();var Q1=FS();w.trace=Q1.TraceAPI.getInstance();var Z1=$S();w.propagation=Z1.PropagationAPI.getInstance();var J1=bn();w.diag=J1.DiagAPI.instance();w.default={trace:w.trace,context:w.context,propagation:w.propagation,diag:w.diag}});var Vo=l(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.isTracingSuppressed=tr.unsuppressTracing=tr.suppressTracing=void 0;var eL=F(),Ld=(0,eL.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function tL(e){return e.setValue(Ld,!0)}tr.suppressTracing=tL;function rL(e){return e.deleteValue(Ld)}tr.unsuppressTracing=rL;function nL(e){return e.getValue(Ld)===!0}tr.isTracingSuppressed=nL});var VS=l(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.validateValue=In.validateKey=void 0;var Dd="[_0-9a-z-*/]",iL=`[a-z]${Dd}{0,255}`,sL=`[a-z0-9]${Dd}{0,240}@[a-z]${Dd}{0,13}`,oL=new RegExp(`^(?:${iL}|${sL})$`),aL=/^[ -~]{0,255}[!-~]$/,uL=/,|=/;function cL(e){return oL.test(e)}In.validateKey=cL;function lL(e){return aL.test(e)&&!uL.test(e)}In.validateValue=lL});var Bd=l(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.TraceState=void 0;var WS=VS(),YS=32,dL=512,KS=",",XS="=",Wo=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+XS+this.get(r)),t),[]).join(KS)}_parse(t){t.length>dL||(this._internalState=t.split(KS).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(XS);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,WS.validateKey)(o)&&(0,WS.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>YS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,YS))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new Wo;return t._internalState=new Map(this._internalState),t}};Yo.TraceState=Wo});var Ud=l(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.W3CTraceContextPropagator=Ie.parseTraceParent=Ie.TRACE_STATE_HEADER=Ie.TRACE_PARENT_HEADER=void 0;var Ko=F(),pL=Vo(),fL=Bd();Ie.TRACE_PARENT_HEADER="traceparent";Ie.TRACE_STATE_HEADER="tracestate";var hL="00",_L="(?!ff)[\\da-f]{2}",gL="(?![0]{32})[\\da-f]{32}",mL="(?![0]{16})[\\da-f]{16}",EL="[\\da-f]{2}",yL=new RegExp(`^\\s?(${_L})-(${gL})-(${mL})-(${EL})(-.*)?\\s?$`);function zS(e){let t=yL.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Ie.parseTraceParent=zS;var QS=class{inject(t,r,n){let i=Ko.trace.getSpanContext(t);if(!i||(0,pL.isTracingSuppressed)(t)||!(0,Ko.isSpanContextValid)(i))return;let s=`${hL}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||Ko.TraceFlags.NONE).toString(16)}`;n.set(r,Ie.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,Ie.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Ie.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=zS(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,Ie.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new fL.TraceState(typeof u=="string"?u:void 0)}return Ko.trace.setSpanContext(t,o)}fields(){return[Ie.TRACE_PARENT_HEADER,Ie.TRACE_STATE_HEADER]}};Ie.W3CTraceContextPropagator=QS});var qd=l(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.BAGGAGE_MAX_TOTAL_LENGTH=we.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=we.BAGGAGE_MAX_NAME_VALUE_PAIRS=we.BAGGAGE_HEADER=we.BAGGAGE_ITEMS_SEPARATOR=we.BAGGAGE_PROPERTIES_SEPARATOR=we.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;we.BAGGAGE_KEY_PAIR_SEPARATOR="=";we.BAGGAGE_PROPERTIES_SEPARATOR=";";we.BAGGAGE_ITEMS_SEPARATOR=",";we.BAGGAGE_HEADER="baggage";we.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;we.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;we.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Fd=l(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.parseKeyPairsIntoRecord=vt.parsePairKeyValue=vt.getKeyPairs=vt.serializeKeyPairs=void 0;var SL=F(),Rr=qd();function AL(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?Rr.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>Rr.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}vt.serializeKeyPairs=AL;function bL(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=Rr.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}vt.getKeyPairs=bL;function ZS(e){let t=e.split(Rr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(Rr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return t.length>0&&(o=(0,SL.baggageEntryMetadataFromString)(t.join(Rr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}vt.parsePairKeyValue=ZS;function vL(e){return typeof e!="string"||e.length===0?{}:e.split(Rr.BAGGAGE_ITEMS_SEPARATOR).map(t=>ZS(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}vt.parseKeyPairsIntoRecord=vL});var eA=l(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.W3CBaggagePropagator=void 0;var kd=F(),TL=Vo(),Or=qd(),jd=Fd(),JS=class{inject(t,r,n){let i=kd.propagation.getBaggage(t);if(!i||(0,TL.isTracingSuppressed)(t))return;let s=(0,jd.getKeyPairs)(i).filter(a=>a.length<=Or.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Or.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,jd.serializeKeyPairs)(s);o.length>0&&n.set(r,Or.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,Or.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(Or.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(Or.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let c=(0,jd.parsePairKeyValue)(u);if(c){let d={value:c.value};c.metadata&&(d.metadata=c.metadata),o[c.key]=d}}),Object.entries(o).length===0)?t:kd.propagation.setBaggage(t,kd.propagation.createBaggage(o))}fields(){return[Or.BAGGAGE_HEADER]}};Xo.W3CBaggagePropagator=JS});var sA=l(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.isAttributeValue=rr.isAttributeKey=rr.sanitizeAttributes=void 0;var tA=F();function RL(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!rA(r)){tA.diag.warn(`Invalid attribute key: ${r}`);continue}if(!nA(n)){tA.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}rr.sanitizeAttributes=RL;function rA(e){return typeof e=="string"&&e.length>0}rr.isAttributeKey=rA;function nA(e){return e==null?!0:Array.isArray(e)?OL(e):iA(e)}rr.isAttributeValue=nA;function OL(e){let t;for(let r of e)if(r!=null){if(!t){if(iA(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function iA(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var Gd=l(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.loggingErrorHandler=void 0;var PL=F();function CL(){return e=>{PL.diag.error(IL(e))}}zo.loggingErrorHandler=CL;function IL(e){return typeof e=="string"?e:JSON.stringify(wL(e))}function wL(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var Hd=l(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.globalErrorHandler=wn.setGlobalErrorHandler=void 0;var NL=Gd(),oA=(0,NL.loggingErrorHandler)();function xL(e){oA=e}wn.setGlobalErrorHandler=xL;function ML(e){try{oA(e)}catch(t){}}wn.globalErrorHandler=ML});var $d=l(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.TracesSamplerValues=void 0;var LL;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(LL=qi.TracesSamplerValues||(qi.TracesSamplerValues={}))});var Vd=l(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.parseEnvironment=Be.DEFAULT_ENVIRONMENT=Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var nr=F(),DL=$d(),BL=",",UL=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function qL(e){return UL.indexOf(e)>-1}var FL=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function kL(e){return FL.indexOf(e)>-1}Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Be.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:nr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:DL.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function jL(e,t,r,n=-Infinity,i=Infinity){if(typeof r[e]!="undefined"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function GL(e,t,r,n=BL){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var HL={ALL:nr.DiagLogLevel.ALL,VERBOSE:nr.DiagLogLevel.VERBOSE,DEBUG:nr.DiagLogLevel.DEBUG,INFO:nr.DiagLogLevel.INFO,WARN:nr.DiagLogLevel.WARN,ERROR:nr.DiagLogLevel.ERROR,NONE:nr.DiagLogLevel.NONE};function $L(e,t,r){let n=r[e];if(typeof n=="string"){let i=HL[n.toUpperCase()];i!=null&&(t[e]=i)}}function VL(e){let t={};for(let r in Be.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":$L(n,t,e);break;default:if(qL(n))jL(n,t,e);else if(kL(n))GL(n,t,e);else{let i=e[n];typeof i!="undefined"&&i!==null&&(t[n]=String(i))}}}return t}Be.parseEnvironment=VL});var uA=l(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.getEnv=void 0;var WL=O("os"),aA=Vd();function YL(){let e=(0,aA.parseEnvironment)(process.env);return Object.assign({HOSTNAME:WL.hostname()},aA.DEFAULT_ENVIRONMENT,e)}Qo.getEnv=YL});var cA=l(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo._globalThis=void 0;Zo._globalThis=typeof globalThis=="object"?globalThis:global});var lA=l(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.hexToBase64=void 0;function KL(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),s=parseInt(i,16);r+=String.fromCharCode(s)}return Buffer.from(r,"ascii").toString("base64")}Jo.hexToBase64=KL});var hA=l(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.RandomIdGenerator=void 0;var XL=8,dA=16,pA=class{constructor(){this.generateTraceId=fA(dA),this.generateSpanId=fA(XL)}};ta.RandomIdGenerator=pA;var ea=Buffer.allocUnsafe(dA);function fA(e){return function(){for(let r=0;r<e/4;r++)ea.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(ea[r]>0);r++)r===e-1&&(ea[e-1]=1);return ea.toString("hex",0,e)}}});var _A=l(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.otperformance=void 0;var zL=O("perf_hooks");ra.otperformance=zL.performance});var ia=l(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.VERSION=void 0;na.VERSION="1.3.1"});var gA=l(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.MessageTypeValues=Z.RpcGrpcStatusCodeValues=Z.MessagingOperationValues=Z.MessagingDestinationKindValues=Z.HttpFlavorValues=Z.NetHostConnectionSubtypeValues=Z.NetHostConnectionTypeValues=Z.NetTransportValues=Z.FaasInvokedProviderValues=Z.FaasDocumentOperationValues=Z.FaasTriggerValues=Z.DbCassandraConsistencyLevelValues=Z.DbSystemValues=Z.SemanticAttributes=void 0;Z.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Z.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Z.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Z.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Z.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Z.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Z.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Z.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Z.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Z.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Z.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Z.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Z.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Z.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var mA=l(Pr=>{"use strict";var QL=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZL=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&QL(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});ZL(gA(),Pr)});var EA=l(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.TelemetrySdkLanguageValues=Ne.OsTypeValues=Ne.HostArchValues=Ne.AwsEcsLaunchtypeValues=Ne.CloudPlatformValues=Ne.CloudProviderValues=Ne.SemanticResourceAttributes=void 0;Ne.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ne.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ne.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ne.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ne.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ne.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ne.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var yA=l(Cr=>{"use strict";var JL=Cr&&Cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eD=Cr&&Cr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&JL(t,e,r)};Object.defineProperty(Cr,"__esModule",{value:!0});eD(EA(),Cr)});var Tt=l(ir=>{"use strict";var tD=ir&&ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SA=ir&&ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tD(t,e,r)};Object.defineProperty(ir,"__esModule",{value:!0});SA(mA(),ir);SA(yA(),ir)});var AA=l(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.SDK_INFO=void 0;var rD=ia(),Fi=Tt();sa.SDK_INFO={[Fi.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Fi.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Fi.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Fi.TelemetrySdkLanguageValues.NODEJS,[Fi.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:rD.VERSION}});var bA=l(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.unrefTimer=void 0;function nD(e){e.unref()}oa.unrefTimer=nD});var vA=l(Xe=>{"use strict";var iD=Xe&&Xe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ir=Xe&&Xe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iD(t,e,r)};Object.defineProperty(Xe,"__esModule",{value:!0});Ir(uA(),Xe);Ir(cA(),Xe);Ir(lA(),Xe);Ir(hA(),Xe);Ir(_A(),Xe);Ir(AA(),Xe);Ir(bA(),Xe)});var Wd=l(wr=>{"use strict";var sD=wr&&wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oD=wr&&wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sD(t,e,r)};Object.defineProperty(wr,"__esModule",{value:!0});oD(vA(),wr)});var OA=l(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.isTimeInput=he.isTimeInputHrTime=he.hrTimeToMicroseconds=he.hrTimeToMilliseconds=he.hrTimeToNanoseconds=he.hrTimeToTimeStamp=he.hrTimeDuration=he.timeInputToHrTime=he.hrTime=void 0;var Yd=Wd(),Kd=9,ki=Math.pow(10,Kd);function aa(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(Kd))*ki;return[r,n]}function TA(){let e=Yd.otperformance.timeOrigin;if(typeof e!="number"){let t=Yd.otperformance;e=t.timing&&t.timing.fetchStart}return e}function RA(e){let t=aa(TA()),r=aa(typeof e=="number"?e:Yd.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>ki&&(i-=ki,n+=1),[n,i]}he.hrTime=RA;function aD(e){if(Xd(e))return e;if(typeof e=="number")return e<TA()?RA(e):aa(e);if(e instanceof Date)return aa(e.getTime());throw TypeError("Invalid input type")}he.timeInputToHrTime=aD;function uD(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=ki),[r,n]}he.hrTimeDuration=uD;function cD(e){let t=Kd,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}he.hrTimeToTimeStamp=cD;function lD(e){return e[0]*ki+e[1]}he.hrTimeToNanoseconds=lD;function dD(e){return Math.round(e[0]*1e3+e[1]/1e6)}he.hrTimeToMilliseconds=dD;function pD(e){return Math.round(e[0]*1e6+e[1]/1e3)}he.hrTimeToMicroseconds=pD;function Xd(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}he.isTimeInputHrTime=Xd;function fD(e){return Xd(e)||typeof e=="number"||e instanceof Date}he.isTimeInput=fD});var CA=l(PA=>{"use strict";Object.defineProperty(PA,"__esModule",{value:!0})});var IA=l(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.ExportResultCode=void 0;var hD;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(hD=ji.ExportResultCode||(ji.ExportResultCode={}))});var xA=l(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.CompositePropagator=void 0;var wA=F(),NA=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){wA.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){wA.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};ua.CompositePropagator=NA});var LA=l(MA=>{"use strict";Object.defineProperty(MA,"__esModule",{value:!0})});var DA=l(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.getRPCMetadata=ot.deleteRPCMetadata=ot.setRPCMetadata=ot.RPCType=void 0;var _D=F(),zd=(0,_D.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),gD;(function(e){e.HTTP="http"})(gD=ot.RPCType||(ot.RPCType={}));function mD(e,t){return e.setValue(zd,t)}ot.setRPCMetadata=mD;function ED(e){return e.deleteValue(zd)}ot.deleteRPCMetadata=ED;function yD(e){return e.getValue(zd)}ot.getRPCMetadata=yD});var Qd=l(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.AlwaysOffSampler=void 0;var SD=F(),BA=class{shouldSample(){return{decision:SD.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};ca.AlwaysOffSampler=BA});var Zd=l(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.AlwaysOnSampler=void 0;var AD=F(),UA=class{shouldSample(){return{decision:AD.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};la.AlwaysOnSampler=UA});var kA=l(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.ParentBasedSampler=void 0;var da=F(),bD=Hd(),qA=Qd(),Jd=Zd(),FA=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,bD.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Jd.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Jd.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new qA.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Jd.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new qA.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=da.trace.getSpanContext(t);return!a||!(0,da.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&da.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&da.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};pa.ParentBasedSampler=FA});var GA=l(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.TraceIdRatioBasedSampler=void 0;var ep=F(),jA=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,ep.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?ep.SamplingDecision.RECORD_AND_SAMPLED:ep.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};fa.TraceIdRatioBasedSampler=jA});var YA=l(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.isPlainObject=void 0;var vD="[object Object]",TD="[object Null]",RD="[object Undefined]",OD=Function.prototype,HA=OD.toString,PD=HA.call(Object),CD=ID(Object.getPrototypeOf,Object),$A=Object.prototype,VA=$A.hasOwnProperty,Nr=Symbol?Symbol.toStringTag:void 0,WA=$A.toString;function ID(e,t){return function(r){return e(t(r))}}function wD(e){if(!ND(e)||xD(e)!==vD)return!1;let t=CD(e);if(t===null)return!0;let r=VA.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&HA.call(r)===PD}ha.isPlainObject=wD;function ND(e){return e!=null&&typeof e=="object"}function xD(e){return e==null?e===void 0?RD:TD:Nr&&Nr in Object(e)?MD(e):LD(e)}function MD(e){let t=VA.call(e,Nr),r=e[Nr],n=!1;try{e[Nr]=void 0,n=!0}catch(s){}let i=WA.call(e);return n&&(t?e[Nr]=r:delete e[Nr]),i}function LD(e){return WA.call(e)}});var ZA=l(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.merge=void 0;var KA=YA(),DD=20;function BD(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=XA(t,e.shift(),0,r);return t}ma.merge=BD;function tp(e){return _a(e)?e.slice():e}function XA(e,t,r=0,n){let i;if(!(r>DD)){if(r++,ga(e)||ga(t)||QA(t))i=tp(t);else if(_a(e)){if(i=e.slice(),_a(t))for(let s=0,o=t.length;s<o;s++)i.push(tp(t[s]));else if(Gi(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=tp(t[u])}}}else if(Gi(e))if(Gi(t)){if(!UD(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],c=t[u];if(ga(c))typeof c=="undefined"?delete i[u]:i[u]=c;else{let d=i[u],p=c;if(zA(e,u,n)||zA(t,u,n))delete i[u];else{if(Gi(d)&&Gi(p)){let f=n.get(d)||[],h=n.get(p)||[];f.push({obj:e,key:u}),h.push({obj:t,key:u}),n.set(d,f),n.set(p,h)}i[u]=XA(i[u],c,r,n)}}}}else i=t;return i}}function zA(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function _a(e){return Array.isArray(e)}function QA(e){return typeof e=="function"}function Gi(e){return!ga(e)&&!_a(e)&&!QA(e)&&typeof e=="object"}function ga(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="undefined"||e instanceof Date||e instanceof RegExp||e===null}function UD(e,t){return!(!(0,KA.isPlainObject)(e)||!(0,KA.isPlainObject)(t))}});var eb=l(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.isUrlIgnored=Nn.urlMatches=void 0;function JA(e,t){return typeof t=="string"?e===t:!!e.match(t)}Nn.urlMatches=JA;function qD(e,t){if(!t)return!1;for(let r of t)if(JA(e,r))return!0;return!1}Nn.isUrlIgnored=qD});var tb=l(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.isWrapped=void 0;function FD(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}Ea.isWrapped=FD});var nb=l(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.Deferred=void 0;var rb=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};ya.Deferred=rb});var sb=l(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.BindOnceFuture=void 0;var kD=nb(),ib=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new kD.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Sa.BindOnceFuture=ib});var te=l(z=>{"use strict";var jD=z&&z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ee=z&&z.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jD(t,e,r)};Object.defineProperty(z,"__esModule",{value:!0});z.baggageUtils=void 0;ee(eA(),z);ee(sA(),z);ee(Hd(),z);ee(Gd(),z);ee(OA(),z);ee(CA(),z);ee(IA(),z);ee(ia(),z);z.baggageUtils=Fd();ee(Wd(),z);ee(xA(),z);ee(Ud(),z);ee(LA(),z);ee(DA(),z);ee(Qd(),z);ee(Zd(),z);ee(kA(),z);ee(GA(),z);ee(Vo(),z);ee(Bd(),z);ee(Vd(),z);ee(ZA(),z);ee($d(),z);ee(eb(),z);ee(tb(),z);ee(sb(),z);ee(ia(),z)});var ob=l(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.ExceptionEventName=void 0;Aa.ExceptionEventName="exception"});var rp=l(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.Span=void 0;var Rt=F(),at=te(),xr=Tt(),GD=ob(),ab=class{constructor(t,r,n,i,s,o,a=[],u=(0,at.hrTime)()){this.attributes={},this.links=[],this.events=[],this.status={code:Rt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=a,this.startTime=(0,at.timeInputToHrTime)(u),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(Rt.diag.warn(`Invalid attribute key: ${t}`),this):(0,at.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(r),this):(Rt.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return Rt.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(Rt.diag.warn("Dropping extra events."),this.events.shift()),(0,at.isTimeInput)(r)&&(typeof n=="undefined"&&(n=r),r=void 0),typeof n=="undefined"&&(n=(0,at.hrTime)());let i=(0,at.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:(0,at.timeInputToHrTime)(n)}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t=(0,at.hrTime)()){if(this._isSpanEnded()){Rt.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=(0,at.timeInputToHrTime)(t),this._duration=(0,at.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&Rt.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(t,r=(0,at.hrTime)()){let n={};typeof t=="string"?n[xr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[xr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[xr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[xr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[xr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[xr.SemanticAttributes.EXCEPTION_TYPE]||n[xr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(GD.ExceptionEventName,n,r):Rt.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&Rt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(Rt.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};ba.Span=ab});var np=l(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.buildSamplerFromEnv=Mn.DEFAULT_CONFIG=void 0;var va=F(),ne=te(),HD=(0,ne.getEnv)(),$D=ne.TracesSamplerValues.AlwaysOn,xn=1;Mn.DEFAULT_CONFIG={sampler:ub(HD),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,ne.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,ne.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,ne.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,ne.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,ne.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,ne.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}};function ub(e=(0,ne.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case ne.TracesSamplerValues.AlwaysOn:return new ne.AlwaysOnSampler;case ne.TracesSamplerValues.AlwaysOff:return new ne.AlwaysOffSampler;case ne.TracesSamplerValues.ParentBasedAlwaysOn:return new ne.ParentBasedSampler({root:new ne.AlwaysOnSampler});case ne.TracesSamplerValues.ParentBasedAlwaysOff:return new ne.ParentBasedSampler({root:new ne.AlwaysOffSampler});case ne.TracesSamplerValues.TraceIdRatio:return new ne.TraceIdRatioBasedSampler(cb(e));case ne.TracesSamplerValues.ParentBasedTraceIdRatio:return new ne.ParentBasedSampler({root:new ne.TraceIdRatioBasedSampler(cb(e))});default:return va.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${$D}".`),new ne.AlwaysOnSampler}}Mn.buildSamplerFromEnv=ub;function cb(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return va.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${xn}.`),xn;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(va.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${xn}.`),xn):t<0||t>1?(va.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${xn}.`),xn):t}});var ip=l(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.reconfigureLimits=Ln.mergeConfig=void 0;var Ta=np();function VD(e){let t={sampler:(0,Ta.buildSamplerFromEnv)()},r=Object.assign({},Ta.DEFAULT_CONFIG,t,e);return r.generalLimits=Object.assign({},Ta.DEFAULT_CONFIG.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},Ta.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}Ln.mergeConfig=VD;function WD(e){var t,r;let n=Object.assign({},e.spanLimits);return n.attributeCountLimit==null&&((t=e.generalLimits)===null||t===void 0?void 0:t.attributeCountLimit)!=null&&(n.attributeCountLimit=e.generalLimits.attributeCountLimit),n.attributeValueLengthLimit==null&&((r=e.generalLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!=null&&(n.attributeValueLengthLimit=e.generalLimits.attributeValueLengthLimit),Object.assign({},e,{spanLimits:n})}Ln.reconfigureLimits=WD});var db=l(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.Tracer=void 0;var be=F(),Hi=te(),YD=rp(),KD=ip(),lb=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,KD.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new Hi.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=be.context.active()){var i,s;if((0,Hi.isTracingSuppressed)(n))return be.diag.debug("Instrumentation suppressed, returning Noop Span"),be.trace.wrapSpanContext(be.INVALID_SPAN_CONTEXT);r.root&&(n=be.trace.deleteSpan(n));let o=be.trace.getSpanContext(n),a=this._idGenerator.generateSpanId(),u,c,d;!o||!be.trace.isSpanContextValid(o)?u=this._idGenerator.generateTraceId():(u=o.traceId,c=o.traceState,d=o.spanId);let p=(i=r.kind)!==null&&i!==void 0?i:be.SpanKind.INTERNAL,f=((s=r.links)!==null&&s!==void 0?s:[]).map(A=>({context:A.context,attributes:(0,Hi.sanitizeAttributes)(A.attributes)})),h=(0,Hi.sanitizeAttributes)(r.attributes),_=this._sampler.shouldSample(n,u,t,p,h,f),g=_.decision===be.SamplingDecision.RECORD_AND_SAMPLED?be.TraceFlags.SAMPLED:be.TraceFlags.NONE,b={traceId:u,spanId:a,traceFlags:g,traceState:c};if(_.decision===be.SamplingDecision.NOT_RECORD)return be.diag.debug("Recording is off, propagating context in a non-recording span"),be.trace.wrapSpanContext(b);let v=new YD.Span(this,n,t,b,p,d,f,r.startTime),S=(0,Hi.sanitizeAttributes)(Object.assign(h,_.attributes));return v.setAttributes(S),v}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o!=null?o:be.context.active(),c=this.startSpan(t,s,u),d=be.trace.setSpan(u,c);return be.context.with(d,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};Ra.Tracer=lb});var pb=l(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.defaultServiceName=void 0;function XD(){return`unknown_service:${process.argv0}`}Oa.defaultServiceName=XD});var hb=l(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.detectResources=void 0;var fb=Mr(),sp=F(),zD=O("util"),QD=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return sp.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return sp.diag.debug(`${n.constructor.name} failed: ${i.message}`),fb.Resource.empty()}}));return ZD(r),r.reduce((n,i)=>n.merge(i),fb.Resource.empty())};Pa.detectResources=QD;var ZD=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=zD.inspect(t.attributes,{depth:2,breakLength:Infinity,sorted:!0,compact:!1});sp.diag.verbose(r)}})}});var Eb=l(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.hostDetector=void 0;var _b=Tt(),JD=Mr(),gb=O("os"),mb=class{async detect(t){let r={[_b.SemanticResourceAttributes.HOST_NAME]:(0,gb.hostname)(),[_b.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,gb.arch)())};return new JD.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};Ca.hostDetector=new mb});var bb=l(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.osDetector=void 0;var yb=Tt(),eB=Mr(),Sb=O("os"),Ab=class{async detect(t){let r={[yb.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,Sb.platform)()),[yb.SemanticResourceAttributes.OS_VERSION]:(0,Sb.release)()};return new eB.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Ia.osDetector=new Ab});var vb=l(Ot=>{"use strict";var tB=Ot&&Ot.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wa=Ot&&Ot.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tB(t,e,r)};Object.defineProperty(Ot,"__esModule",{value:!0});wa(pb(),Ot);wa(hb(),Ot);wa(Eb(),Ot);wa(bb(),Ot)});var op=l(Lr=>{"use strict";var rB=Lr&&Lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nB=Lr&&Lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rB(t,e,r)};Object.defineProperty(Lr,"__esModule",{value:!0});nB(vb(),Lr)});var Mr=l(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.Resource=void 0;var Dr=Tt(),ap=te(),iB=op(),sr=class{constructor(t){this.attributes=t}static empty(){return sr.EMPTY}static default(){return new sr({[Dr.SemanticResourceAttributes.SERVICE_NAME]:(0,iB.defaultServiceName)(),[Dr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:ap.SDK_INFO[Dr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Dr.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:ap.SDK_INFO[Dr.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Dr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:ap.SDK_INFO[Dr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new sr(r)}};Na.Resource=sr;sr.EMPTY=new sr({})});var Rb=l(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0})});var Pb=l(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0})});var Ib=l(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.browserDetector=void 0;var sB=F(),xa=Tt(),up=$i(),Cb=class{async detect(t){if(!(typeof navigator!="undefined"))return up.Resource.empty();let n={[xa.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[xa.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[xa.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[xa.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(sB.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),up.Resource.empty()):new up.Resource(Object.assign({},t))}};Ma.browserDetector=new Cb});var Nb=l(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.envDetector=void 0;var oB=F(),aB=te(),uB=Tt(),cB=Mr(),wb=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,aB.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){oB.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[uB.SemanticResourceAttributes.SERVICE_NAME]=s),new cB.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};La.envDetector=new wb});var Mb=l(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.processDetector=void 0;var lB=F(),et=Tt(),cp=Mr(),xb=class{async detect(t){if(typeof process!="object")return cp.Resource.empty();let r={[et.SemanticResourceAttributes.PROCESS_PID]:process.pid,[et.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[et.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[et.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[et.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[et.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[et.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[et.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[et.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[et.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[et.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[et.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(lB.diag.debug("ProcessDetector failed: Unable to find required process resources. "),cp.Resource.empty()):new cp.Resource(Object.assign({},t))}};Da.processDetector=new xb});var Lb=l(kt=>{"use strict";var dB=kt&&kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lp=kt&&kt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dB(t,e,r)};Object.defineProperty(kt,"__esModule",{value:!0});lp(Ib(),kt);lp(Nb(),kt);lp(Mb(),kt)});var $i=l(ut=>{"use strict";var pB=ut&&ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vi=ut&&ut.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pB(t,e,r)};Object.defineProperty(ut,"__esModule",{value:!0});Vi(Mr(),ut);Vi(op(),ut);Vi(Rb(),ut);Vi(Pb(),ut);Vi(Lb(),ut)});var Bb=l(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.MultiSpanProcessor=void 0;var fB=te(),Db=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,fB.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Ba.MultiSpanProcessor=Db});var dp=l(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.NoopSpanProcessor=void 0;var Ub=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};Ua.NoopSpanProcessor=Ub});var Fb=l(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.BatchSpanProcessorBase=void 0;var pp=F(),Dn=te(),qb=class{constructor(t,r){this._exporter=t,this._finishedSpans=[];let n=(0,Dn.getEnv)();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Dn.BindOnceFuture(this._shutdown,this)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&pp.TraceFlags.SAMPLED)!=0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);pp.context.with((0,Dn.suppressTracing)(pp.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var s;clearTimeout(n),i.code===Dn.ExportResultCode.SUCCESS?t():r((s=i.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,Dn.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,Dn.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};qa.BatchSpanProcessorBase=qb});var jb=l(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.BatchSpanProcessor=void 0;var hB=Fb(),kb=class extends hB.BatchSpanProcessorBase{onShutdown(){}};Fa.BatchSpanProcessor=kb});var Gb=l(Br=>{"use strict";var _B=Br&&Br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gB=Br&&Br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_B(t,e,r)};Object.defineProperty(Br,"__esModule",{value:!0});gB(jb(),Br)});var fp=l(Ur=>{"use strict";var mB=Ur&&Ur.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EB=Ur&&Ur.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mB(t,e,r)};Object.defineProperty(Ur,"__esModule",{value:!0});EB(Gb(),Ur)});var $b=l(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.BasicTracerProvider=Fr.ForceFlushState=void 0;var Bn=F(),Un=te(),Hb=$i(),yB=ka(),SB=np(),AB=Bb(),bB=dp(),vB=fp(),TB=ip(),qn;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(qn=Fr.ForceFlushState||(Fr.ForceFlushState={}));var qr=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,Un.merge)({},SB.DEFAULT_CONFIG,(0,TB.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:Hb.Resource.empty(),this.resource=Hb.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new vB.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new bB.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new yB.Tracer({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>Bn.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new AB.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){Bn.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&Bn.context.setGlobalContextManager(t.contextManager),t.propagator&&Bn.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=qn.timeout},t);n.forceFlush().then(()=>{clearTimeout(o),s!==qn.timeout&&(s=qn.resolved,i(s))}).catch(a=>{clearTimeout(o),s=qn.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(s=>{let o=s.filter(a=>a!==qn.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=qr._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=qr._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,Un.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let s=this._getPropagator(i);return s||Bn.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return t.length===1?n[0]:new Un.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,Un.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none")return;let r=this._getSpanExporter(t);return r||Bn.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};Fr.BasicTracerProvider=qr;qr._registeredPropagators=new Map([["tracecontext",()=>new Un.W3CTraceContextPropagator],["baggage",()=>new Un.W3CBaggagePropagator]]);qr._registeredExporters=new Map});var Wb=l(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.ConsoleSpanExporter=void 0;var hp=te(),Vb=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,hp.hrTimeToMicroseconds)(t.startTime),duration:(0,hp.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:hp.ExportResultCode.SUCCESS})}};ja.ConsoleSpanExporter=Vb});var Xb=l(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.InMemorySpanExporter=void 0;var Yb=te(),Kb=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:Yb.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:Yb.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};Ga.InMemorySpanExporter=Kb});var Qb=l(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0})});var Jb=l($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.SimpleSpanProcessor=void 0;var _p=F(),Ha=te(),Zb=class{constructor(t){this._exporter=t,this._shutdownOnce=new Ha.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&_p.TraceFlags.SAMPLED)!=0&&_p.context.with((0,Ha.suppressTracing)(_p.context.active()),()=>{this._exporter.export([t],r=>{var n;r.code!==Ha.ExportResultCode.SUCCESS&&(0,Ha.globalErrorHandler)((n=r.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${r})`))})})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};$a.SimpleSpanProcessor=Zb});var t0=l(e0=>{"use strict";Object.defineProperty(e0,"__esModule",{value:!0})});var n0=l(r0=>{"use strict";Object.defineProperty(r0,"__esModule",{value:!0})});var s0=l(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0})});var a0=l(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0})});var ka=l(ye=>{"use strict";var RB=ye&&ye.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ze=ye&&ye.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RB(t,e,r)};Object.defineProperty(ye,"__esModule",{value:!0});ze(db(),ye);ze($b(),ye);ze(fp(),ye);ze(Wb(),ye);ze(Xb(),ye);ze(Qb(),ye);ze(Jb(),ye);ze(t0(),ye);ze(dp(),ye);ze(rp(),ye);ze(n0(),ye);ze(s0(),ye);ze(a0(),ye)});var Wi=l(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.invalidTimeout=tt.configureExporterTimeout=tt.appendRootPathToUrlIfNeeded=tt.appendResourcePathToUrl=tt.parseHeaders=void 0;var u0=F(),c0=te(),l0=1e4;function OB(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n!="undefined"?t[r]=String(n):u0.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}tt.parseHeaders=OB;function PB(e,t){return e.endsWith("/")||(e=e+"/"),e+t}tt.appendResourcePathToUrl=PB;function CB(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}tt.appendRootPathToUrlIfNeeded=CB;function IB(e){return typeof e=="number"?e<=0?gp(e,l0):e:wB()}tt.configureExporterTimeout=IB;function wB(){var e;let t=Number((e=(0,c0.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,c0.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?gp(t,l0):t}function gp(e,t){return u0.diag.warn("Timeout must be greater than 0",e),t}tt.invalidTimeout=gp});var Wa=l(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.OTLPExporterBase=void 0;var d0=F(),Yi=te(),NB=Wi(),p0=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Yi.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:Infinity,this.timeoutMillis=(0,NB.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:Yi.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Yi.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:Yi.ExportResultCode.SUCCESS})}).catch(n=>{r({code:Yi.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{d0.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return d0.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};Va.OTLPExporterBase=p0});var mp=l(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.CompressionAlgorithm=void 0;var xB;(function(e){e.NONE="none",e.GZIP="gzip"})(xB=Ki.CompressionAlgorithm||(Ki.CompressionAlgorithm={}))});var Ka=l(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.OTLPExporterError=void 0;var f0=class extends Error{constructor(t,r,n){super(t);this.name="OTLPExporterError",this.data=n,this.code=r}};Ya.OTLPExporterError=f0});var Ap=l(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.configureCompression=or.createHttpAgent=or.sendWithHttp=void 0;var h0=O("url"),_0=O("http"),g0=O("https"),MB=O("zlib"),LB=O("stream"),Ep=F(),Xa=mp(),m0=te(),yp=Ka(),Sp;function DB(e,t,r,n,i){let s=e.timeoutMillis,o=new h0.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),c=setTimeout(()=>{a=!0,u>=14?f.destroy():f.abort()},s),d={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},f=(o.protocol==="http:"?_0.request:g0.request)(d,h=>{let _="";h.on("data",g=>_+=g),h.on("aborted",()=>{if(a){let g=new yp.OTLPExporterError("Request Timeout");i(g)}}),h.on("end",()=>{if(!a){if(h.statusCode&&h.statusCode<299)Ep.diag.debug(`statusCode: ${h.statusCode}`,_),n();else{let g=new yp.OTLPExporterError(h.statusMessage,h.statusCode,_);i(g)}clearTimeout(c)}})});switch(f.on("error",h=>{if(a){let _=new yp.OTLPExporterError("Request Timeout",h.code);i(_)}else clearTimeout(c),i(h)}),e.compression){case Xa.CompressionAlgorithm.GZIP:{Sp||(Sp=MB.createGzip()),f.setHeader("Content-Encoding","gzip"),BB(t).on("error",i).pipe(Sp).on("error",i).pipe(f);break}default:f.end(t);break}}or.sendWithHttp=DB;function BB(e){let t=new LB.Readable;return t.push(e),t.push(null),t}function UB(e){if(e.httpAgentOptions&&e.keepAlive===!1){Ep.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new h0.URL(e.url).protocol==="http:"?_0.Agent:g0.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){Ep.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}or.createHttpAgent=UB;function qB(e){return e||(((0,m0.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,m0.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===Xa.CompressionAlgorithm.GZIP?Xa.CompressionAlgorithm.GZIP:Xa.CompressionAlgorithm.NONE)}or.configureCompression=qB});var A0=l(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.OTLPExporterNodeBase=void 0;var FB=Wa(),kB=Wi(),bp=Ap(),E0=F(),y0=te(),S0=class extends FB.OTLPExporterBase{constructor(t={}){super(t);this.DEFAULT_HEADERS={},t.metadata&&E0.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,kB.parseHeaders)(t.headers),y0.baggageUtils.parseKeyPairsIntoRecord((0,y0.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,bp.createHttpAgent)(t),this.compression=(0,bp.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){E0.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=new Promise((a,u)=>{(0,bp.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(s);let o=()=>{let a=this._sendingPromises.indexOf(s);this._sendingPromises.splice(a,1)};s.then(o,o)}onShutdown(){}};za.OTLPExporterNodeBase=S0});var b0=l(jt=>{"use strict";var jB=jt&&jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vp=jt&&jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jB(t,e,r)};Object.defineProperty(jt,"__esModule",{value:!0});vp(A0(),jt);vp(Ap(),jt);vp(mp(),jt)});var T0=l(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.sendWithXhr=Fn.sendWithBeacon=void 0;var v0=F(),Tp=Ka();function GB(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))v0.diag.debug("sendBeacon - can send",e),n();else{let s=new Tp.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(s)}}Fn.sendWithBeacon=GB;function HB(e,t,r,n,i,s){let o,a=setTimeout(()=>{o=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([d,p])=>{u.setRequestHeader(d,p)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),v0.diag.debug("xhr success",e),i();else if(o){let d=new Tp.OTLPExporterError("Request Timeout",u.status);s(d)}else{let d=new Tp.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),s(d)}}}Fn.sendWithXhr=HB});var C0=l(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.OTLPExporterBrowserBase=void 0;var $B=Wa(),VB=Wi(),R0=T0(),WB=F(),O0=te(),P0=class extends $B.OTLPExporterBase{constructor(t={}){super(t);this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,VB.parseHeaders)(t.headers),O0.baggageUtils.parseKeyPairsIntoRecord((0,O0.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){WB.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=JSON.stringify(i),o=new Promise((u,c)=>{this._useXHR?(0,R0.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,u,c):(0,R0.sendWithBeacon)(s,this.url,{type:"application/json"},u,c)}).then(r,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};Qa.OTLPExporterBrowserBase=P0});var I0=l(kr=>{"use strict";var YB=kr&&kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KB=kr&&kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&YB(t,e,r)};Object.defineProperty(kr,"__esModule",{value:!0});KB(C0(),kr)});var w0=l(Gt=>{"use strict";var XB=Gt&&Gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zB=Gt&&Gt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XB(t,e,r)};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.OTLPExporterBrowserBase=void 0;zB(b0(),Gt);var QB=I0();Object.defineProperty(Gt,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return QB.OTLPExporterBrowserBase}})});var Rp=l(Pt=>{"use strict";var ZB=Pt&&Pt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Za=Pt&&Pt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ZB(t,e,r)};Object.defineProperty(Pt,"__esModule",{value:!0});Za(Wa(),Pt);Za(w0(),Pt);Za(Ka(),Pt);Za(Wi(),Pt)});var x0=l(N0=>{"use strict";Object.defineProperty(N0,"__esModule",{value:!0})});var L0=l(M0=>{"use strict";Object.defineProperty(M0,"__esModule",{value:!0})});var B0=l(D0=>{"use strict";Object.defineProperty(D0,"__esModule",{value:!0})});var U0=l(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.ESpanKind=void 0;var JB;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(JB=Xi.ESpanKind||(Xi.ESpanKind={}))});var Ja=l(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.bufToHex=rt.hexToBuf=rt.toAnyValue=rt.toKeyValue=rt.toAttributes=void 0;function eU(e){return Object.keys(e).map(t=>Op(t,e[t]))}rt.toAttributes=eU;function Op(e,t){return{key:e,value:Pp(t)}}rt.toKeyValue=Op;function Pp(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Pp)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>Op(r,n))}}:{}}rt.toAnyValue=Pp;function tU(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}rt.hexToBuf=tU;function rU(e){return("0"+e.toString(16)).slice(-2)}function nU(e){if(!(e==null||e.length===0))return Array.from(e).map(rU).join("")}rt.bufToHex=nU});var k0=l(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.toOtlpSpanEvent=ar.toOtlpLink=ar.sdkSpanToOtlpSpan=void 0;var Cp=te(),Ip=Ja(),zi=te();function iU(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?zi.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:zi.hexToBase64(r.traceId),spanId:t?r.spanId:zi.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,Cp.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,Cp.hrTimeToNanoseconds)(e.endTime),attributes:(0,Ip.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(F0),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(s=>q0(s,t)),droppedLinksCount:0}}ar.sdkSpanToOtlpSpan=iU;function q0(e,t){return{attributes:e.attributes?(0,Ip.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:zi.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:zi.hexToBase64(e.context.traceId),droppedAttributesCount:0}}ar.toOtlpLink=q0;function F0(e){return{attributes:e.attributes?(0,Ip.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,Cp.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}ar.toOtlpSpanEvent=F0});var j0=l(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.createExportTraceServiceRequest=void 0;var sU=Ja(),oU=k0();function aU(e,t){return{resourceSpans:cU(e,t)}}eu.createExportTraceServiceRequest=aU;function uU(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(r)}return t}function cU(e,t){let r=uU(e),n=[],i=r.entries(),s=i.next();for(;!s.done;){let[o,a]=s.value,u=[],c=a.values(),d=c.next();for(;!d.done;){let f=d.value;if(f.length>0){let{name:h,version:_,schemaUrl:g}=f[0].instrumentationLibrary,b=f.map(v=>(0,oU.sdkSpanToOtlpSpan)(v,t));u.push({scope:{name:h,version:_},spans:b,schemaUrl:g})}d=c.next()}let p={resource:{attributes:(0,sU.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(p),s=i.next()}return n}});var Up=l(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=j.NOOP_OBSERVABLE_GAUGE_METRIC=j.NOOP_OBSERVABLE_COUNTER_METRIC=j.NOOP_UP_DOWN_COUNTER_METRIC=j.NOOP_HISTOGRAM_METRIC=j.NOOP_COUNTER_METRIC=j.NOOP_METER=j.NoopObservableUpDownCounterMetric=j.NoopObservableGaugeMetric=j.NoopObservableCounterMetric=j.NoopObservableMetric=j.NoopHistogramMetric=j.NoopUpDownCounterMetric=j.NoopCounterMetric=j.NoopMetric=j.NoopMeter=void 0;var wp=class{constructor(){}createHistogram(t,r){return j.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return j.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return j.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return j.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return j.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return j.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};j.NoopMeter=wp;var Qi=class{};j.NoopMetric=Qi;var Np=class extends Qi{add(t,r){}};j.NoopCounterMetric=Np;var xp=class extends Qi{add(t,r){}};j.NoopUpDownCounterMetric=xp;var Mp=class extends Qi{record(t,r){}};j.NoopHistogramMetric=Mp;var Zi=class{addCallback(t){}removeCallback(t){}};j.NoopObservableMetric=Zi;var Lp=class extends Zi{};j.NoopObservableCounterMetric=Lp;var Dp=class extends Zi{};j.NoopObservableGaugeMetric=Dp;var Bp=class extends Zi{};j.NoopObservableUpDownCounterMetric=Bp;j.NOOP_METER=new wp;j.NOOP_COUNTER_METRIC=new Np;j.NOOP_HISTOGRAM_METRIC=new Mp;j.NOOP_UP_DOWN_COUNTER_METRIC=new xp;j.NOOP_OBSERVABLE_COUNTER_METRIC=new Lp;j.NOOP_OBSERVABLE_GAUGE_METRIC=new Dp;j.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new Bp});var Fp=l(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.NOOP_METER_PROVIDER=kn.NoopMeterProvider=void 0;var lU=Up(),qp=class{getMeter(t,r,n){return lU.NOOP_METER}};kn.NoopMeterProvider=qp;kn.NOOP_METER_PROVIDER=new qp});var H0=l(G0=>{"use strict";Object.defineProperty(G0,"__esModule",{value:!0})});var V0=l($0=>{"use strict";Object.defineProperty($0,"__esModule",{value:!0})});var W0=l(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.ValueType=void 0;var dU;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(dU=Ji.ValueType||(Ji.ValueType={}))});var K0=l(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0})});var X0=l(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu._globalThis=void 0;tu._globalThis=typeof globalThis=="object"?globalThis:global});var z0=l(jr=>{"use strict";var pU=jr&&jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fU=jr&&jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pU(t,e,r)};Object.defineProperty(jr,"__esModule",{value:!0});fU(X0(),jr)});var Q0=l(Gr=>{"use strict";var hU=Gr&&Gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_U=Gr&&Gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hU(t,e,r)};Object.defineProperty(Gr,"__esModule",{value:!0});_U(z0(),Gr)});var Z0=l(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.API_BACKWARDS_COMPATIBILITY_VERSION=Ct.makeGetter=Ct._global=Ct.GLOBAL_METRICS_API_KEY=void 0;var gU=Q0();Ct.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");Ct._global=gU._globalThis;function mU(e,t,r){return n=>n===e?t:r}Ct.makeGetter=mU;Ct.API_BACKWARDS_COMPATIBILITY_VERSION=4});var ev=l(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.MetricsAPI=void 0;var J0=Fp(),nt=Z0(),ru=class{constructor(){}static getInstance(){return this._instance||(this._instance=new ru),this._instance}setGlobalMeterProvider(t){return nt._global[nt.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(nt._global[nt.GLOBAL_METRICS_API_KEY]=(0,nt.makeGetter)(nt.API_BACKWARDS_COMPATIBILITY_VERSION,t,J0.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=nt._global[nt.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(nt._global,nt.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:J0.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete nt._global[nt.GLOBAL_METRICS_API_KEY]}};nu.MetricsAPI=ru});var Gn=l(je=>{"use strict";var EU=je&&je.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jn=je&&je.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EU(t,e,r)};Object.defineProperty(je,"__esModule",{value:!0});je.metrics=void 0;jn(Up(),je);jn(Fp(),je);jn(H0(),je);jn(V0(),je);jn(W0(),je);jn(K0(),je);var yU=ev();je.metrics=yU.MetricsAPI.getInstance()});var iu=l(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.AggregationTemporality=void 0;var SU;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(SU=es.AggregationTemporality||(es.AggregationTemporality={}))});var rs=l(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.DataPointType=void 0;var AU;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(AU=ts.DataPointType||(ts.DataPointType={}))});var rv=l(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.ConsoleMetricExporter=void 0;var bU=iu(),vU=te(),tv=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t!=null?t:bU.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:vU.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};su.ConsoleMetricExporter=tv});var iv=l(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0})});var Ht=l(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.setEquals=_e.FlatMap=_e.isPromiseAllSettledRejectionResult=_e.PromiseAllSettled=_e.callWithTimeout=_e.TimeoutError=_e.instrumentationScopeId=_e.hashAttributes=_e.isNotNullish=void 0;function TU(e){return e!=null}_e.isNotNullish=TU;function RU(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}_e.hashAttributes=RU;function OU(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}_e.instrumentationScopeId=OU;var ns=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,ns.prototype)}};_e.TimeoutError=ns;function PU(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new ns("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}_e.callWithTimeout=PU;async function CU(e){return Promise.all(e.map(async t=>{try{let r=await t;return{status:"fulfilled",value:r}}catch(r){return{status:"rejected",reason:r}}}))}_e.PromiseAllSettled=CU;function IU(e){return e.status==="rejected"}_e.isPromiseAllSettledRejectionResult=IU;function wU(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}_e.FlatMap=wU;function NU(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}_e.setEquals=NU});var kp=l(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.MetricReader=void 0;var sv=F(),ov=Ht(),av=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t==null?void 0:t.timeoutMillis})}async shutdown(t){if(this._shutdown){sv.diag.error("Cannot call shutdown twice.");return}(t==null?void 0:t.timeoutMillis)==null?await this.onShutdown():await(0,ov.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){sv.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((t==null?void 0:t.timeoutMillis)==null){await this.onForceFlush();return}await(0,ov.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};ou.MetricReader=av});var pv=l(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.PeriodicExportingMetricReader=void 0;var uv=F(),cv=te(),xU=kp(),lv=Ht(),dv=class extends xU.MetricReader{constructor(t){var r,n;super();if(t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&uv.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,s=>{var o;s.code!==cv.ExportResultCode.SUCCESS?i((o=s.error)!==null&&o!==void 0?o:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${s.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,lv.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof lv.TimeoutError){uv.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,cv.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};au.PeriodicExportingMetricReader=dv});var Hr=l(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.isDescriptorCompatibleWith=ct.createInstrumentDescriptorWithView=ct.createInstrumentDescriptor=ct.InstrumentType=void 0;var MU=Gn(),LU;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(LU=ct.InstrumentType||(ct.InstrumentType={}));function DU(e,t,r){var n,i,s;return{name:e,type:t,description:(n=r==null?void 0:r.description)!==null&&n!==void 0?n:"",unit:(i=r==null?void 0:r.unit)!==null&&i!==void 0?i:"",valueType:(s=r==null?void 0:r.valueType)!==null&&s!==void 0?s:MU.ValueType.DOUBLE}}ct.createInstrumentDescriptor=DU;function BU(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}ct.createInstrumentDescriptorWithView=BU;function UU(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}ct.isDescriptorCompatibleWith=UU});var cu=l(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.isObservableInstrument=ge.ObservableUpDownCounterInstrument=ge.ObservableGaugeInstrument=ge.ObservableCounterInstrument=ge.ObservableInstrument=ge.HistogramInstrument=ge.CounterInstrument=ge.UpDownCounterInstrument=ge.SyncInstrument=void 0;var uu=F(),qU=Gn(),is=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=uu.context.active()){this._descriptor.valueType===qU.ValueType.INT&&!Number.isInteger(t)&&(uu.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};ge.SyncInstrument=is;var fv=class extends is{add(t,r,n){this._record(t,r,n)}};ge.UpDownCounterInstrument=fv;var hv=class extends is{add(t,r,n){if(t<0){uu.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};ge.CounterInstrument=hv;var _v=class extends is{record(t,r,n){if(t<0){uu.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};ge.HistogramInstrument=_v;var Hn=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};ge.ObservableInstrument=Hn;var gv=class extends Hn{};ge.ObservableCounterInstrument=gv;var mv=class extends Hn{};ge.ObservableGaugeInstrument=mv;var Ev=class extends Hn{};ge.ObservableUpDownCounterInstrument=Ev;function FU(e){return e instanceof Hn}ge.isObservableInstrument=FU});var jp=l(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.Meter=void 0;var it=Hr(),$n=cu(),yv=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new $n.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new $n.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new $n.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new $n.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new $n.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new $n.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};lu.Meter=yv});var pu=l(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.ExactPredicate=Vn.PatternPredicate=void 0;var kU=/[\^$\\.+?()[\]{}|]/g,du=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(du.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(kU,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};Vn.PatternPredicate=du;var Sv=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};Vn.ExactPredicate=Sv});var Gp=l(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.InstrumentSelector=void 0;var jU=pu(),Av=class{constructor(t){var r;this._nameFilter=new jU.PatternPredicate((r=t==null?void 0:t.name)!==null&&r!==void 0?r:"*"),this._type=t==null?void 0:t.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};fu.InstrumentSelector=Av});var $p=l(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.MeterSelector=void 0;var Hp=pu(),bv=class{constructor(t){this._nameFilter=new Hp.ExactPredicate(t==null?void 0:t.name),this._versionFilter=new Hp.ExactPredicate(t==null?void 0:t.version),this._schemaUrlFilter=new Hp.ExactPredicate(t==null?void 0:t.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};hu.MeterSelector=bv});var os=l(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.AggregatorKind=void 0;var GU;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(GU=ss.AggregatorKind||(ss.AggregatorKind={}))});var Tv=l(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.DropAggregator=void 0;var HU=os(),vv=class{constructor(){this.kind=HU.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,s){}};_u.DropAggregator=vv});var Ov=l(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.HistogramAggregator=Wn.HistogramAccumulation=void 0;var $U=os(),VU=rs();function WU(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var as=class{constructor(t,r=WU(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};Wn.HistogramAccumulation=as;var Rv=class{constructor(t){this._boundaries=t,this.kind=$U.AggregatorKind.HISTOGRAM}createAccumulation(){return new as(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[u]+o[u];return new as(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=o[u]-s[u];return new as(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:VU.DataPointType.HISTOGRAM,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Wn.HistogramAggregator=Rv});var Cv=l(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.LastValueAggregator=Yn.LastValueAccumulation=void 0;var YU=os(),us=te(),KU=rs(),cs=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,us.hrTime)()}toPointValue(){return this._current}};Yn.LastValueAccumulation=cs;var Pv=class{constructor(){this.kind=YU.AggregatorKind.LAST_VALUE}createAccumulation(){return new cs}merge(t,r){let n=(0,us.hrTimeToMicroseconds)(r.sampleTime)>=(0,us.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new cs(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,us.hrTimeToMicroseconds)(r.sampleTime)>=(0,us.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new cs(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:KU.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Yn.LastValueAggregator=Pv});var wv=l(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.SumAggregator=Kn.SumAccumulation=void 0;var XU=os(),zU=rs(),ls=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};Kn.SumAccumulation=ls;var Iv=class{constructor(){this.kind=XU.AggregatorKind.SUM}createAccumulation(){return new ls}merge(t,r){return new ls(t.toPointValue()+r.toPointValue())}diff(t,r){return new ls(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:zU.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Kn.SumAggregator=Iv});var Nv=l(It=>{"use strict";var QU=It&&It.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gu=It&&It.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&QU(t,e,r)};Object.defineProperty(It,"__esModule",{value:!0});gu(Tv(),It);gu(Ov(),It);gu(Cv(),It);gu(wv(),It)});var Wp=l(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.DefaultAggregation=xe.ExplicitBucketHistogramAggregation=xe.HistogramAggregation=xe.LastValueAggregation=xe.SumAggregation=xe.DropAggregation=xe.Aggregation=void 0;var ZU=F(),ds=Nv(),Xn=Hr(),ur=class{static Drop(){return Mv}static Sum(){return Lv}static LastValue(){return Dv}static Histogram(){return Bv}static Default(){return JU}};xe.Aggregation=ur;var zn=class extends ur{createAggregator(t){return zn.DEFAULT_INSTANCE}};xe.DropAggregation=zn;zn.DEFAULT_INSTANCE=new ds.DropAggregator;var Qn=class extends ur{createAggregator(t){return Qn.DEFAULT_INSTANCE}};xe.SumAggregation=Qn;Qn.DEFAULT_INSTANCE=new ds.SumAggregator;var Zn=class extends ur{createAggregator(t){return Zn.DEFAULT_INSTANCE}};xe.LastValueAggregation=Zn;Zn.DEFAULT_INSTANCE=new ds.LastValueAggregator;var Jn=class extends ur{createAggregator(t){return Jn.DEFAULT_INSTANCE}};xe.HistogramAggregation=Jn;Jn.DEFAULT_INSTANCE=new ds.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var xv=class extends ur{constructor(t){super();if(t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,s)=>i-s);let r=t.lastIndexOf(-Infinity),n=t.indexOf(Infinity);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new ds.HistogramAggregator(this._boundaries)}};xe.ExplicitBucketHistogramAggregation=xv;var Vp=class extends ur{_resolve(t){switch(t.type){case Xn.InstrumentType.COUNTER:case Xn.InstrumentType.UP_DOWN_COUNTER:case Xn.InstrumentType.OBSERVABLE_COUNTER:case Xn.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return Lv;case Xn.InstrumentType.OBSERVABLE_GAUGE:return Dv;case Xn.InstrumentType.HISTOGRAM:return Bv}return ZU.diag.warn(`Unable to recognize instrument type: ${t.type}`),Mv}createAggregator(t){return this._resolve(t).createAggregator(t)}};xe.DefaultAggregation=Vp;var Mv=new zn,Lv=new Qn,Dv=new Zn,Bv=new Jn,JU=new Vp});var Kp=l(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.FilteringAttributesProcessor=cr.NoopAttributesProcessor=cr.AttributesProcessor=void 0;var mu=class{static Noop(){return eq}};cr.AttributesProcessor=mu;var Yp=class extends mu{process(t,r){return t}};cr.NoopAttributesProcessor=Yp;var Uv=class extends mu{constructor(t){super();this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};cr.FilteringAttributesProcessor=Uv;var eq=new Yp});var Xp=l(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.View=void 0;var tq=Wp(),rq=Kp(),qv=class{constructor(t){var r,n;this.name=t==null?void 0:t.name,this.description=t==null?void 0:t.description,this.aggregation=(r=t==null?void 0:t.aggregation)!==null&&r!==void 0?r:tq.Aggregation.Default(),this.attributesProcessor=(n=t==null?void 0:t.attributesProcessor)!==null&&n!==void 0?n:rq.AttributesProcessor.Noop()}};Eu.View=qv});var Fv=l(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.ViewRegistry=void 0;var nq=Gp(),iq=$p(),sq=Xp(),ps=class{constructor(){this._registeredViews=[]}addView(t,r=new nq.InstrumentSelector,n=new iq.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[ps.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};yu.ViewRegistry=ps;ps.DEFAULT_VIEW=new sq.View});var zp=l(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.MetricStorage=void 0;var oq=Hr(),kv=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,oq.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};Su.MetricStorage=kv});var fs=l(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.AttributeHashMap=ei.HashMap=void 0;var aq=Ht(),Qp=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r!=null||(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n!=null||(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r!=null||(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};ei.HashMap=Qp;var jv=class extends Qp{constructor(){super(aq.hashAttributes)}};ei.AttributeHashMap=jv});var Jp=l(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.DeltaMetricProcessor=void 0;var Zp=fs(),Gv=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new Zp.AttributeHashMap,this._cumulativeMemoStorage=new Zp.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i==null||i.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let s=this._aggregator.createAccumulation();if(s==null||s.record(n),this._cumulativeMemoStorage.has(r,i)){let o=this._cumulativeMemoStorage.get(r,i);s=this._aggregator.diff(o,s)}this._cumulativeMemoStorage.set(r,s,i),this._activeCollectionStorage.set(r,s,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new Zp.AttributeHashMap,t}};Au.DeltaMetricProcessor=Gv});var ef=l(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.TemporalMetricProcessor=void 0;var Hv=iu(),uq=fs(),hs=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,s,o){let a=s;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),c=u,d;if(this._reportHistory.has(t)){let p=this._reportHistory.get(t);a=p.collectionTime,d=p.aggregationTemporality,d===Hv.AggregationTemporality.CUMULATIVE&&(c=hs.merge(p.accumulations,u,this._aggregator))}else d=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:c,collectionTime:o,aggregationTemporality:d}),this._aggregator.toMetricData(n,d,cq(c),d===Hv.AggregationTemporality.CUMULATIVE?s:a,o)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new uq.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=hs.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let s=t,o=r.entries(),a=o.next();for(;a.done!==!0;){let[u,c,d]=a.value,p=(i=t.get(u,d))!==null&&i!==void 0?i:n.createAccumulation();s.set(u,n.merge(p,c),d),a=o.next()}return s}};bu.TemporalMetricProcessor=hs;function cq(e){return Array.from(e.entries())}});var Vv=l(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.AsyncMetricStorage=void 0;var lq=zp(),dq=Jp(),pq=ef(),fq=fs(),$v=class extends lq.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new dq.DeltaMetricProcessor(r),this._temporalMetricStorage=new pq.TemporalMetricProcessor(r)}record(t){let r=new fq.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};vu.AsyncMetricStorage=$v});var zv=l(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.getConflictResolutionRecipe=Ge.getDescriptionResolutionRecipe=Ge.getTypeConflictResolutionRecipe=Ge.getUnitConflictResolutionRecipe=Ge.getValueTypeConflictResolutionRecipe=Ge.getIncompatibilityDetails=void 0;function hq(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}Ge.getIncompatibilityDetails=hq;function Wv(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}Ge.getValueTypeConflictResolutionRecipe=Wv;function Yv(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}Ge.getUnitConflictResolutionRecipe=Yv;function Kv(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}Ge.getTypeConflictResolutionRecipe=Kv;function Xv(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}Ge.getDescriptionResolutionRecipe=Xv;function _q(e,t){return e.valueType!==t.valueType?Wv(e,t):e.unit!==t.unit?Yv(e,t):e.type!==t.type?Kv(e,t):e.description!==t.description?Xv(e,t):""}Ge.getConflictResolutionRecipe=_q});var Zv=l(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.MetricStorageRegistry=void 0;var gq=Hr(),Qv=F(),Tu=zv(),Ru=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new Ru}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let s of n){let o=s.getInstrumentDescriptor();(0,gq.isDescriptorCompatibleWith)(o,r)?(o.description!==r.description&&(r.description.length>o.description.length&&s.updateDescription(r.description),Qv.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,Tu.getIncompatibilityDetails)(o,r),`The longer description will be used.
To resolve the conflict:`,(0,Tu.getConflictResolutionRecipe)(o,r))),i=s):Qv.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,Tu.getIncompatibilityDetails)(o,r),`To resolve the conflict:
`,(0,Tu.getConflictResolutionRecipe)(o,r))}return i!=null?i:(n.push(t),t)}};Ou.MetricStorageRegistry=Ru});var eT=l(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.MultiMetricStorage=void 0;var Jv=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};Pu.MultiMetricStorage=Jv});var tf=l(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.BatchObservableResultImpl=ti.ObservableResultImpl=void 0;var tT=F(),rT=Gn(),nT=fs(),mq=cu(),iT=class{constructor(t){this._descriptor=t,this._buffer=new nT.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===rT.ValueType.INT&&!Number.isInteger(t)&&(tT.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};ti.ObservableResultImpl=iT;var sT=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,mq.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new nT.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===rT.ValueType.INT&&!Number.isInteger(r)&&(tT.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};ti.BatchObservableResultImpl=sT});var cT=l(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.ObservableRegistry=void 0;var Eq=F(),oT=cu(),aT=tf(),_s=Ht(),uT=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(oT.isObservableInstrument));if(n.size===0){Eq.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(oT.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,_s.PromiseAllSettled)([...r,...n])).filter(_s.isPromiseAllSettledRejectionResult).map(o=>o.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new aT.ObservableResultImpl(n._descriptor),s=Promise.resolve(r(i));t!=null&&(s=(0,_s.callWithTimeout)(s,t)),await s,n._metricStorages.forEach(o=>{o.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new aT.BatchObservableResultImpl,s=Promise.resolve(r(i));t!=null&&(s=(0,_s.callWithTimeout)(s,t)),await s,n.forEach(o=>{let a=i._buffer.get(o);a!=null&&o._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,_s.setEquals)(n.instruments,r))}};Cu.ObservableRegistry=uT});var dT=l(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.SyncMetricStorage=void 0;var yq=zp(),Sq=Jp(),Aq=ef(),lT=class extends yq.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Sq.DeltaMetricProcessor(r),this._temporalMetricStorage=new Aq.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};Iu.SyncMetricStorage=lT});var hT=l(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.MeterSharedState=void 0;var pT=Hr(),bq=jp(),wu=Ht(),vq=Vv(),Tq=Zv(),Rq=eT(),Oq=cT(),Pq=dT(),fT=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new Tq.MetricStorageRegistry,this.observableRegistry=new Oq.ObservableRegistry,this.meter=new bq.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,pT.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new Pq.SyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(wu.isNotNullish);return n.length===1?n[0]:new Rq.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,pT.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new vq.AsyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(wu.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n==null?void 0:n.timeoutMillis),s=Array.from(this._metricStorageRegistry.getStorages()).map(o=>o.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(wu.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(wu.isNotNullish)},errors:i}}};Nu.MeterSharedState=fT});var gT=l(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.MeterProviderSharedState=void 0;var Cq=te(),Iq=Ht(),wq=Fv(),Nq=hT(),_T=class{constructor(t){this.resource=t,this.viewRegistry=new wq.ViewRegistry,this.sdkStartTime=(0,Cq.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,Iq.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new Nq.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};xu.MeterProviderSharedState=_T});var ET=l(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.MetricCollector=void 0;var xq=te(),Mq=Ht(),mT=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,xq.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,Mq.FlatMap)(i,s=>s.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};Mu.MetricCollector=mT});var ST=l(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.MeterProvider=void 0;var rf=F(),Lq=Gn(),Dq=$i(),Bq=gT(),Uq=Gp(),qq=$p(),Fq=Xp(),kq=ET(),jq=Kp(),Gq=pu();function Hq(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var yT=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new Bq.MeterProviderSharedState((r=t==null?void 0:t.resource)!==null&&r!==void 0?r:Dq.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(rf.diag.warn("A shutdown MeterProvider cannot provide a Meter"),Lq.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new kq.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(Hq(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r==null?void 0:r.instrument)===null||n===void 0?void 0:n.name)==null||Gq.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new jq.FilteringAttributesProcessor(t.attributeKeys));let s=new Fq.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),o=new Uq.InstrumentSelector(r==null?void 0:r.instrument),a=new qq.MeterSelector(r==null?void 0:r.meter);this._sharedState.viewRegistry.addView(s,o,a)}async shutdown(t){if(this._shutdown){rf.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){rf.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};Lu.MeterProvider=yT});var AT=l(me=>{"use strict";var $q=me&&me.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wt=me&&me.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$q(t,e,r)};Object.defineProperty(me,"__esModule",{value:!0});me.TimeoutError=me.InstrumentType=void 0;wt(iu(),me);wt(rs(),me);wt(rv(),me);wt(iv(),me);wt(kp(),me);wt(pv(),me);var Vq=Hr();Object.defineProperty(me,"InstrumentType",{enumerable:!0,get:function(){return Vq.InstrumentType}});wt(jp(),me);wt(ST(),me);wt(tf(),me);var Wq=Ht();Object.defineProperty(me,"TimeoutError",{enumerable:!0,get:function(){return Wq.TimeoutError}});wt(Wp(),me)});var RT=l(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.toMetric=lr.toScopeMetrics=lr.toResourceMetrics=void 0;var bT=Gn(),Du=te(),Nt=AT(),nf=Ja();function Yq(e){return{resource:{attributes:(0,nf.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:vT(e.scopeMetrics)}}lr.toResourceMetrics=Yq;function vT(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>TT(n)),schemaUrl:t.scope.schemaUrl})))}lr.toScopeMetrics=vT;function TT(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=Jq(e.aggregationTemporality);if(e.dataPointType===Nt.DataPointType.SINGULAR){let n=Xq(e),i=e.descriptor.type===Nt.InstrumentType.COUNTER||e.descriptor.type===Nt.InstrumentType.OBSERVABLE_COUNTER;Qq(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else Zq(e)&&(t.histogram={aggregationTemporality:r,dataPoints:zq(e)});return t}lr.toMetric=TT;function Kq(e,t){let r={attributes:(0,nf.toAttributes)(e.attributes),startTimeUnixNano:(0,Du.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Du.hrTimeToNanoseconds)(e.endTime)};return t===bT.ValueType.INT?r.asInt=e.value:t===bT.ValueType.DOUBLE&&(r.asDouble=e.value),r}function Xq(e){return e.dataPoints.map(t=>Kq(t,e.descriptor.valueType))}function zq(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,nf.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Du.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Du.hrTimeToNanoseconds)(t.endTime)}})}function Qq(e){return e.descriptor.type===Nt.InstrumentType.COUNTER||e.descriptor.type===Nt.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===Nt.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===Nt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function Zq(e){return e.dataPointType===Nt.DataPointType.HISTOGRAM}function Jq(e){return e===Nt.AggregationTemporality.DELTA?1:e===Nt.AggregationTemporality.CUMULATIVE?2:0}});var OT=l(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.createExportMetricsServiceRequest=void 0;var eF=RT();function tF(e){return{resourceMetrics:e.map(t=>(0,eF.toResourceMetrics)(t))}}Bu.createExportMetricsServiceRequest=tF});var PT=l(He=>{"use strict";var rF=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Uu=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rF(t,e,r)};Object.defineProperty(He,"__esModule",{value:!0});He.createExportMetricsServiceRequest=He.createExportTraceServiceRequest=void 0;Uu(x0(),He);Uu(L0(),He);Uu(B0(),He);Uu(U0(),He);var nF=j0();Object.defineProperty(He,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return nF.createExportTraceServiceRequest}});var iF=OT();Object.defineProperty(He,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return iF.createExportMetricsServiceRequest}})});var wT=l(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.OTLPTraceExporter=void 0;var ri=te(),sF=Rp(),CT=Rp(),oF=PT(),sf="v1/traces",aF=`http://localhost:4318/${sf}`,IT=class extends sF.OTLPExporterNodeBase{constructor(t={}){super(t);this.headers=Object.assign(this.headers,ri.baggageUtils.parseKeyPairsIntoRecord((0,ri.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,oF.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,ri.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,CT.appendRootPathToUrlIfNeeded)((0,ri.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,sf):(0,ri.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,CT.appendResourcePathToUrl)((0,ri.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,sf):aF}};qu.OTLPTraceExporter=IT});var NT=l($r=>{"use strict";var uF=$r&&$r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cF=$r&&$r.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&uF(t,e,r)};Object.defineProperty($r,"__esModule",{value:!0});cF(wT(),$r)});var xT=l(Vr=>{"use strict";var lF=Vr&&Vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dF=Vr&&Vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lF(t,e,r)};Object.defineProperty(Vr,"__esModule",{value:!0});dF(NT(),Vr)});var MT=l(Wr=>{"use strict";var pF=Wr&&Wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fF=Wr&&Wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pF(t,e,r)};Object.defineProperty(Wr,"__esModule",{value:!0});fF(xT(),Wr)});var QT=l(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var gF=O("path"),mF=O("fs"),EF=O("module");function af(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ie=af(gF),Kr=af(mF),yF=af(EF);function Xr(e){let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}function uf(e,t){for(;;){let r=ie.default.join(e,t);if(Kr.default.existsSync(r))return Xr(r);let n=ie.default.dirname(e);if(n===e)return;e=n}}function SF(e,t){t===void 0&&(t=!1);var r=e.length,n=0,i="",s=0,o=16,a=0,u=0,c=0,d=0,p=0;function f(A,G){for(var N=0,L=0;N<A||!G;){var P=e.charCodeAt(n);if(P>=48&&P<=57)L=L*16+P-48;else if(P>=65&&P<=70)L=L*16+P-65+10;else if(P>=97&&P<=102)L=L*16+P-97+10;else break;n++,N++}return N<A&&(L=-1),L}function h(A){n=A,i="",s=0,o=16,p=0}function _(){var A=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&ai(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&ai(e.charCodeAt(n)))for(n++;n<e.length&&ai(e.charCodeAt(n));)n++;else return p=3,e.substring(A,n);var G=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&ai(e.charCodeAt(n))){for(n++;n<e.length&&ai(e.charCodeAt(n));)n++;G=n}else p=3;return e.substring(A,G)}function g(){for(var A="",G=n;;){if(n>=r){A+=e.substring(G,n),p=2;break}var N=e.charCodeAt(n);if(N===34){A+=e.substring(G,n),n++;break}if(N===92){if(A+=e.substring(G,n),n++,n>=r){p=2;break}var L=e.charCodeAt(n++);switch(L){case 34:A+='"';break;case 92:A+="\\";break;case 47:A+="/";break;case 98:A+="\b";break;case 102:A+="\f";break;case 110:A+=`
`;break;case 114:A+="\r";break;case 116:A+="	";break;case 117:var P=f(4,!0);P>=0?A+=String.fromCharCode(P):p=4;break;default:p=5}G=n;continue}if(N>=0&&N<=31)if(ms(N)){A+=e.substring(G,n),p=2;break}else p=6;n++}return A}function b(){if(i="",p=0,s=n,u=a,d=c,n>=r)return s=r,o=17;var A=e.charCodeAt(n);if(cf(A)){do n++,i+=String.fromCharCode(A),A=e.charCodeAt(n);while(cf(A));return o=15}if(ms(A))return n++,i+=String.fromCharCode(A),A===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),a++,c=n,o=14;switch(A){case 123:return n++,o=1;case 125:return n++,o=2;case 91:return n++,o=3;case 93:return n++,o=4;case 58:return n++,o=6;case 44:return n++,o=5;case 34:return n++,i=g(),o=10;case 47:var G=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<r&&!ms(e.charCodeAt(n));)n++;return i=e.substring(G,n),o=12}if(e.charCodeAt(n+1)===42){n+=2;for(var N=r-1,L=!1;n<N;){var P=e.charCodeAt(n);if(P===42&&e.charCodeAt(n+1)===47){n+=2,L=!0;break}n++,ms(P)&&(P===13&&e.charCodeAt(n)===10&&n++,a++,c=n)}return L||(n++,p=1),i=e.substring(G,n),o=13}return i+=String.fromCharCode(A),n++,o=16;case 45:if(i+=String.fromCharCode(A),n++,n===r||!ai(e.charCodeAt(n)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=_(),o=11;default:for(;n<r&&v(A);)n++,A=e.charCodeAt(n);if(s!==n){switch(i=e.substring(s,n),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(A),n++,o=16}}function v(A){if(cf(A)||ms(A))return!1;switch(A){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function S(){var A;do A=b();while(A>=12&&A<=15);return A}return{setPosition:h,getPosition:function(){return n},scan:t?S:b,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return s},getTokenLength:function(){return n-s},getTokenStartLine:function(){return u},getTokenStartCharacter:function(){return s-d},getTokenError:function(){return p}}}function cf(e){return e===32||e===9||e===11||e===12||e===160||e===5760||e>=8192&&e<=8203||e===8239||e===8287||e===12288||e===65279}function ms(e){return e===10||e===13||e===8232||e===8233}function ai(e){return e>=48&&e<=57}var Gu;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Gu||(Gu={}));function AF(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=Gu.DEFAULT);var n=null,i=[],s=[];function o(u){Array.isArray(i)?i.push(u):n!==null&&(i[n]=u)}var a={onObjectBegin:function(){var u={};o(u),s.push(i),i=u,n=null},onObjectProperty:function(u){n=u},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var u=[];o(u),s.push(i),i=u,n=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(u,c,d){t.push({error:u,offset:c,length:d})}};return bF(e,a,r),i[0]}function bF(e,t,r){r===void 0&&(r=Gu.DEFAULT);var n=SF(e,!1);function i(C){return C?function(){return C(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function s(C){return C?function(V){return C(V,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var o=i(t.onObjectBegin),a=s(t.onObjectProperty),u=i(t.onObjectEnd),c=i(t.onArrayBegin),d=i(t.onArrayEnd),p=s(t.onLiteralValue),f=s(t.onSeparator),h=i(t.onComment),_=s(t.onError),g=r&&r.disallowComments,b=r&&r.allowTrailingComma;function v(){for(;;){var C=n.scan();switch(n.getTokenError()){case 4:S(14);break;case 5:S(15);break;case 3:S(13);break;case 1:g||S(11);break;case 2:S(12);break;case 6:S(16);break}switch(C){case 12:case 13:g?S(10):h();break;case 16:S(1);break;case 15:case 14:break;default:return C}}}function S(C,V,m){if(V===void 0&&(V=[]),m===void 0&&(m=[]),_(C),V.length+m.length>0)for(var H=n.getToken();H!==17;){if(V.indexOf(H)!==-1){v();break}else if(m.indexOf(H)!==-1)break;H=v()}}function A(C){var V=n.getTokenValue();return C?p(V):a(V),v(),!0}function G(){switch(n.getToken()){case 11:var C=n.getTokenValue(),V=Number(C);isNaN(V)&&(S(2),V=0),p(V);break;case 7:p(null);break;case 8:p(!0);break;case 9:p(!1);break;default:return!1}return v(),!0}function N(){return n.getToken()!==10?(S(3,[],[2,5]),!1):(A(!1),n.getToken()===6?(f(":"),v(),M()||S(4,[],[2,5])):S(5,[],[2,5]),!0)}function L(){o(),v();for(var C=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(C||S(4,[],[]),f(","),v(),n.getToken()===2&&b)break}else C&&S(6,[],[]);N()||S(4,[],[2,5]),C=!0}return u(),n.getToken()!==2?S(7,[2],[]):v(),!0}function P(){c(),v();for(var C=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(C||S(4,[],[]),f(","),v(),n.getToken()===4&&b)break}else C&&S(6,[],[]);M()||S(4,[],[4,5]),C=!0}return d(),n.getToken()!==4?S(8,[4],[]):v(),!0}function M(){switch(n.getToken()){case 3:return P();case 1:return L();case 10:return A(!0);default:return G()}}return v(),n.getToken()===17?r.allowEmptyContent?!0:(S(4,[],[]),!1):M()?(n.getToken()!==17&&S(9,[],[]),!0):(S(4,[],[]),!1)}var vF=AF,lf=/^\.{1,2}(\/.*)?$/,df=e=>Xr(lf.test(e)?e:`./${e}`),{existsSync:Es}=Kr.default,TF=e=>{try{return JSON.parse(e)}catch{}},RF=()=>{let{findPnpApi:e}=yF.default;return e&&e(process.cwd())};function YT(e){let t=TF(Kr.default.readFileSync(e,"utf8"));return ie.default.join(e,"..",t&&"tsconfig"in t?t.tsconfig:"tsconfig.json")}function OF(e,t){let r=e;if(r===".."&&(r+="/tsconfig.json"),r.startsWith(".")){let s=ie.default.resolve(t,r);if(Es(s)&&Kr.default.statSync(s).isFile()||!s.endsWith(".json")&&(s+=".json",Es(s)))return s;throw new Error(`File '${e}' not found.`)}let n=RF();if(n){let{resolveRequest:s}=n,[o,a]=e.split("/"),u=o.startsWith("@")?`${o}/${a}`:o;try{if(u===e){let c=s(ie.default.join(u,"package.json"),t);if(c){let d=YT(c);if(Es(d))return d}}else try{return s(e,t,{extensions:[".json"]})}catch{return s(ie.default.join(e,"tsconfig.json"),t)}}catch{}}let i=uf(t,ie.default.join("node_modules",r));if(i){if(Kr.default.statSync(i).isDirectory()){let s=ie.default.join(i,"package.json");if(Es(s)?i=YT(s):i=ie.default.join(i,"tsconfig.json"),Es(i))return i}else if(i.endsWith(".json"))return i}if(!r.endsWith(".json")&&(r+=".json",i=uf(t,ie.default.join("node_modules",r)),i))return i;throw new Error(`File '${e}' not found.`)}var PF=Object.defineProperty,CF=Object.defineProperties,IF=Object.getOwnPropertyDescriptors,KT=Object.getOwnPropertySymbols,wF=Object.prototype.hasOwnProperty,NF=Object.prototype.propertyIsEnumerable,XT=(e,t,r)=>t in e?PF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ui=(e,t)=>{for(var r in t||(t={}))wF.call(t,r)&&XT(e,r,t[r]);if(KT)for(var r of KT(t))NF.call(t,r)&&XT(e,r,t[r]);return e},xF=(e,t)=>CF(e,IF(t));function pf(e){var t;let r;try{r=Kr.default.realpathSync(e)}catch{throw new Error(`Cannot resolve tsconfig at path: ${e}`)}let n=ie.default.dirname(r),i=Kr.default.readFileSync(r,"utf8").trim(),s={};if(i&&(s=vF(i),!s||typeof s!="object"))throw new SyntaxError(`Failed to parse tsconfig at: ${e}`);if(s.extends){let o=OF(s.extends,n),a=pf(o);if(delete a.references,(t=a.compilerOptions)!=null&&t.baseUrl){let{compilerOptions:c}=a;c.baseUrl=ie.default.relative(n,ie.default.join(ie.default.dirname(o),c.baseUrl))||"./"}a.files&&(a.files=a.files.map(c=>ie.default.relative(n,ie.default.join(ie.default.dirname(o),c)))),a.include&&(a.include=a.include.map(c=>ie.default.relative(n,ie.default.join(ie.default.dirname(o),c)))),delete s.extends;let u=xF(ui(ui({},a),s),{compilerOptions:ui(ui({},a.compilerOptions),s.compilerOptions)});a.watchOptions&&(u.watchOptions=ui(ui({},a.watchOptions),s.watchOptions)),s=u}if(s.compilerOptions){let{compilerOptions:o}=s;o.baseUrl&&(o.baseUrl=df(o.baseUrl)),o.outDir&&(Array.isArray(s.exclude)||(s.exclude=[]),s.exclude.push(o.outDir),o.outDir=df(o.outDir))}if(s.files&&(s.files=s.files.map(df)),s.include&&(s.include=s.include.map(Xr)),s.watchOptions){let{watchOptions:o}=s;o.excludeDirectories&&(o.excludeDirectories=o.excludeDirectories.map(a=>Xr(ie.default.resolve(n,a))))}return s}function MF(e=process.cwd(),t="tsconfig.json"){let r=uf(e,t);if(!r)return null;let n=pf(r);return{path:r,config:n}}var LF=/\*/g,zT=(e,t)=>{let r=e.match(LF);if(r&&r.length>1)throw new Error(t)};function DF(e){if(e.includes("*")){let[t,r]=e.split("*");return{prefix:t,suffix:r}}return e}var BF=({prefix:e,suffix:t},r)=>r.startsWith(e)&&r.endsWith(t);function UF(e,t,r){return Object.entries(e).map(([n,i])=>(zT(n,`Pattern '${n}' can have at most one '*' character.`),{pattern:DF(n),substitutions:i.map(s=>{if(zT(s,`Substitution '${s}' in pattern '${n}' can have at most one '*' character.`),!t&&!lf.test(s))throw new Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return ie.default.join(r,s)})}))}function qF(e){if(!e.config.compilerOptions)return null;let{baseUrl:t,paths:r}=e.config.compilerOptions;if(!t&&!r)return null;let n=ie.default.resolve(ie.default.dirname(e.path),t||"."),i=r?UF(r,t,n):[];return function(s){if(lf.test(s))return[];let o=[];for(let d of i){if(d.pattern===s)return d.substitutions.map(Xr);typeof d.pattern!="string"&&o.push(d)}let a,u=-1;for(let d of o)BF(d.pattern,s)&&d.pattern.prefix.length>u&&(u=d.pattern.prefix.length,a=d);if(!a)return t?[Xr(ie.default.join(n,s))]:[];let c=s.slice(a.pattern.prefix.length,s.length-a.pattern.suffix.length);return a.substitutions.map(d=>Xr(d.replace("*",c)))}}ys.createPathsMatcher=qF,ys.getTsconfig=MF,ys.parseTsconfig=pf});var nR=l((zr,rR)=>{"use strict";var ff=O("crypto");zr=rR.exports=Ss;function Ss(e,t){return t=JT(e,t),FF(e,t)}zr.sha1=function(e){return Ss(e)};zr.keys=function(e){return Ss(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})};zr.MD5=function(e){return Ss(e,{algorithm:"md5",encoding:"hex"})};zr.keysMD5=function(e){return Ss(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var ci=ff.getHashes?ff.getHashes().slice():["sha1","md5"];ci.push("passthrough");var ZT=["buffer","hex","binary","base64"];function JT(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=t.ignoreUnknown===!0,r.respectType=t.respectType!==!1,r.respectFunctionNames=t.respectFunctionNames!==!1,r.respectFunctionProperties=t.respectFunctionProperties!==!1,r.unorderedArrays=t.unorderedArrays===!0,r.unorderedSets=t.unorderedSets!==!1,r.unorderedObjects=t.unorderedObjects!==!1,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,typeof e=="undefined")throw new Error("Object argument required.");for(var n=0;n<ci.length;++n)ci[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=ci[n]);if(ci.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+ci.join(", "));if(ZT.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+ZT.join(", "));return r}function eR(e){if(typeof e!="function")return!1;var t=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return t.exec(Function.prototype.toString.call(e))!=null}function FF(e,t){var r;t.algorithm!=="passthrough"?r=ff.createHash(t.algorithm):r=new tR,typeof r.write=="undefined"&&(r.write=r.update,r.end=r.update);var n=hf(t,r);if(n.dispatch(e),r.update||r.end(""),r.digest)return r.digest(t.encoding==="buffer"?void 0:t.encoding);var i=r.read();return t.encoding==="buffer"?i:i.toString(t.encoding)}zr.writeToStream=function(e,t,r){return typeof r=="undefined"&&(r=t,t={}),t=JT(e,t),hf(t,r).dispatch(e)};function hf(e,t,r){r=r||[];var n=function(i){return t.update?t.update(i,"utf8"):t.write(i,"utf8")};return{dispatch:function(i){e.replacer&&(i=e.replacer(i));var s=typeof i;return i===null&&(s="null"),this["_"+s](i)},_object:function(i){var s=/\[object (.*)\]/i,o=Object.prototype.toString.call(i),a=s.exec(o);a?a=a[1]:a="unknown:["+o+"]",a=a.toLowerCase();var u=null;if((u=r.indexOf(i))>=0)return this.dispatch("[CIRCULAR:"+u+"]");if(r.push(i),typeof Buffer!="undefined"&&Buffer.isBuffer&&Buffer.isBuffer(i))return n("buffer:"),n(i);if(a!=="object"&&a!=="function"&&a!=="asyncfunction")if(this["_"+a])this["_"+a](i);else{if(e.ignoreUnknown)return n("["+a+"]");throw new Error('Unknown object type "'+a+'"')}else{var c=Object.keys(i);e.unorderedObjects&&(c=c.sort()),e.respectType!==!1&&!eR(i)&&c.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(c=c.filter(function(p){return!e.excludeKeys(p)})),n("object:"+c.length+":");var d=this;return c.forEach(function(p){d.dispatch(p),n(":"),e.excludeValues||d.dispatch(i[p]),n(",")})}},_array:function(i,s){s=typeof s!="undefined"?s:e.unorderedArrays!==!1;var o=this;if(n("array:"+i.length+":"),!s||i.length<=1)return i.forEach(function(c){return o.dispatch(c)});var a=[],u=i.map(function(c){var d=new tR,p=r.slice(),f=hf(e,d,p);return f.dispatch(c),a=a.concat(p.slice(r.length)),d.read().toString()});return r=r.concat(a),u.sort(),this._array(u,!1)},_date:function(i){return n("date:"+i.toJSON())},_symbol:function(i){return n("symbol:"+i.toString())},_error:function(i){return n("error:"+i.toString())},_boolean:function(i){return n("bool:"+i.toString())},_string:function(i){n("string:"+i.length+":"),n(i.toString())},_function:function(i){n("fn:"),eR(i)?this.dispatch("[native]"):this.dispatch(i.toString()),e.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(i.name)),e.respectFunctionProperties&&this._object(i)},_number:function(i){return n("number:"+i.toString())},_xml:function(i){return n("xml:"+i.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(i){return n("regex:"+i.toString())},_uint8array:function(i){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint8clampedarray:function(i){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(i))},_int8array:function(i){return n("int8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint16array:function(i){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(i))},_int16array:function(i){return n("int16array:"),this.dispatch(Array.prototype.slice.call(i))},_uint32array:function(i){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(i))},_int32array:function(i){return n("int32array:"),this.dispatch(Array.prototype.slice.call(i))},_float32array:function(i){return n("float32array:"),this.dispatch(Array.prototype.slice.call(i))},_float64array:function(i){return n("float64array:"),this.dispatch(Array.prototype.slice.call(i))},_arraybuffer:function(i){return n("arraybuffer:"),this.dispatch(new Uint8Array(i))},_url:function(i){return n("url:"+i.toString(),"utf8")},_map:function(i){n("map:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_set:function(i){n("set:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_file:function(i){return n("file:"),this.dispatch([i.name,i.size,i.type,i.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return n("domwindow")},_bigint:function(i){return n("bigint:"+i.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function tR(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}});var XF={};GR(XF,{default:()=>KF});var Vu=U(O("@yarnpkg/cli")),Ue=U(O("@yarnpkg/core")),pe=U(O("clipanion")),Ef=U(O("path")),As=U(lc()),mR=U(O("os"));var vi=U(O("@yarnpkg/fslib")),W=U(O("typanion")),Hs=U(H_()),mI=".yarnbuildrc.yml",EI=".bundleignore",yI=W.isObject({folders:W.isObject({input:W.isOneOf([W.isString(),W.isArray(W.isString())]),output:W.isNullable(W.isOneOf([W.isString(),W.isArray(W.isString())]))}),exclude:W.isArray(W.isString()),bail:W.isBoolean(),hideYarnBuildBadge:W.isBoolean(),ignoreFile:W.isString()}),SI=W.isObject({input:W.isOptional(W.isOneOf([W.isString(),W.isArray(W.isString())])),output:W.isOptional(W.isNullable(W.isOneOf([W.isString(),W.isArray(W.isString())]))),tsconfig:W.isOptional(W.isString())}),Hc={folders:{input:".",output:null},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:EI};async function AI(e){let t=mI,r=vi.ppath.join(e.projectCwd||e.startingCwd,t);if(vi.xfs.existsSync(r)){let n=await vi.xfs.readFilePromise(r,"utf8"),i=[];try{let s=(0,Hs.load)(n,{schema:Hs.JSON_SCHEMA});if(yI(s,{errors:i}))return s;console.warn(i)}catch(s){let o="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(o=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${o}`)}}return Hc}async function $_(e){var r;let t=await AI(e);return ue(D(D({},Hc),t),{folders:D(D({},Hc.folders),(r=t.folders)!=null?r:{})})}function V_(e){let t=D({},e["yarn.build"]);return SI(t)?t:{}}var k=U(O("@yarnpkg/core")),$e=U(Q_()),iR=U(O("os")),K=U(O("@yarnpkg/fslib"));var _f=U(DE()),sR=U(O("events")),oR=U(YE()),aR=U(QE()),gf=U(JE()),Hu=U(od()),$u=U(Oy());var Q={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var jT=U(F());var FT=U(F()),kT=U(Ud());var LT=U(ka()),DT=U($i()),BT=U(Tt()),UT=U(MT()),qT=U(ka()),ni=U(F());process.env.DEBUG&&ni.diag.setLogger(new ni.DiagConsoleLogger,ni.DiagLogLevel.DEBUG);var Fu=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new UT.OTLPTraceExporter,r=new LT.BasicTracerProvider({resource:new DT.Resource({[BT.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new qT.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var Yr=U(F()),dr=class{constructor(t){this.name=t,this._tracer=Fu.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:FT.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){var o;let n;if(typeof t.ctx=="undefined"?n=Yr.context.active():n=t.ctx,!!t.propegateFromEnv||((o=t==null?void 0:t.spanOptions)==null?void 0:o.kind)==4){let a=process.env.TRACEPARENT;if(typeof a=="string"){let u=(0,kT.parseTraceParent)(a!=null?a:"");u&&(n=Yr.trace.setSpanContext(Yr.context.active(),u))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),s=Yr.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:s}):r({span:i,ctx:s})}catch(a){if((typeof a=="string"||a instanceof Error)&&this.recordException(i,a),!t.supressExceptions)throw a}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx=="undefined"?i=Yr.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var si=class{constructor(){this.tracer=new dr("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new ii(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let s=t.dependencies[i];if(!r.has(s.id)){if(n.has(s.id))throw new ku(t.id,s.id);this.resolveNode(s,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let s=new Set,o=new Set,a={};for(let u of r)this.resolveQueue(u,s,a);return n?(await this.dryRunLoop(s,a,o,0),a):(await new Promise(u=>{this.workLoop(i,s,a,o,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((s,o)=>{this.dryRunCallback(s,i-1),r[s.id]={success:!0,done:!0},n.delete(o)}),t.size!==0&&t.forEach(s=>{var o;s.canStart(r)&&((o=s==null?void 0:s.node)==null?void 0:o.runCallback)&&(n.add(s.node),t.delete(s))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,s){if(r.size!==0&&r.forEach(o=>{var a,u;o.canStart(n)&&(((a=o==null?void 0:o.node)==null?void 0:a.runCallback)?((u=o==null?void 0:o.node)==null||u.runCallback(t,n),i.add(o.node)):n[o.node.id]={success:!0,done:!0},r.delete(o))}),i.forEach((o,a)=>{n[o.id].done&&i.delete(a)}),Object.keys(n).map(o=>{var a,u;return(u=(a=n[o])==null?void 0:a.done)!=null?u:!0}).every(o=>o===!0)){s();return}setTimeout(()=>this.workLoop(t,r,n,i,s),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(s=>{let o=t.dependencies[s];if(i.push(o.id),!n[o.id]&&o.runCallback){n[o.id]=D({},si.RunLogInit);let a=this.resolveQueue(o,r,n),u={node:o,canStart:si.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]=D({},si.RunLogInit);let s={node:t,canStart:si.QueueItemCanStart(i)};r.add(s)}return i}},gs=si;gs.RunLogInit={success:!1,done:!1},gs.QueueItemCanStart=t=>r=>t.map(n=>{var i,s;return(s=(i=r[n])==null?void 0:i.done)!=null?s:!0}).every(n=>n===!0);var ii=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,ii.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies!="undefined"&&Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},ku=class extends Error{constructor(t,r){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=t,this.dep=r}};var GT=U(od()),hF="",Qe=hF+"[",of=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);of.cursorUp(t)}static cursorUp(t=1){process.stdout.write(Qe+`${t}A`)}static cursorSave(){process.stdout.write(Qe+"s")}static cursorRestore(){process.stdout.write(Qe+"u")}static autoWrap(t){t?process.stdout.write(Qe+"?7h"):process.stdout.write(Qe+"?7l")}static clearScreenDown(){process.stdout.write(Qe+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(Qe+"6n")})}static setScrollableRegion(t,r){process.stdout.write(Qe+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(Qe+"r")}static moveTo(t){process.stdout.write(Qe+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(Qe+"H")}static alternateScreen(){process.stdout.write(Qe+"?1049h")}static mainScreen(){process.stdout.write(Qe+"?1049l")}static linesRequired(t,r){var s;let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((s=(0,GT.default)(t).match(n))!=null?s:[""]).length-1}},lt=of;lt.row=0,lt.column=0;var $T=U(O("child_process")),VT=U(O("util"));var HT=()=>process.platform==="win32"?"windows":"unix";var _F=(0,VT.promisify)($T.exec),WT=async e=>{let t=HT(),r=(({platform:i,pid:s})=>{switch(i){case"unix":return`pgrep "-P ${s}"`;case"windows":return`wmic process where (ParentProcessId=${s}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await _F(r);n=i.split(`
`).filter(Boolean).map(s=>parseInt(s,10)).filter(s=>!isNaN(s))}catch(i){}return n};var oi={hasBeenTerminated:!1,callId:0},ju=async(e=0)=>{if(e!==oi.callId||oi.hasBeenTerminated)return;let t=process.pid;(await WT(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch(s){}});let n=oi.callId+1;oi.callId=n,setTimeout(async()=>{ju(n)},50)};var uR=U(F());var cR=U(QT()),lR=U(nR()),kF="yarn.build.json",dR=80,jF="-".repeat(dR),xt;(function(s){s.pending="pending",s.skipped="skipped",s.inProgress="inProgress",s.failed="failed",s.succeeded="succeeded"})(xt||(xt={}));var ce;(function(d){d.pending="pending",d.start="start",d.info="info",d.error="error",d.skipped="skipped",d.ignored="ignored",d.success="success",d.fail="fail",d.finish="finish",d.forceQuit="force-quit"})(ce||(ce={}));var pR=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:s,pluginConfiguration:o,dryRun:a,ignoreRunCache:u,verbose:c,concurrency:d,continueOnError:p,excludeWorkspacePredicate:f,ignoreDependencies:h,failFast:_}){this.tracer=new dr("yarn.build");this.runGraph=new gs;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new sR.EventEmitter;this.ignoreDependencies=!1;this.failFast=!1;this.runReport={mutex:new gf.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.checkIfRunIsRequiredCache={};this.planCache={};this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on(ce.pending,(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on(ce.start,(t,r,n,i)=>{this.runReport.mutex.acquire().then(s=>{this.runReport.workspaces[t]=ue(D({},this.runReport.workspaces[t]),{start:Date.now(),runScript:i,name:n,locator:r}),s()})}),this.runReporter.on(ce.info,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on(ce.error,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on(ce.success,t=>{this.runReport.mutex.acquire().then(r=>{var i;this.runReport.workspaces[t]=ue(D({},this.runReport.workspaces[t]),{done:!0}),this.runReport.successCount++;let n=this.runReport.workspaces[t];if($e.default){let s=`\u2705 ${t}`.padEnd(60),o=Qr(0,(i=n.runtimeSeconds)!=null?i:0).padStart(19);process.stdout.write(`${s}${o}
`)}r()})}),this.runReporter.on(ce.skipped,t=>{this.runReport.mutex.acquire().then(r=>{if(this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r(),$e.default){let n=`\u23E9 ${t} `.padEnd(60),i="--".padStart(19);process.stdout.write(`${n}${i}
`)}})}),this.runReporter.on(ce.ignored,t=>{this.runReport.mutex.acquire().then(r=>{var s;this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r();let n=this.runReport.workspaces[t],i=(s=this.runLog)==null?void 0:s.get(`${t}#${this.runCommand}`);if($e.default){let o=`[IGNORE${(i==null?void 0:i.exitCode)?`: ${i==null?void 0:i.exitCode}`:""}] ${n.name} `.padEnd(60),a="--".padStart(19);process.stdout.write(`${o}${a}
`)}})}),this.runReporter.on(ce.fail,(t,r)=>{this.runReport.mutex.acquire().then(n=>{var o,a;typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],s=(o=this.runLog)==null?void 0:o.get(`${t}#${this.runCommand}`);if($e.default){let u=`\u274C ${t}`.padEnd(50),c=`${(s==null?void 0:s.exitCode)?`(exit code: ${s==null?void 0:s.exitCode})`:"\u2192"} ${Qr(0,(a=i.runtimeSeconds)!=null?a:0)}`.padStart(29);process.stdout.write(`${u}${c}
`)}})})};this.getDependenciesCount=async t=>{let r=0;for(let n of k.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{var o,a,u,c,d;if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");if(typeof this.planCache[r.relativeCwd]!="undefined")return this.planCache[r.relativeCwd];this.runGraph.checkCyclical(t);let n=!1,i=!1;if(this.runMutexes[r.relativeCwd]=new gf.Mutex,this.ignoreDependencies===!1)for(let p of k.Manifest.hardDependencies)for(let f of r.manifest.getForScope(p).values()){let h=this.project.tryWorkspaceByDescriptor(f);if(h===null||this.excludeWorkspacePredicate(h)||typeof h.manifest.scripts.get(this.runCommand)=="undefined")continue;let _=this.runGraph.addNode(h.relativeCwd);t.addDependency(_),this.runGraph.checkCyclical(_),await this.plan(_,h)&&(this.runGraph.addRunCallback(_,this.createRunItem(h)),i=!0,this.removeFromExcluded(h))}let s=!1;if(r!==this.project.topLevelWorkspace&&(s=await this.checkIfRunIsRequired(r)),this.runReporter.emit(ce.pending,r.relativeCwd,r.locator),i||s)n=!0,this.runReporter.emit(ce.pending,r.relativeCwd,r.locator,`${((o=r.manifest.name)==null?void 0:o.scope)?`@${(a=r.manifest.name)==null?void 0:a.scope}/`:""}${(u=r.manifest.name)==null?void 0:u.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);else{let p=(c=this.runLog)==null?void 0:c.get(`${r.relativeCwd}#${this.runCommand}`);p&&((d=this.runLog)==null||d.set(`${r.relativeCwd}#${this.runCommand}`,{checksum:p.checksum,status:xt.succeeded,rerun:!1,command:this.runCommand}))}if(n){let p=r.getRecursiveWorkspaceDependents();for(let h of p)this.markWorkspaceForRerun(h);let f=Array.from(r.getRecursiveWorkspaceDependencies()).filter(h=>this.isWorkspaceMarkedForRerun(h));for(let h of f){let _=h.getRecursiveWorkspaceDependents();for(let g of _)this.markWorkspaceForRerun(g)}}return this.planCache[r.relativeCwd]=n,n};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",s={1:[]};this.runGraph.dryRunCallback=(u,c)=>{s[c]?s[c].push(u.id):s[c]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let o=(u,c,d,p)=>{let f=d?"\u2514\u2500":p&&d?"\u2514\u2500\u252C\u2500":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${f}[${u}] ${c}`},a=Object.keys(s);return a.forEach((u,c)=>{let d=parseInt(u),p=s[d],f=c==a.length-1;p.forEach((h,_)=>{let g=this.runGraph.getNode(h);i+=o(d,h,_==p.length-1,f),g instanceof ii&&g.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{var o,a;let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),($e.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),$e.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;$e.default||lt.pad(this.concurrency+3),$e.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":(a=(o=this.runTargets[0])==null?void 0:o.relativeCwd)!=null?a:"Nothing to run",$e.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let s=this.generateFinalReport();return typeof s=="string"&&process.stdout.write(`
${s}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";$e.default?this.updateProgressCI(t):(n=this.generateProgressString(t),lt.cursorUp(lt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),lt.clearScreenDown()),typeof n!="undefined"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,HF(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>k.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=k.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=k.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),s=k.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${s} ${Qr(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{var s;$e.default||(lt.cursorUp(lt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),lt.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),$e.default&&(t=!0),t){let o=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let a in this.runReport.workspaces){let u=this.runReport.workspaces[a];u.fail&&o.push(a),!(this.runReport.failCount!==0&&u.fail===!1)&&((u.stdout.length!==0||u.stderr.length!==0)&&(r+=`
${this.formatHeader(`Output: ${k.formatUtils.pretty(this.configuration,a,k.FormatType.PATH)}`,2)+`
`}`),u.stdout.length!==0&&u.stdout.forEach(c=>{c.split(`
`).forEach(p=>{typeof p!="undefined"&&p.length!==0&&(r+=`${p+`
`}`)})}),u.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,u.stderr.forEach(d=>{(d instanceof Error?d.toString():`${d}`).split(`
`).forEach(h=>{typeof h!="undefined"&&h.length!==0&&(r+=`${h+`
`}`)})})))}o.length>=2&&(r+=`${this.grey(jF)+`
`}`,r+=`${this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`)}`,o.forEach(u=>{r+=`${`- ${k.formatUtils.pretty(this.configuration,u,k.FormatType.PATH)}`+`
`}`}))}let n=this.formatHeader(`${k.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?k.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:o,failCount:a,ignoredCount:u,skipCount:c}=this.runReport,d=this.runGraph.runSize-u,p=d-a-o-c,f=k.formatUtils.pretty(this.configuration,`Success: ${o}`,"green"),h=k.formatUtils.pretty(this.configuration,`Fail: ${a}`,"red"),_=k.formatUtils.pretty(this.configuration,`Skipped: ${c}`,"white"),g=k.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),b=k.formatUtils.pretty(this.configuration,`Up to date: ${p}`,"white"),v=k.formatUtils.pretty(this.configuration,`Total: ${d}`,"white");if(r+=f+`
`,r+=b+`
`,r+=h+`
`,this.verbose&&a>0&&Object.keys(this.runReport.workspaces).forEach(S=>{let A=this.runReport.workspaces[S];A.fail&&(r+=` - ${k.formatUtils.pretty(this.configuration,S,"grey")}${k.formatUtils.pretty(this.configuration,A.locator,"IDENT")}
`)}),r+=_+`
`,this.verbose&&c>0&&Object.keys(this.runReport.workspaces).forEach(S=>{let A=this.runReport.workspaces[S];A.skipped&&(r+=` - ${k.formatUtils.pretty(this.configuration,S,"grey")}${k.formatUtils.pretty(this.configuration,A.locator,"IDENT")}
`)}),r+=g+`
`,this.verbose&&this.excluded.size>0)for(let S of this.excluded)r+=` - ${k.formatUtils.pretty(this.configuration,S.relativeCwd,"grey")}${k.formatUtils.pretty(this.configuration,S.locator,"IDENT")}
`;r+=v+`
`+this.grey("---")+`
`}let i=50;for(let o in this.runReport.workspaces)i+=(s=this.runReport.workspaces[o].runtimeSeconds)!=null?s:0;if(!!this.runReport.runStart&&this.runGraph.runSize>1){let o=i,u=Date.now()-this.runReport.runStart,c=Qr(u,o);r+=`Cumulative: (cpu): ${Qr(0,i)}
`,r+=`Saved: ${c}
`}return this.runReport.runStart&&(r+="Runtime (wall): "+Qr(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:s})=>{var d,p,f,h,_,g,b,v;let o=t.relativeCwd,a={[Q.PACKAGE_NAME]:t.locator.name,[Q.PACKAGE_DIRECTORY]:t.relativeCwd,[Q.PACKAGE_COMMAND]:this.runCommand};typeof t.locator.scope=="string"&&(a[Q.PACKAGE_SCOPE]=`@${t.locator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[Q.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let c=(d=this.runLog)==null?void 0:d.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit(ce.start,t.relativeCwd,t.locator,`${((p=t.manifest.name)==null?void 0:p.scope)?`@${(f=t.manifest.name)==null?void 0:f.scope}/`:""}${(h=t.manifest.name)==null?void 0:h.name}`,u),i.addEvent("start"),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit(ce.info,t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit(ce.ignored,t.relativeCwd),i.addEvent("ignored"),!0;try{if(this.runReport.failCount!==0&&!this.continueOnError&&(this.runReporter.emit(ce.skipped,t.relativeCwd),i.addEvent("skipped"),(_=this.runLog)==null||_.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:xt.skipped,rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let S=await this.cli(s,this.runCommand,t.cwd,this.runReporter,o);if(i.setAttribute(Q.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,S),S!==0)return this.runReporter.emit(ce.fail,t.relativeCwd),(g=this.runLog)==null||g.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:xt.failed,rerun:!0,command:this.runCommand,exitCode:`${S}`}),this.failFast===!0&&($e.default&&process.stdout.write(`--fail-fast is set, terminating all processes
`),ju()),!1;(b=this.runLog)==null||b.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:xt.succeeded,rerun:!1,command:this.runCommand}),this.runReporter.emit(ce.success,t.relativeCwd)}catch(S){return this.runReporter.emit(ce.fail,t.relativeCwd,S),(v=this.runLog)==null||v.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:xt.failed,rerun:!0,command:this.runCommand}),(typeof S=="string"||S instanceof Error)&&i.recordException(S),i.setStatus({code:uR.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),ju()),!1}return!1}));let g=d!=null?d:(0,iR.cpus)().length;this.configuration=s,this.pluginConfiguration=o,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=c,this.concurrency=g,this.continueOnError=p,this.limit=(0,aR.default)(g),this.queue=new oR.default({concurrency:g,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=f,this.verbose&&(this.errorLogFile=K.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"})),this.ignoreDependencies=h,this.failFast=_}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return K.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return K.ppath.resolve(this.project.cwd,".yarn",kF)}async readRunLog(){let t=new Map;try{let r=await K.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{checksum:r.packages[n].checksum,status:r.packages[n].status,rerun:r.packages[n].rerun,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await K.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:D({},t&&t.packages)};for(let[n]of this.runLog)r.packages[n]=D(D({},r.packages[n]),this.runLog.get(n));await K.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return;let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}markWorkspaceForRerun(t){var n,i,s;if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return;let r=(n=this.runLog)==null?void 0:n.get(`${t.relativeCwd}#${this.runCommand}`);(s=this.runLog)==null||s.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:(i=r==null?void 0:r.checksum)!=null?i:"",status:xt.succeeded,rerun:!0,command:this.runCommand})}isWorkspaceMarkedForRerun(t){var n,i;if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return!1;let r=(n=this.runLog)==null?void 0:n.get(`${t.relativeCwd}#${this.runCommand}`);return(i=r==null?void 0:r.rerun)!=null?i:!1}async checkIfRunIsRequired(t){var f,h,_,g,b,v,S,A,G,N,L,P,M,C,V,m,H,X,se,E,y,Se;if(typeof this.checkIfRunIsRequiredCache[t.relativeCwd]!="undefined")return this.checkIfRunIsRequiredCache[t.relativeCwd];if(typeof t.manifest.scripts.get(this.runCommand)!="string")return this.checkIfRunIsRequiredCache[t.relativeCwd]=!1,!1;let r=!1;this.ignoreRunCache&&(r=!0);let n=(f=this.runLog)==null?void 0:f.get(`${t.relativeCwd}#${this.runCommand}`);(n==null?void 0:n.rerun)&&(r=!0);for(let B of t.getRecursiveWorkspaceDependencies())if(this.checkIfRunIsRequiredCache[B.relativeCwd]===!0){r=!0;break}let i=V_(t.manifest.raw),s=(i==null?void 0:i.input)!=null,o=typeof(i==null?void 0:i.output)!="undefined",a=(h=i.input)!=null?h:this.pluginConfiguration.folders.input,u=new Set,c=new Set(Array.isArray(a)?a:[a]),d=(_=i.output)!=null?_:[],p=new Set(Array.isArray(d)?d:[d]);if(o||(typeof((b=(g=t==null?void 0:t.manifest)==null?void 0:g.raw)==null?void 0:b.bin)=="string"?p.add(t.manifest.raw.bin):typeof((A=(S=(v=t==null?void 0:t.manifest)==null?void 0:v.raw)==null?void 0:S.directories)==null?void 0:A.bin)=="string"?p.add(t.manifest.raw.directories.bin):typeof((N=(G=t==null?void 0:t.manifest)==null?void 0:G.raw)==null?void 0:N.files)=="string"?p.add(t.manifest.raw.files):Array.isArray((P=(L=t==null?void 0:t.manifest)==null?void 0:L.raw)==null?void 0:P.files)?t.manifest.raw.files.forEach(B=>B&&p.add(B)):typeof((C=(M=t==null?void 0:t.manifest)==null?void 0:M.raw)==null?void 0:C.main)=="string"&&p.add(t.manifest.raw.main)),!s||!o)try{let B=(V=i.tsconfig)!=null?V:"tsconfig.json",Ae=K.xfs.pathUtils.join(t.cwd,K.npath.toPortablePath(B));if(await K.xfs.existsPromise(Ae)){let J=(0,cR.parseTsconfig)(K.npath.fromPortablePath(Ae)),st=K.ppath.dirname(Ae);if(!s){if((m=J.compilerOptions)==null?void 0:m.incremental){let pt=(H=J.compilerOptions.tsBuildInfoFile)!=null?H:`${K.ppath.basename(Ae,K.ppath.extname(Ae))}.tsbuildinfo`,ve=K.ppath.join(st,K.npath.toPortablePath(pt)),qe=K.ppath.relative(t.cwd,ve);u.add(qe)}(X=J.include)==null||X.forEach(pt=>{let ve=K.ppath.join(st,K.npath.toPortablePath(pt)),qe=K.ppath.relative(t.cwd,ve);c.add(qe)}),(se=J.exclude)==null||se.forEach(pt=>{let ve=K.ppath.join(st,K.npath.toPortablePath(pt)),qe=K.ppath.relative(t.cwd,ve);u.add(qe)})}if(!o&&((E=J.compilerOptions)==null?void 0:E.outDir)!=null){let pt=K.ppath.join(st,K.npath.toPortablePath(K.npath.toPortablePath(J.compilerOptions.outDir))),ve=K.ppath.relative(t.cwd,pt);p.add(ve)}}}catch(B){console.warn(t.relativeCwd,`
`,B)}p.size===0&&(Array.isArray(this.pluginConfiguration.folders.output)?this.pluginConfiguration.folders.output.forEach(B=>B&&p.add(B)):typeof this.pluginConfiguration.folders.output=="string"&&p.add(this.pluginConfiguration.folders.output));{let B=[...new Set(["node_modules",...p,...u])].map(J=>K.npath.toPortablePath(J)),Ae=[...c].map(J=>K.npath.toPortablePath(J)),Ve=await this.runReport.mutex.acquire();try{let J=await GF(t.cwd,Ae,B);if((n==null?void 0:n.checksum)!==J&&(r=!0),!r){let st=K.npath.fromPortablePath(t.cwd);(await Promise.all([...p].map(async ve=>{try{return(await(0,_f.default)(ve,{dot:!0,cwd:st})).length===0}catch{return!1}}))).some(ve=>ve===!0)&&(r=!0)}(y=this.runLog)==null||y.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:J,status:r?xt.succeeded:xt.pending,rerun:r,command:this.runCommand})}catch(J){(Se=this.runReport.workspaces[t.relativeCwd])==null||Se.stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${J})`))}finally{Ve()}}return this.checkIfRunIsRequiredCache[t.relativeCwd]=r,r}formatHeader(t,r=0,n=!1){let i=`${this.grey("-".repeat(r)+"[")} ${t} ${this.grey("]")}`,s=(0,Hu.default)(i).length,o=n?"[ yarn.build ]":"",a=dR-s;return n&&(a-=o.length),i+this.grey("-".repeat(a))+this.grey(o)}generateHeaderString(){return`${k.formatUtils.pretty(this.configuration,`${this.runCommand}`,k.FormatType.CODE)} for ${k.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",k.FormatType.SCOPE)}${this.dryRun?k.formatUtils.pretty(this.configuration," --dry-run",k.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-n.start)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=o=>this.grey(`[${o}]`),i=k.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let s=1;for(let o in this.runReport.workspaces){let a=this.runReport.workspaces[o];if(!a||!a.start||a.done)continue;let u=k.formatUtils.pretty(this.configuration,o,k.FormatType.PATH),c=k.formatUtils.pretty(this.configuration,`(${a.runScript})`,k.FormatType.REFERENCE),d=a.start?k.formatUtils.pretty(this.configuration,Qr(a.start,t),k.FormatType.RANGE):"",p=n(s++),f=" ".repeat(p.length-1),h=k.formatUtils.pretty(this.configuration,a.name,k.FormatType.NAME),_=`${p} ${h}${k.formatUtils.pretty(this.configuration,"@","grey")}${u} ${c} ${d}
`,g="",b="",v="";(0,Hu.default)(_).length>=process.stdout.columns&&(g=`${p} ${u}${h}
`,b=`${f} ${c} ${d}
`,(0,Hu.default)(g).length>=process.stdout.columns&&(g=(0,$u.default)(`${p} ${u}
`,0,process.stdout.columns),b=(0,$u.default)(`${f} ${h}
`,0,process.stdout.columns),v=(0,$u.default)(`${f} ${c} ${d}
`,0,process.stdout.columns)),_=g+b+v),r+=_}for(s;s<this.concurrency+1;)r+=`${n(s++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},GF=async(e,t,r)=>{let n=await(0,_f.default)(t,{cwd:K.npath.fromPortablePath(e),absolute:!0,expandDirectories:!0,dot:!0,ignore:r});n.sort();let i=await Promise.all(n.map(async s=>{let o=K.npath.toPortablePath(s),a=await K.xfs.statPromise(o);return{path:K.ppath.relative(e,o),size:a.isFile()?a.size:0,lastModified:a.isFile()?a.mtimeMs:0}}));return(0,lR.default)(i)},Qr=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function HF(e){return new Promise(t=>setTimeout(t,e))}var fR=pR;var hR=U(O("child_process"));async function mf(e){return new Promise((t,r)=>{let n="";if(e.commit&&(n=`git diff --name-only ..${e.commit}`),e.sinceBranch&&e.sinceBranch.length>0&&(n=`git diff --name-only ${e.sinceBranch}...`),n.length===0)throw new Error("Unable to determine how to detect changes.");(0,hR.exec)(n,(i,s,o)=>{if(i&&r(i),s){let a=s.split(`
`),c=[...e.root.workspacesCwds].map(d=>{if(a.some(p=>p.startsWith(d.replace(`${e.root.cwd}/`,""))))return d}).filter(d=>!!d).map(d=>!!d&&e.root.project.workspacesByCwd.get(d)).filter(d=>!!d);t(c)}o&&t([])})})}var Zr=U(O("@yarnpkg/core"));var _R=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,..._R(i,t))}return r},gR=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=_R(e,t);for(let i of n)for(let s of Zr.Manifest.hardDependencies){for(let o of i.manifest.getForScope(s).values()){let a=t.tryWorkspaceByDescriptor(o);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof ku){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,s=n.node.length<n.dep.length+4?"\u21B0":"",o=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${Zr.formatUtils.pretty(r.configuration,n.node,"white")} ${s}
 \u21B3 ${Zr.formatUtils.pretty(r.configuration,n.dep,"red")} ${o}

`,i+=Zr.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=Zr.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var bs=U(F());var vs=class extends Vu.BaseCommand{constructor(){super(...arguments);this.json=pe.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=pe.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=pe.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=pe.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=pe.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=pe.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a job, but not actually run it"});this.ignoreBuildCache=pe.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=pe.Option.String("-m,--max-concurrency",{description:"is the maximum number of jobs that can run at a time, defaults to the number of logical CPUs on the current machine."});this.continueOnError=pe.Option.Boolean("--continue-on-error",!1,{description:"if a job fails, continue with the rest"});this.failFast=pe.Option.Boolean("--fail-fast",!1,{description:"if a job fails, terminate other running jobs"});this.exclude=pe.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=pe.Option.Boolean("--exclude-current",!1,{description:"run for this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=pe.Option.Boolean("--changes",!1,{description:"only run for packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=pe.Option.String("--since",{description:"only run for packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=pe.Option.String("--since-branch",{description:"only run for packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=pe.Option.Boolean("--only-current",!1,{description:"only run for the current workspace"});this.ignoreDependencies=pe.Option.Boolean("--ignore-dependencies",!1,{description:"when true, don't run for packages this one depends on"});this.buildTargets=pe.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.commandType="build"}async execute(){return await new dr("yarn.build").startSpan({name:`yarn ${this.commandType}`,propegateFromEnv:!0},async({span:r,ctx:n})=>{var b,v;r.setAttributes({[Q.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[Q.YARN_BUILD_FLAGS_ALL]:this.all,[Q.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[Q.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[Q.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[Q.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[Q.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[Q.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[Q.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[Q.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[Q.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[Q.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[Q.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[Q.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[Q.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[Q.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let i=await Ue.Configuration.find(this.context.cwd,this.context.plugins),{project:s,workspace:o}=await Ue.Project.find(i,this.context.cwd);if(!o)throw new Vu.WorkspaceRequiredError(s.cwd,this.context.cwd);let a=this.all?s.topLevelWorkspace:o,u=!1;a==s.topLevelWorkspace&&(u=!0);let c=[a,...this.buildTargets.length>0?a.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?c=await mf({root:s.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(c=await mf({root:s.topLevelWorkspace,commit:(b=this.onlyGitChangesSinceCommit)!=null?b:"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(Ue.structUtils.stringifyIdent(o.locator)),!u&&this.onlyCurrent&&(this.maxConcurrency="1");let d=S=>{var A,G;return!u&&this.onlyCurrent?S!=o:(G=(A=this.exclude)==null?void 0:A.some(N=>As.default.isMatch(Ue.structUtils.stringifyIdent(S.locator),N)||As.default.isMatch(S.cwd,`${i.projectCwd}${Ef.default.posix.sep}${N}`)))!=null?G:!1},p=S=>!u&&this.onlyCurrent?S==o:this.buildTargets.some(A=>As.default.isMatch(Ue.structUtils.stringifyIdent(S.locator),A)||As.default.isMatch(S.cwd,`${i.projectCwd}${Ef.default.posix.sep}${A}`)),f=this.buildTargets.length>0?c.filter(p):c,h=await $_(i);this.continueOnError=(v=this.continueOnError)!=null?v:!!h.bail;let _=this.maxConcurrency===void 0?(0,mR.cpus)().length:parseInt(this.maxConcurrency);r.setAttributes({[Q.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[Q.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[Q.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[Q.YARN_BUILD_CONFIG_BAIL]:h.bail,[Q.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[Q.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:_,[Q.YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES]:this.ignoreDependencies});let g=await Ue.StreamReport.start({configuration:i,json:this.json,stdout:this.context.stdout,includeLogs:!0},async S=>{let A=async(L,P,M,C,V)=>{let m=bs.trace.getSpan(L),H=new Ue.miscUtils.BufferStream;H.on("data",se=>C==null?void 0:C.emit(ce.info,V,se&&se.toString()));let X=new Ue.miscUtils.BufferStream;if(X.on("data",se=>C==null?void 0:C.emit(ce.error,V,se&&se.toString())),this.forceQuit)return H.destroy(),X.destroy(),H.end(),X.end(),2;try{let se=await this.cli.run(["run",P],{cwd:M,stdout:H,stderr:X})||0;return H.end(),X.end(),se}catch(se){m==null||m.setStatus({code:bs.SpanStatusCode.ERROR,message:se.message}),(typeof se=="string"||se instanceof Error)&&(m==null||m.recordException(se)),H.end(),X.end()}return 2},G=new fR({project:s,configuration:i,pluginConfiguration:h,report:S,runCommand:this.buildCommand,cli:A,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:_,continueOnError:this.continueOnError,excludeWorkspacePredicate:d,ignoreDependencies:this.ignoreDependencies,failFast:this.failFast});G.runReporter.on(ce.forceQuit,()=>{this.forceQuit=!0}),await G.setup();for(let L of f)await gR({targetWorkspace:L,project:s,supervisor:G});await G.run(n)===!1&&(S.reportError(Ue.MessageName.BUILD_FAILED,"Build failed"),r.setStatus({code:bs.SpanStatusCode.ERROR,message:"Build failed"}))});return oi.hasBeenTerminated=!0,g.exitCode()})}};vs.paths=[["build"]],vs.usage=pe.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var ER=vs;var IR=U(O("@yarnpkg/cli")),wR=U(O("@yarnpkg/core")),Yu=U(O("@yarnpkg/core")),NR=U(O("clipanion"));var dt=e=>{if(e==null)throw new Error("Invalid name");return e.scope?`@${e.scope}/${e.name}`:e.name};var yR=({workspace:e,project:t})=>{let r=Array.from(e.manifest.dependencies.values()).map(i=>dt(i)),n=Array.from(t.workspaces.values()).map(i=>dt(i.manifest.name));return r.filter(i=>n.includes(i))};var SR=({project:e,workspaceName:t})=>e.workspaces.find(n=>dt(n.manifest.name)===t);var bR=U(O("@yarnpkg/core"));var $F={firstCharacters:"\u27A4 ",tabString:"\u2502 "},AR="gray",Ts=({format:e,padding:t,step:r=5,characters:n=$F})=>{let{firstCharacters:i,tabString:s}=n,o=s.split("");for(let a=0;a<t;a++){let u=Array(r).fill(" ").map((c,d)=>d<o.length?o[d]:c).join("");process.stdout.write(e(u,AR))}process.stdout.write(e(i,AR))};var VF=bR.FormatType.NAME,vR="red",TR=({format:e,circular:t,dependency:r,parents:n,current:i,project:s,padding:o=0})=>{if(t){Ts({format:e,padding:o+1}),process.stdout.write(e(r,VF)),process.stdout.write(e(" -> circular dependency",vR)),process.stdout.write(`
`);return}let a=SR({project:s,workspaceName:r});if(!a){Ts({format:e,padding:o+1}),process.stdout.write(r),process.stdout.write(e("-> incorrect dependency",vR)),process.stdout.write(`
`);return}Wu({format:e,project:s,parent:i,parents:[...n,i],padding:o+1,workspace:a})};var RR=({format:e,workspace:t,parent:r,parents:n,project:i,padding:s=0})=>{let o=yR({workspace:t,project:i});for(let a of o)TR({format:e,workspace:t,project:i,padding:s,parent:r,parents:n,current:dt(t.manifest.name),circular:r===a||n.includes(a),dependency:a})};var OR=U(O("@yarnpkg/core"));var WF=OR.FormatType.NAME,PR=({format:e,workspace:t,padding:r=0})=>{let{name:n}=t.manifest,i=dt(n);Ts({format:e,padding:r}),process.stdout.write(e(i,WF)),process.stdout.write(`
`)};var Wu=({format:e,workspace:t,project:r,parents:n,padding:i=0,parent:s})=>{PR({workspace:t,padding:i,format:e}),RR({parents:n,workspace:t,project:r,padding:i,parent:s,format:e})};var Rs=({padding:e})=>{for(let t=0;t<e;t++)process.stdout.write(`
`)};var CR=({workspace:e,format:t})=>{let r=dt(e.manifest.name);process.stdout.write(`Build query for package: ${t(r,"bold")}`),Rs({padding:1})};var Os=class extends IR.BaseCommand{async execute(){let t=await Yu.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await Yu.Project.find(t,this.context.cwd);if(!n)return 0;let i=(s,o)=>wR.formatUtils.pretty(t,s,o);return Rs({padding:1}),CR({workspace:n,format:i}),Wu({parents:[],workspace:n,project:r,format:i}),Rs({padding:2}),0}};Os.paths=[["build","query"]],Os.usage=NR.Command.Usage({category:"Build commands",description:"prints out dependency graph for current package",details:`
          In a monorepo with internal packages that depend on others, this command
          will traverse the dependency graph and efficiently ensure, the packages
          are built in the right order.

        `});var xR=Os;var YF={commands:[ER,xR]},KF=YF;return XF;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
