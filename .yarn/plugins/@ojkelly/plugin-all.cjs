/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-all",
factory: function (require) {
var plugin=(()=>{var TP=Object.create,mi=Object.defineProperty,RP=Object.defineProperties,PP=Object.getOwnPropertyDescriptor,OP=Object.getOwnPropertyDescriptors,CP=Object.getOwnPropertyNames,Uf=Object.getOwnPropertySymbols,IP=Object.getPrototypeOf,qf=Object.prototype.hasOwnProperty,wP=Object.prototype.propertyIsEnumerable;var jf=(e,t,r)=>t in e?mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))qf.call(t,r)&&jf(e,r,t[r]);if(Uf)for(var r of Uf(t))wP.call(t,r)&&jf(e,r,t[r]);return e},ce=(e,t)=>RP(e,OP(t)),NP=e=>mi(e,"__esModule",{value:!0});var P=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),xP=(e,t)=>{for(var r in t)mi(e,r,{get:t[r],enumerable:!0})},LP=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of CP(t))!qf.call(e,n)&&n!=="default"&&mi(e,n,{get:()=>t[n],enumerable:!(r=PP(t,n))||r.enumerable});return e},L=e=>LP(NP(mi(e!=null?TP(IP(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var th=d((aj,eh)=>{function Wf(e){return Array.isArray(e)?e:[e]}var Yf="",Kf=" ",uc="\\",MP=/^\s+$/,DP=/^\\!/,BP=/^\\#/,FP=/\r?\n/g,kP=/^\.*\/|^\.+$/,cc="/",Xf=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",UP=(e,t,r)=>Object.defineProperty(e,t,{value:r}),qP=/([0-z])-([0-z])/g,jP=e=>e.replace(qP,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:Yf),GP=e=>{let{length:t}=e;return e.slice(0,t-t%2)},HP=[[/\\?\s+$/,e=>e.indexOf("\\")===0?Kf:Yf],[/\\\s/g,()=>Kf],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>uc],[/\\\\/g,()=>uc],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===uc?`\\[${r}${GP(n)}${i}`:i==="]"&&n.length%2==0?`[${jP(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],zf=Object.create(null),$P=(e,t,r)=>{let n=zf[e];if(n)return n;let i=HP.reduce((s,o)=>s.replace(o[0],o[1].bind(e)),e);return zf[e]=r?new RegExp(i,"i"):new RegExp(i)},lc=e=>typeof e=="string",VP=e=>e&&lc(e)&&!MP.test(e)&&e.indexOf("#")!==0,WP=e=>e.split(FP),Qf=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},YP=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(DP,"!").replace(BP,"#");let i=$P(e,n,t);return new Qf(r,e,n,i)},KP=(e,t)=>{throw new t(e)},Ut=(e,t,r)=>lc(e)?e?Ut.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Zf=e=>kP.test(e);Ut.isNotRelative=Zf;Ut.convert=e=>e;var Jf=class{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,UP(this,Xf,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[Xf]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(VP(t)){let r=YP(t,this._ignorecase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,Wf(lc(t)?WP(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Ut.convert(t);return Ut(s,t,KP),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(cc)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(cc)+cc,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return Wf(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Us=e=>new Jf(e),XP=()=>!1,zP=e=>Ut(e&&Ut.convert(e),e,XP);Us.isPathValid=zP;Us.default=Us;eh.exports=Us;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Ut.convert=e;let t=/^[a-z]:\//i;Ut.isNotRelative=r=>t.test(r)||Zf(r)}});var nh=d((uj,rh)=>{"use strict";rh.exports=(...e)=>[...new Set([].concat(...e))]});var dc=d((cj,oh)=>{"use strict";var QP=P("stream"),ih=QP.PassThrough,ZP=Array.prototype.slice;oh.exports=JP;function JP(){let e=[],t=ZP.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=ih(n);function a(){for(let l=0,p=arguments.length;l<p;l++)e.push(sh(arguments[l],n));return u(),this}function u(){if(r)return;r=!0;let l=e.shift();if(!l){process.nextTick(c);return}Array.isArray(l)||(l=[l]);let p=l.length+1;function f(){--p>0||(r=!1,u())}function h(_){function g(){_.removeListener("merge2UnpipeEnd",g),_.removeListener("end",g),s&&_.removeListener("error",b),f()}function b(v){o.emit("error",v)}if(_._readableState.endEmitted)return f();_.on("merge2UnpipeEnd",g),_.on("end",g),s&&_.on("error",b),_.pipe(o,{end:!1}),_.resume()}for(let _=0;_<l.length;_++)h(l[_]);f()}function c(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function sh(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=sh(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(ih(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var ah=d(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.splitWhen=an.flatten=void 0;function eO(e){return e.reduce((t,r)=>[].concat(t,r),[])}an.flatten=eO;function tO(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}an.splitWhen=tO});var uh=d(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.isEnoentCodeError=void 0;function rO(e){return e.code==="ENOENT"}qs.isEnoentCodeError=rO});var lh=d(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.createDirentFromStats=void 0;var ch=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function nO(e,t){return new ch(e,t)}js.createDirentFromStats=nO});var dh=d(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.removeLeadingDotSegment=gt.escape=gt.makeAbsolute=gt.unixify=void 0;var iO=P("path"),sO=2,oO=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function aO(e){return e.replace(/\\/g,"/")}gt.unixify=aO;function uO(e,t){return iO.resolve(e,t)}gt.makeAbsolute=uO;function cO(e){return e.replace(oO,"\\$2")}gt.escape=cO;function lO(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(sO)}return e}gt.removeLeadingDotSegment=lO});var fh=d((hj,ph)=>{ph.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var _h=d((_j,hh)=>{var dO=fh(),pO={"{":"}","(":")","[":"]"},fO=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,hO=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;hh.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(dO(t))return!0;var n=fO,i;for(r&&r.strict===!1&&(n=hO);i=n.exec(t);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?pO[o]:null;if(o&&a){var u=t.indexOf(a,s);u!==-1&&(s=u+1)}t=t.slice(s)}return!1}});var mh=d((gj,gh)=>{"use strict";var _O=_h(),gO=P("path").posix.dirname,mO=P("os").platform()==="win32",pc="/",yO=/\\/g,EO=/[\{\[].*[\}\]]$/,SO=/(^|[^\\])([\{\[]|\([^\)]+$)/,AO=/\\([\!\*\?\|\[\]\(\)\{\}])/g;gh.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&mO&&t.indexOf(pc)<0&&(t=t.replace(yO,pc)),EO.test(t)&&(t+=pc),t+="a";do t=gO(t);while(_O(t)||SO.test(t));return t.replace(AO,"$1")}});var Gs=d(et=>{"use strict";et.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;et.find=(e,t)=>e.nodes.find(r=>r.type===t);et.exceedsLimit=(e,t,r=1,n)=>n===!1||!et.isInteger(e)||!et.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;et.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};et.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;et.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;et.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;et.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);et.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var Hs=d((yj,Eh)=>{"use strict";var yh=Gs();Eh.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&yh.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&yh.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var Ah=d((Ej,Sh)=>{"use strict";Sh.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var wh=d((Sj,Ih)=>{"use strict";var bh=Ah(),yr=(e,t,r)=>{if(bh(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(bh(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=k({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(yr.cache.hasOwnProperty(u))return yr.cache[u].result;let c=Math.min(e,t),l=Math.max(e,t);if(Math.abs(c-l)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let p=Ch(e)||Ch(t),f={min:e,max:t,a:c,b:l},h=[],_=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),c<0){let g=l<0?Math.abs(l):1;_=vh(g,Math.abs(c),f,n),c=f.a=0}return l>=0&&(h=vh(c,l,f,n)),f.negatives=_,f.positives=h,f.result=bO(_,h,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&h.length+_.length>1&&(f.result=`(?:${f.result})`),yr.cache[u]=f,f.result};function bO(e,t,r){let n=fc(e,t,"-",!1,r)||[],i=fc(t,e,"",!1,r)||[],s=fc(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function vO(e,t){let r=1,n=1,i=Rh(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=Rh(e,r);for(i=Ph(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=Ph(t+1,n)-1;return s=[...s],s.sort(PO),s}function TO(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=RO(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?s+=u:u!=="0"||c!=="9"?s+=OO(u,c,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function vh(e,t,r,n){let i=vO(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let c=i[u],l=TO(String(o),String(c),n),p="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+Oh(a.count),o=c+1;continue}r.isPadded&&(p=CO(c,r,n)),l.string=p+l.pattern+Oh(l.count),s.push(l),o=c+1,a=l}return s}function fc(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!Th(t,"string",a)&&s.push(r+a),n&&Th(t,"string",a)&&s.push(r+a)}return s}function RO(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function PO(e,t){return e>t?1:t>e?-1:0}function Th(e,t,r){return e.some(n=>n[t]===r)}function Rh(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Ph(e,t){return e-e%Math.pow(10,t)}function Oh(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function OO(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function Ch(e){return/^-?(0+)\d/.test(e)}function CO(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}yr.cache={};yr.clearCache=()=>yr.cache={};Ih.exports=yr});var gc=d((Aj,kh)=>{"use strict";var IO=P("util"),Nh=wh(),xh=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),wO=e=>t=>e===!0?Number(t):String(t),hc=e=>typeof e=="number"||typeof e=="string"&&e!=="",yi=e=>Number.isInteger(+e),_c=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},NO=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,xO=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Lh=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},LO=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},Mh=(e,t,r,n)=>{if(r)return Nh(e,t,k({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},Dh=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return Nh(e,t,r)},Bh=(...e)=>new RangeError("Invalid range arguments: "+IO.inspect(...e)),Fh=(e,t,r)=>{if(r.strictRanges===!0)throw Bh([e,t]);return[]},MO=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},DO=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw Bh([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),c=String(r);r=Math.max(Math.abs(r),1);let l=_c(a)||_c(u)||_c(c),p=l?Math.max(a.length,u.length,c.length):0,f=l===!1&&NO(e,t,n)===!1,h=n.transform||wO(f);if(n.toRegex&&r===1)return Mh(Lh(e,p),Lh(t,p),!0,n);let _={negatives:[],positives:[]},g=E=>_[E<0?"negatives":"positives"].push(Math.abs(E)),b=[],v=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?g(i):b.push(xO(h(i,v),p,f)),i=o?i-r:i+r,v++;return n.toRegex===!0?r>1?LO(_,n):Dh(b,null,k({wrap:!1},n)):b},BO=(e,t,r=1,n={})=>{if(!yi(e)&&e.length>1||!yi(t)&&t.length>1)return Fh(e,t,n);let i=n.transform||(f=>String.fromCharCode(f)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),c=Math.max(s,o);if(n.toRegex&&r===1)return Mh(u,c,!1,n);let l=[],p=0;for(;a?s>=o:s<=o;)l.push(i(s,p)),s=a?s-r:s+r,p++;return n.toRegex===!0?Dh(l,null,{wrap:!1,options:n}):l},$s=(e,t,r,n={})=>{if(t==null&&hc(e))return[e];if(!hc(e)||!hc(t))return Fh(e,t,n);if(typeof r=="function")return $s(e,t,1,{transform:r});if(xh(r))return $s(e,t,0,r);let i=k({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,yi(r)?yi(e)&&yi(t)?DO(e,t,r,i):BO(e,t,Math.max(Math.abs(r),1),i):r!=null&&!xh(r)?MO(r,i):$s(e,t,1,r)};kh.exports=$s});var jh=d((bj,qh)=>{"use strict";var FO=gc(),Uh=Gs(),kO=(e,t={})=>{let r=(n,i={})=>{let s=Uh.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=Uh.reduce(n.nodes),p=FO(...l,ce(k({},t),{wrap:!1,toRegex:!0}));if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let l of n.nodes)c+=r(l,n);return c};return r(e)};qh.exports=kO});var $h=d((vj,Hh)=>{"use strict";var UO=gc(),Gh=Hs(),un=Gs(),Er=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?un.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(Er(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Er(i,s,r):i+s);return un.flatten(n)},qO=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Er(a.pop(),Gh(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Er(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=un.reduce(i.nodes);if(un.exceedsLimit(...p,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=UO(...p,t);f.length===0&&(f=Gh(i,t)),a.push(Er(a.pop(),f)),i.nodes=[];return}let u=un.encloseBrace(i),c=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let p=0;p<i.nodes.length;p++){let f=i.nodes[p];if(f.type==="comma"&&i.type==="brace"){p===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(Er(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(Er(c.pop(),f.value));continue}f.nodes&&n(f,i)}return c};return un.flatten(n(e))};Hh.exports=qO});var Wh=d((Tj,Vh)=>{"use strict";Vh.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Qh=d((Rj,zh)=>{"use strict";var jO=Hs(),{MAX_LENGTH:Yh,CHAR_BACKSLASH:mc,CHAR_BACKTICK:GO,CHAR_COMMA:HO,CHAR_DOT:$O,CHAR_LEFT_PARENTHESES:VO,CHAR_RIGHT_PARENTHESES:WO,CHAR_LEFT_CURLY_BRACE:YO,CHAR_RIGHT_CURLY_BRACE:KO,CHAR_LEFT_SQUARE_BRACKET:Kh,CHAR_RIGHT_SQUARE_BRACKET:Xh,CHAR_DOUBLE_QUOTE:XO,CHAR_SINGLE_QUOTE:zO,CHAR_NO_BREAK_SPACE:QO,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ZO}=Wh(),JO=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Yh,r.maxLength):Yh;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,c=e.length,l=0,p=0,f,h={},_=()=>e[l++],g=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return o.nodes.push(b),b.parent=o,b.prev=a,a=b,b};for(g({type:"bos"});l<c;)if(o=s[s.length-1],f=_(),!(f===ZO||f===QO)){if(f===mc){g({type:"text",value:(t.keepEscaping?f:"")+_()});continue}if(f===Xh){g({type:"text",value:"\\"+f});continue}if(f===Kh){u++;let b=!0,v;for(;l<c&&(v=_());){if(f+=v,v===Kh){u++;continue}if(v===mc){f+=_();continue}if(v===Xh&&(u--,u===0))break}g({type:"text",value:f});continue}if(f===VO){o=g({type:"paren",nodes:[]}),s.push(o),g({type:"text",value:f});continue}if(f===WO){if(o.type!=="paren"){g({type:"text",value:f});continue}o=s.pop(),g({type:"text",value:f}),o=s[s.length-1];continue}if(f===XO||f===zO||f===GO){let b=f,v;for(t.keepQuotes!==!0&&(f="");l<c&&(v=_());){if(v===mc){f+=v+_();continue}if(v===b){t.keepQuotes===!0&&(f+=v);break}f+=v}g({type:"text",value:f});continue}if(f===YO){p++;let b=a.value&&a.value.slice(-1)==="$"||o.dollar===!0;o=g({type:"brace",open:!0,close:!1,dollar:b,depth:p,commas:0,ranges:0,nodes:[]}),s.push(o),g({type:"open",value:f});continue}if(f===KO){if(o.type!=="brace"){g({type:"text",value:f});continue}let b="close";o=s.pop(),o.close=!0,g({type:b,value:f}),p--,o=s[s.length-1];continue}if(f===HO&&p>0){if(o.ranges>0){o.ranges=0;let b=o.nodes.shift();o.nodes=[b,{type:"text",value:jO(o)}]}g({type:"comma",value:f}),o.commas++;continue}if(f===$O&&p>0&&o.commas===0){let b=o.nodes;if(p===0||b.length===0){g({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){b.pop();let v=b[b.length-1];v.value+=a.value+f,a=v,o.ranges--;continue}g({type:"dot",value:f});continue}g({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(E=>{E.nodes||(E.type==="open"&&(E.isOpen=!0),E.type==="close"&&(E.isClose=!0),E.nodes||(E.type="text"),E.invalid=!0)});let b=s[s.length-1],v=b.nodes.indexOf(o);b.nodes.splice(v,1,...o.nodes)}while(s.length>0);return g({type:"eos"}),i};zh.exports=JO});var e_=d((Pj,Jh)=>{"use strict";var Zh=Hs(),eC=jh(),tC=$h(),rC=Qh(),Ke=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=Ke.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Ke.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Ke.parse=(e,t={})=>rC(e,t);Ke.stringify=(e,t={})=>typeof e=="string"?Zh(Ke.parse(e,t),t):Zh(e,t);Ke.compile=(e,t={})=>(typeof e=="string"&&(e=Ke.parse(e,t)),eC(e,t));Ke.expand=(e,t={})=>{typeof e=="string"&&(e=Ke.parse(e,t));let r=tC(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Ke.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Ke.compile(e,t):Ke.expand(e,t);Jh.exports=Ke});var Ei=d((Oj,s_)=>{"use strict";var nC=P("path"),mt="\\\\/",t_=`[^${mt}]`,qt="\\.",iC="\\+",sC="\\?",Vs="\\/",oC="(?=.)",r_="[^/]",yc=`(?:${Vs}|$)`,n_=`(?:^|${Vs})`,Ec=`${qt}{1,2}${yc}`,aC=`(?!${qt})`,uC=`(?!${n_}${Ec})`,cC=`(?!${qt}{0,1}${yc})`,lC=`(?!${Ec})`,dC=`[^.${Vs}]`,pC=`${r_}*?`,i_={DOT_LITERAL:qt,PLUS_LITERAL:iC,QMARK_LITERAL:sC,SLASH_LITERAL:Vs,ONE_CHAR:oC,QMARK:r_,END_ANCHOR:yc,DOTS_SLASH:Ec,NO_DOT:aC,NO_DOTS:uC,NO_DOT_SLASH:cC,NO_DOTS_SLASH:lC,QMARK_NO_DOT:dC,STAR:pC,START_ANCHOR:n_},fC=ce(k({},i_),{SLASH_LITERAL:`[${mt}]`,QMARK:t_,STAR:`${t_}*?`,DOTS_SLASH:`${qt}{1,2}(?:[${mt}]|$)`,NO_DOT:`(?!${qt})`,NO_DOTS:`(?!(?:^|[${mt}])${qt}{1,2}(?:[${mt}]|$))`,NO_DOT_SLASH:`(?!${qt}{0,1}(?:[${mt}]|$))`,NO_DOTS_SLASH:`(?!${qt}{1,2}(?:[${mt}]|$))`,QMARK_NO_DOT:`[^.${mt}]`,START_ANCHOR:`(?:^|[${mt}])`,END_ANCHOR:`(?:[${mt}]|$)`}),hC={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};s_.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:hC,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:nC.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?fC:i_}}});var Si=d(je=>{"use strict";var _C=P("path"),gC=process.platform==="win32",{REGEX_BACKSLASH:mC,REGEX_REMOVE_BACKSLASH:yC,REGEX_SPECIAL_CHARS:EC,REGEX_SPECIAL_CHARS_GLOBAL:SC}=Ei();je.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);je.hasRegexChars=e=>EC.test(e);je.isRegexChar=e=>e.length===1&&je.hasRegexChars(e);je.escapeRegex=e=>e.replace(SC,"\\$1");je.toPosixSlashes=e=>e.replace(mC,"/");je.removeBackslashes=e=>e.replace(yC,t=>t==="\\"?"":t);je.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};je.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:gC===!0||_C.sep==="\\";je.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?je.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};je.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};je.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var f_=d((Ij,p_)=>{"use strict";var o_=Si(),{CHAR_ASTERISK:Sc,CHAR_AT:AC,CHAR_BACKWARD_SLASH:Ai,CHAR_COMMA:bC,CHAR_DOT:Ac,CHAR_EXCLAMATION_MARK:bc,CHAR_FORWARD_SLASH:a_,CHAR_LEFT_CURLY_BRACE:vc,CHAR_LEFT_PARENTHESES:Tc,CHAR_LEFT_SQUARE_BRACKET:vC,CHAR_PLUS:TC,CHAR_QUESTION_MARK:u_,CHAR_RIGHT_CURLY_BRACE:RC,CHAR_RIGHT_PARENTHESES:c_,CHAR_RIGHT_SQUARE_BRACKET:PC}=Ei(),l_=e=>e===a_||e===Ai,d_=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},OC=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,c=-1,l=0,p=0,f=!1,h=!1,_=!1,g=!1,b=!1,v=!1,E=!1,A=!1,$=!1,I=!1,B=0,R,M,O={value:"",depth:0,isGlob:!1},V=()=>c>=n,S=()=>u.charCodeAt(c+1),N=()=>(R=M,u.charCodeAt(++c));for(;c<n;){M=N();let de;if(M===Ai){E=O.backslashes=!0,M=N(),M===vc&&(v=!0);continue}if(v===!0||M===vc){for(B++;V()!==!0&&(M=N());){if(M===Ai){E=O.backslashes=!0,N();continue}if(M===vc){B++;continue}if(v!==!0&&M===Ac&&(M=N())===Ac){if(f=O.isBrace=!0,_=O.isGlob=!0,I=!0,i===!0)continue;break}if(v!==!0&&M===bC){if(f=O.isBrace=!0,_=O.isGlob=!0,I=!0,i===!0)continue;break}if(M===RC&&(B--,B===0)){v=!1,f=O.isBrace=!0,I=!0;break}}if(i===!0)continue;break}if(M===a_){if(s.push(c),o.push(O),O={value:"",depth:0,isGlob:!1},I===!0)continue;if(R===Ac&&c===l+1){l+=2;continue}p=c+1;continue}if(r.noext!==!0&&(M===TC||M===AC||M===Sc||M===u_||M===bc)===!0&&S()===Tc){if(_=O.isGlob=!0,g=O.isExtglob=!0,I=!0,M===bc&&c===l&&($=!0),i===!0){for(;V()!==!0&&(M=N());){if(M===Ai){E=O.backslashes=!0,M=N();continue}if(M===c_){_=O.isGlob=!0,I=!0;break}}continue}break}if(M===Sc){if(R===Sc&&(b=O.isGlobstar=!0),_=O.isGlob=!0,I=!0,i===!0)continue;break}if(M===u_){if(_=O.isGlob=!0,I=!0,i===!0)continue;break}if(M===vC){for(;V()!==!0&&(de=N());){if(de===Ai){E=O.backslashes=!0,N();continue}if(de===PC){h=O.isBracket=!0,_=O.isGlob=!0,I=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&M===bc&&c===l){A=O.negated=!0,l++;continue}if(r.noparen!==!0&&M===Tc){if(_=O.isGlob=!0,i===!0){for(;V()!==!0&&(M=N());){if(M===Tc){E=O.backslashes=!0,M=N();continue}if(M===c_){I=!0;break}}continue}break}if(_===!0){if(I=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,_=!1);let F=u,Q="",m="";l>0&&(Q=u.slice(0,l),u=u.slice(l),p-=l),F&&_===!0&&p>0?(F=u.slice(0,p),m=u.slice(p)):_===!0?(F="",m=u):F=u,F&&F!==""&&F!=="/"&&F!==u&&l_(F.charCodeAt(F.length-1))&&(F=F.slice(0,-1)),r.unescape===!0&&(m&&(m=o_.removeBackslashes(m)),F&&E===!0&&(F=o_.removeBackslashes(F)));let y={prefix:Q,input:e,start:l,base:F,glob:m,isBrace:f,isBracket:h,isGlob:_,isExtglob:g,isGlobstar:b,negated:A,negatedExtglob:$};if(r.tokens===!0&&(y.maxDepth=0,l_(M)||o.push(O),y.tokens=o),r.parts===!0||r.tokens===!0){let de;for(let U=0;U<s.length;U++){let be=de?de+1:l,Ye=s[U],ee=e.slice(be,Ye);r.tokens&&(U===0&&l!==0?(o[U].isPrefix=!0,o[U].value=Q):o[U].value=ee,d_(o[U]),y.maxDepth+=o[U].depth),(U!==0||ee!=="")&&a.push(ee),de=Ye}if(de&&de+1<e.length){let U=e.slice(de+1);a.push(U),r.tokens&&(o[o.length-1].value=U,d_(o[o.length-1]),y.maxDepth+=o[o.length-1].depth)}y.slashes=s,y.parts=a}return y};p_.exports=OC});var m_=d((wj,g_)=>{"use strict";var Ws=Ei(),Xe=Si(),{MAX_LENGTH:Ys,POSIX_REGEX_SOURCE:CC,REGEX_NON_SPECIAL_CHARS:IC,REGEX_SPECIAL_CHARS_BACKREF:wC,REPLACEMENTS:h_}=Ws,NC=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>Xe.escapeRegex(i)).join("..")}return r},cn=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,__=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=h_[e]||e;let r=k({},t),n=typeof r.maxLength=="number"?Math.min(Ys,r.maxLength):Ys,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=Xe.isWindows(t),c=Ws.globChars(u),l=Ws.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:_,DOTS_SLASH:g,NO_DOT:b,NO_DOT_SLASH:v,NO_DOTS_SLASH:E,QMARK:A,QMARK_NO_DOT:$,STAR:I,START_ANCHOR:B}=c,R=C=>`(${a}(?:(?!${B}${C.dot?g:p}).)*?)`,M=r.dot?"":b,O=r.dot?A:$,V=r.bash===!0?R(r):I;r.capture&&(V=`(${V})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let S={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Xe.removePrefix(e,S),i=e.length;let N=[],F=[],Q=[],m=s,y,de=()=>S.index===i-1,U=S.peek=(C=1)=>e[S.index+C],be=S.advance=()=>e[++S.index]||"",Ye=()=>e.slice(S.index+1),ee=(C="",ie=0)=>{S.consumed+=C,S.index+=ie},at=C=>{S.output+=C.output!=null?C.output:C.value,ee(C.value)},_t=()=>{let C=1;for(;U()==="!"&&(U(2)!=="("||U(3)==="?");)be(),S.start++,C++;return C%2==0?!1:(S.negated=!0,S.start++,!0)},Te=C=>{S[C]++,Q.push(C)},qe=C=>{S[C]--,Q.pop()},X=C=>{if(m.type==="globstar"){let ie=S.braces>0&&(C.type==="comma"||C.type==="brace"),T=C.extglob===!0||N.length&&(C.type==="pipe"||C.type==="paren");C.type!=="slash"&&C.type!=="paren"&&!ie&&!T&&(S.output=S.output.slice(0,-m.output.length),m.type="star",m.value="*",m.output=V,S.output+=m.output)}if(N.length&&C.type!=="paren"&&(N[N.length-1].inner+=C.value),(C.value||C.output)&&at(C),m&&m.type==="text"&&C.type==="text"){m.value+=C.value,m.output=(m.output||"")+C.value;return}C.prev=m,o.push(C),m=C},Fs=(C,ie)=>{let T=ce(k({},l[ie]),{conditions:1,inner:""});T.prev=m,T.parens=S.parens,T.output=S.output;let Y=(r.capture?"(":"")+T.open;Te("parens"),X({type:C,value:ie,output:S.output?"":_}),X({type:"paren",extglob:!0,value:be(),output:Y}),N.push(T)},vP=C=>{let ie=C.close+(r.capture?")":""),T;if(C.type==="negate"){let Y=V;C.inner&&C.inner.length>1&&C.inner.includes("/")&&(Y=R(r)),(Y!==V||de()||/^\)+$/.test(Ye()))&&(ie=C.close=`)$))${Y}`),C.inner.includes("*")&&(T=Ye())&&/^\.[^\\/.]+$/.test(T)&&(ie=C.close=`)${T})${Y})`),C.prev.type==="bos"&&(S.negatedExtglob=!0)}X({type:"paren",extglob:!0,value:y,output:ie}),qe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let C=!1,ie=e.replace(wC,(T,Y,pe,Me,Se,ac)=>Me==="\\"?(C=!0,T):Me==="?"?Y?Y+Me+(Se?A.repeat(Se.length):""):ac===0?O+(Se?A.repeat(Se.length):""):A.repeat(pe.length):Me==="."?p.repeat(pe.length):Me==="*"?Y?Y+Me+(Se?V:""):V:Y?T:`\\${T}`);return C===!0&&(r.unescape===!0?ie=ie.replace(/\\/g,""):ie=ie.replace(/\\+/g,T=>T.length%2==0?"\\\\":T?"\\":"")),ie===e&&r.contains===!0?(S.output=e,S):(S.output=Xe.wrapOutput(ie,S,t),S)}for(;!de();){if(y=be(),y==="\0")continue;if(y==="\\"){let T=U();if(T==="/"&&r.bash!==!0||T==="."||T===";")continue;if(!T){y+="\\",X({type:"text",value:y});continue}let Y=/^\\+/.exec(Ye()),pe=0;if(Y&&Y[0].length>2&&(pe=Y[0].length,S.index+=pe,pe%2!=0&&(y+="\\")),r.unescape===!0?y=be():y+=be(),S.brackets===0){X({type:"text",value:y});continue}}if(S.brackets>0&&(y!=="]"||m.value==="["||m.value==="[^")){if(r.posix!==!1&&y===":"){let T=m.value.slice(1);if(T.includes("[")&&(m.posix=!0,T.includes(":"))){let Y=m.value.lastIndexOf("["),pe=m.value.slice(0,Y),Me=m.value.slice(Y+2),Se=CC[Me];if(Se){m.value=pe+Se,S.backtrack=!0,be(),!s.output&&o.indexOf(m)===1&&(s.output=_);continue}}}(y==="["&&U()!==":"||y==="-"&&U()==="]")&&(y=`\\${y}`),y==="]"&&(m.value==="["||m.value==="[^")&&(y=`\\${y}`),r.posix===!0&&y==="!"&&m.value==="["&&(y="^"),m.value+=y,at({value:y});continue}if(S.quotes===1&&y!=='"'){y=Xe.escapeRegex(y),m.value+=y,at({value:y});continue}if(y==='"'){S.quotes=S.quotes===1?0:1,r.keepQuotes===!0&&X({type:"text",value:y});continue}if(y==="("){Te("parens"),X({type:"paren",value:y});continue}if(y===")"){if(S.parens===0&&r.strictBrackets===!0)throw new SyntaxError(cn("opening","("));let T=N[N.length-1];if(T&&S.parens===T.parens+1){vP(N.pop());continue}X({type:"paren",value:y,output:S.parens?")":"\\)"}),qe("parens");continue}if(y==="["){if(r.nobracket===!0||!Ye().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(cn("closing","]"));y=`\\${y}`}else Te("brackets");X({type:"bracket",value:y});continue}if(y==="]"){if(r.nobracket===!0||m&&m.type==="bracket"&&m.value.length===1){X({type:"text",value:y,output:`\\${y}`});continue}if(S.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(cn("opening","["));X({type:"text",value:y,output:`\\${y}`});continue}qe("brackets");let T=m.value.slice(1);if(m.posix!==!0&&T[0]==="^"&&!T.includes("/")&&(y=`/${y}`),m.value+=y,at({value:y}),r.literalBrackets===!1||Xe.hasRegexChars(T))continue;let Y=Xe.escapeRegex(m.value);if(S.output=S.output.slice(0,-m.value.length),r.literalBrackets===!0){S.output+=Y,m.value=Y;continue}m.value=`(${a}${Y}|${m.value})`,S.output+=m.value;continue}if(y==="{"&&r.nobrace!==!0){Te("braces");let T={type:"brace",value:y,output:"(",outputIndex:S.output.length,tokensIndex:S.tokens.length};F.push(T),X(T);continue}if(y==="}"){let T=F[F.length-1];if(r.nobrace===!0||!T){X({type:"text",value:y,output:y});continue}let Y=")";if(T.dots===!0){let pe=o.slice(),Me=[];for(let Se=pe.length-1;Se>=0&&(o.pop(),pe[Se].type!=="brace");Se--)pe[Se].type!=="dots"&&Me.unshift(pe[Se].value);Y=NC(Me,r),S.backtrack=!0}if(T.comma!==!0&&T.dots!==!0){let pe=S.output.slice(0,T.outputIndex),Me=S.tokens.slice(T.tokensIndex);T.value=T.output="\\{",y=Y="\\}",S.output=pe;for(let Se of Me)S.output+=Se.output||Se.value}X({type:"brace",value:y,output:Y}),qe("braces"),F.pop();continue}if(y==="|"){N.length>0&&N[N.length-1].conditions++,X({type:"text",value:y});continue}if(y===","){let T=y,Y=F[F.length-1];Y&&Q[Q.length-1]==="braces"&&(Y.comma=!0,T="|"),X({type:"comma",value:y,output:T});continue}if(y==="/"){if(m.type==="dot"&&S.index===S.start+1){S.start=S.index+1,S.consumed="",S.output="",o.pop(),m=s;continue}X({type:"slash",value:y,output:h});continue}if(y==="."){if(S.braces>0&&m.type==="dot"){m.value==="."&&(m.output=p);let T=F[F.length-1];m.type="dots",m.output+=y,m.value+=y,T.dots=!0;continue}if(S.braces+S.parens===0&&m.type!=="bos"&&m.type!=="slash"){X({type:"text",value:y,output:p});continue}X({type:"dot",value:y,output:p});continue}if(y==="?"){if(!(m&&m.value==="(")&&r.noextglob!==!0&&U()==="("&&U(2)!=="?"){Fs("qmark",y);continue}if(m&&m.type==="paren"){let Y=U(),pe=y;if(Y==="<"&&!Xe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(m.value==="("&&!/[!=<:]/.test(Y)||Y==="<"&&!/<([!=]|\w+>)/.test(Ye()))&&(pe=`\\${y}`),X({type:"text",value:y,output:pe});continue}if(r.dot!==!0&&(m.type==="slash"||m.type==="bos")){X({type:"qmark",value:y,output:$});continue}X({type:"qmark",value:y,output:A});continue}if(y==="!"){if(r.noextglob!==!0&&U()==="("&&(U(2)!=="?"||!/[!=<:]/.test(U(3)))){Fs("negate",y);continue}if(r.nonegate!==!0&&S.index===0){_t();continue}}if(y==="+"){if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){Fs("plus",y);continue}if(m&&m.value==="("||r.regex===!1){X({type:"plus",value:y,output:f});continue}if(m&&(m.type==="bracket"||m.type==="paren"||m.type==="brace")||S.parens>0){X({type:"plus",value:y});continue}X({type:"plus",value:f});continue}if(y==="@"){if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){X({type:"at",extglob:!0,value:y,output:""});continue}X({type:"text",value:y});continue}if(y!=="*"){(y==="$"||y==="^")&&(y=`\\${y}`);let T=IC.exec(Ye());T&&(y+=T[0],S.index+=T[0].length),X({type:"text",value:y});continue}if(m&&(m.type==="globstar"||m.star===!0)){m.type="star",m.star=!0,m.value+=y,m.output=V,S.backtrack=!0,S.globstar=!0,ee(y);continue}let C=Ye();if(r.noextglob!==!0&&/^\([^?]/.test(C)){Fs("star",y);continue}if(m.type==="star"){if(r.noglobstar===!0){ee(y);continue}let T=m.prev,Y=T.prev,pe=T.type==="slash"||T.type==="bos",Me=Y&&(Y.type==="star"||Y.type==="globstar");if(r.bash===!0&&(!pe||C[0]&&C[0]!=="/")){X({type:"star",value:y,output:""});continue}let Se=S.braces>0&&(T.type==="comma"||T.type==="brace"),ac=N.length&&(T.type==="pipe"||T.type==="paren");if(!pe&&T.type!=="paren"&&!Se&&!ac){X({type:"star",value:y,output:""});continue}for(;C.slice(0,3)==="/**";){let ks=e[S.index+4];if(ks&&ks!=="/")break;C=C.slice(3),ee("/**",3)}if(T.type==="bos"&&de()){m.type="globstar",m.value+=y,m.output=R(r),S.output=m.output,S.globstar=!0,ee(y);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&!Me&&de()){S.output=S.output.slice(0,-(T.output+m.output).length),T.output=`(?:${T.output}`,m.type="globstar",m.output=R(r)+(r.strictSlashes?")":"|$)"),m.value+=y,S.globstar=!0,S.output+=T.output+m.output,ee(y);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&C[0]==="/"){let ks=C[1]!==void 0?"|$":"";S.output=S.output.slice(0,-(T.output+m.output).length),T.output=`(?:${T.output}`,m.type="globstar",m.output=`${R(r)}${h}|${h}${ks})`,m.value+=y,S.output+=T.output+m.output,S.globstar=!0,ee(y+be()),X({type:"slash",value:"/",output:""});continue}if(T.type==="bos"&&C[0]==="/"){m.type="globstar",m.value+=y,m.output=`(?:^|${h}|${R(r)}${h})`,S.output=m.output,S.globstar=!0,ee(y+be()),X({type:"slash",value:"/",output:""});continue}S.output=S.output.slice(0,-m.output.length),m.type="globstar",m.output=R(r),m.value+=y,S.output+=m.output,S.globstar=!0,ee(y);continue}let ie={type:"star",value:y,output:V};if(r.bash===!0){ie.output=".*?",(m.type==="bos"||m.type==="slash")&&(ie.output=M+ie.output),X(ie);continue}if(m&&(m.type==="bracket"||m.type==="paren")&&r.regex===!0){ie.output=y,X(ie);continue}(S.index===S.start||m.type==="slash"||m.type==="dot")&&(m.type==="dot"?(S.output+=v,m.output+=v):r.dot===!0?(S.output+=E,m.output+=E):(S.output+=M,m.output+=M),U()!=="*"&&(S.output+=_,m.output+=_)),X(ie)}for(;S.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(cn("closing","]"));S.output=Xe.escapeLast(S.output,"["),qe("brackets")}for(;S.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(cn("closing",")"));S.output=Xe.escapeLast(S.output,"("),qe("parens")}for(;S.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(cn("closing","}"));S.output=Xe.escapeLast(S.output,"{"),qe("braces")}if(r.strictSlashes!==!0&&(m.type==="star"||m.type==="bracket")&&X({type:"maybe_slash",value:"",output:`${h}?`}),S.backtrack===!0){S.output="";for(let C of S.tokens)S.output+=C.output!=null?C.output:C.value,C.suffix&&(S.output+=C.suffix)}return S};__.fastpaths=(e,t)=>{let r=k({},t),n=typeof r.maxLength=="number"?Math.min(Ys,r.maxLength):Ys,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=h_[e]||e;let s=Xe.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:_}=Ws.globChars(s),g=r.dot?p:l,b=r.dot?f:l,v=r.capture?"":"?:",E={negated:!1,prefix:""},A=r.bash===!0?".*?":h;r.capture&&(A=`(${A})`);let $=M=>M.noglobstar===!0?A:`(${v}(?:(?!${_}${M.dot?c:o}).)*?)`,I=M=>{switch(M){case"*":return`${g}${u}${A}`;case".*":return`${o}${u}${A}`;case"*.*":return`${g}${A}${o}${u}${A}`;case"*/*":return`${g}${A}${a}${u}${b}${A}`;case"**":return g+$(r);case"**/*":return`(?:${g}${$(r)}${a})?${b}${u}${A}`;case"**/*.*":return`(?:${g}${$(r)}${a})?${b}${A}${o}${u}${A}`;case"**/.*":return`(?:${g}${$(r)}${a})?${o}${u}${A}`;default:{let O=/^(.*?)\.(\w+)$/.exec(M);if(!O)return;let V=I(O[1]);return V?V+o+O[2]:void 0}}},B=Xe.removePrefix(e,E),R=I(B);return R&&r.strictSlashes!==!0&&(R+=`${a}?`),R};g_.exports=__});var E_=d((Nj,y_)=>{"use strict";var xC=P("path"),LC=f_(),Rc=m_(),Pc=Si(),MC=Ei(),DC=e=>e&&typeof e=="object"&&!Array.isArray(e),fe=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(f=>fe(f,t,r));return f=>{for(let h of l){let _=h(f);if(_)return _}return!1}}let n=DC(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=Pc.isWindows(t),o=n?fe.compileRe(e,t):fe.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let l=ce(k({},t),{ignore:null,onMatch:null,onResult:null});u=fe(i.ignore,l,r)}let c=(l,p=!1)=>{let{isMatch:f,match:h,output:_}=fe.test(l,o,t,{glob:e,posix:s}),g={glob:e,state:a,regex:o,posix:s,input:l,output:_,match:h,isMatch:f};return typeof i.onResult=="function"&&i.onResult(g),f===!1?(g.isMatch=!1,p?g:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,p?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),p?g:!0)};return r&&(c.state=a),c};fe.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?Pc.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=fe.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};fe.matchBase=(e,t,r,n=Pc.isWindows(r))=>(t instanceof RegExp?t:fe.makeRe(t,r)).test(xC.basename(e));fe.isMatch=(e,t,r)=>fe(t,r)(e);fe.parse=(e,t)=>Array.isArray(e)?e.map(r=>fe.parse(r,t)):Rc(e,ce(k({},t),{fastpaths:!1}));fe.scan=(e,t)=>LC(e,t);fe.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=fe.toRegex(a,t);return n===!0&&(u.state=e),u};fe.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Rc.fastpaths(e,t)),i.output||(i=Rc(e,t)),fe.compileRe(i,t,r,n)};fe.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};fe.constants=MC;y_.exports=fe});var A_=d((xj,S_)=>{"use strict";S_.exports=E_()});var Cc=d((Lj,R_)=>{"use strict";var b_=P("util"),v_=e_(),yt=A_(),Oc=Si(),T_=e=>e===""||e==="./",ae=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let p=yt(String(t[l]),ce(k({},r),{onResult:a}),!0),f=p.state.negated||p.state.negatedExtglob;f&&o++;for(let h of e){let _=p(h,!0);!(f?!_.isMatch:_.isMatch)||(f?n.add(_.output):(n.delete(_.output),i.add(_.output)))}}let c=(o===t.length?[...s]:[...i]).filter(l=>!n.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return c};ae.match=ae;ae.matcher=(e,t)=>yt(e,t);ae.isMatch=(e,t,r)=>yt(t,r)(e);ae.any=ae.isMatch;ae.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=a=>{r.onResult&&r.onResult(a),i.push(a.output)},o=ae(e,t,ce(k({},r),{onResult:s}));for(let a of i)o.includes(a)||n.add(a);return[...n]};ae.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${b_.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ae.contains(e,n,r));if(typeof t=="string"){if(T_(e)||T_(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ae.isMatch(e,t,ce(k({},r),{contains:!0}))};ae.matchKeys=(e,t,r)=>{if(!Oc.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ae(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};ae.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=yt(String(i),r);if(n.some(o=>s(o)))return!0}return!1};ae.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=yt(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};ae.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${b_.inspect(e)}"`);return[].concat(t).every(n=>yt(n,r)(e))};ae.capture=(e,t,r)=>{let n=Oc.isWindows(r),s=yt.makeRe(String(e),ce(k({},r),{capture:!0})).exec(n?Oc.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};ae.makeRe=(...e)=>yt.makeRe(...e);ae.scan=(...e)=>yt.scan(...e);ae.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of v_(String(n),t))r.push(yt.parse(i,t));return r};ae.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:v_(e,t)};ae.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ae.braces(e,ce(k({},t),{expand:!0}))};R_.exports=ae});var L_=d(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.matchAny=G.convertPatternsToRe=G.makeRe=G.getPatternParts=G.expandBraceExpansion=G.expandPatternsWithBraceExpansion=G.isAffectDepthOfReadingPattern=G.endsWithSlashGlobStar=G.hasGlobStar=G.getBaseDirectory=G.isPatternRelatedToParentDirectory=G.getPatternsOutsideCurrentDirectory=G.getPatternsInsideCurrentDirectory=G.getPositivePatterns=G.getNegativePatterns=G.isPositivePattern=G.isNegativePattern=G.convertToNegativePattern=G.convertToPositivePattern=G.isDynamicPattern=G.isStaticPattern=void 0;var BC=P("path"),FC=mh(),Ic=Cc(),P_="**",kC="\\",UC=/[*?]|^!/,qC=/\[[^[]*]/,jC=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,GC=/[!*+?@]\([^(]*\)/,HC=/,|\.\./;function O_(e,t={}){return!C_(e,t)}G.isStaticPattern=O_;function C_(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(kC)||UC.test(e)||qC.test(e)||jC.test(e)||t.extglob!==!1&&GC.test(e)||t.braceExpansion!==!1&&$C(e))}G.isDynamicPattern=C_;function $C(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return HC.test(n)}function VC(e){return Ks(e)?e.slice(1):e}G.convertToPositivePattern=VC;function WC(e){return"!"+e}G.convertToNegativePattern=WC;function Ks(e){return e.startsWith("!")&&e[1]!=="("}G.isNegativePattern=Ks;function I_(e){return!Ks(e)}G.isPositivePattern=I_;function YC(e){return e.filter(Ks)}G.getNegativePatterns=YC;function KC(e){return e.filter(I_)}G.getPositivePatterns=KC;function XC(e){return e.filter(t=>!wc(t))}G.getPatternsInsideCurrentDirectory=XC;function zC(e){return e.filter(wc)}G.getPatternsOutsideCurrentDirectory=zC;function wc(e){return e.startsWith("..")||e.startsWith("./..")}G.isPatternRelatedToParentDirectory=wc;function QC(e){return FC(e,{flipBackslashes:!1})}G.getBaseDirectory=QC;function ZC(e){return e.includes(P_)}G.hasGlobStar=ZC;function w_(e){return e.endsWith("/"+P_)}G.endsWithSlashGlobStar=w_;function JC(e){let t=BC.basename(e);return w_(e)||O_(t)}G.isAffectDepthOfReadingPattern=JC;function eI(e){return e.reduce((t,r)=>t.concat(N_(r)),[])}G.expandPatternsWithBraceExpansion=eI;function N_(e){return Ic.braces(e,{expand:!0,nodupes:!0})}G.expandBraceExpansion=N_;function tI(e,t){let{parts:r}=Ic.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}G.getPatternParts=tI;function x_(e,t){return Ic.makeRe(e,t)}G.makeRe=x_;function rI(e,t){return e.map(r=>x_(r,t))}G.convertPatternsToRe=rI;function nI(e,t){return t.some(r=>r.test(e))}G.matchAny=nI});var D_=d(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.merge=void 0;var iI=dc();function sI(e){let t=iI(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>M_(e)),t.once("end",()=>M_(e)),t}Xs.merge=sI;function M_(e){e.forEach(t=>t.emit("close"))}});var B_=d(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.isEmpty=ln.isString=void 0;function oI(e){return typeof e=="string"}ln.isString=oI;function aI(e){return e===""}ln.isEmpty=aI});var jt=d(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.string=Re.stream=Re.pattern=Re.path=Re.fs=Re.errno=Re.array=void 0;var uI=ah();Re.array=uI;var cI=uh();Re.errno=cI;var lI=lh();Re.fs=lI;var dI=dh();Re.path=dI;var pI=L_();Re.pattern=pI;var fI=D_();Re.stream=fI;var hI=B_();Re.string=hI});var U_=d(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.convertPatternGroupToTask=Pe.convertPatternGroupsToTasks=Pe.groupPatternsByBaseDirectory=Pe.getNegativePatternsAsPositive=Pe.getPositivePatterns=Pe.convertPatternsToTasks=Pe.generate=void 0;var Gt=jt();function _I(e,t){let r=F_(e),n=k_(e,t.ignore),i=r.filter(u=>Gt.pattern.isStaticPattern(u,t)),s=r.filter(u=>Gt.pattern.isDynamicPattern(u,t)),o=Nc(i,n,!1),a=Nc(s,n,!0);return o.concat(a)}Pe.generate=_I;function Nc(e,t,r){let n=[],i=Gt.pattern.getPatternsOutsideCurrentDirectory(e),s=Gt.pattern.getPatternsInsideCurrentDirectory(e),o=xc(i),a=xc(s);return n.push(...Lc(o,t,r)),"."in a?n.push(Mc(".",s,t,r)):n.push(...Lc(a,t,r)),n}Pe.convertPatternsToTasks=Nc;function F_(e){return Gt.pattern.getPositivePatterns(e)}Pe.getPositivePatterns=F_;function k_(e,t){return Gt.pattern.getNegativePatterns(e).concat(t).map(Gt.pattern.convertToPositivePattern)}Pe.getNegativePatternsAsPositive=k_;function xc(e){let t={};return e.reduce((r,n)=>{let i=Gt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}Pe.groupPatternsByBaseDirectory=xc;function Lc(e,t,r){return Object.keys(e).map(n=>Mc(n,e[n],t,r))}Pe.convertPatternGroupsToTasks=Lc;function Mc(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Gt.pattern.convertToNegativePattern))}}Pe.convertPatternGroupToTask=Mc});var j_=d(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.removeDuplicateSlashes=dn.transform=void 0;var gI=/(?!^)\/{2,}/g;function mI(e){return e.map(t=>q_(t))}dn.transform=mI;function q_(e){return e.replace(gI,"/")}dn.removeDuplicateSlashes=q_});var H_=d(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.read=void 0;function yI(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){G_(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){Dc(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){G_(r,s);return}Dc(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),Dc(r,o)})})}zs.read=yI;function G_(e,t){e(t)}function Dc(e,t){e(null,t)}});var $_=d(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.read=void 0;function EI(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Qs.read=EI});var V_=d(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.createFileSystemAdapter=Qt.FILE_SYSTEM_ADAPTER=void 0;var Zs=P("fs");Qt.FILE_SYSTEM_ADAPTER={lstat:Zs.lstat,stat:Zs.stat,lstatSync:Zs.lstatSync,statSync:Zs.statSync};function SI(e){return e===void 0?Qt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Qt.FILE_SYSTEM_ADAPTER),e)}Qt.createFileSystemAdapter=SI});var Y_=d(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});var AI=V_(),W_=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=AI.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t!=null?t:r}};Bc.default=W_});var Sr=d(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.statSync=Zt.stat=Zt.Settings=void 0;var K_=H_(),bI=$_(),Fc=Y_();Zt.Settings=Fc.default;function vI(e,t,r){if(typeof t=="function"){K_.read(e,kc(),t);return}K_.read(e,kc(t),r)}Zt.stat=vI;function TI(e,t){let r=kc(t);return bI.read(e,r)}Zt.statSync=TI;function kc(e={}){return e instanceof Fc.default?e:new Fc.default(e)}});var Q_=d((Vj,z_)=>{var X_;z_.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):e=>(X_||(X_=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var J_=d((Wj,Z_)=>{Z_.exports=PI;var RI=Q_();function PI(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function c(){t&&t(u,r),t=null}s?RI(c):c()}function a(u,c,l){r[u]=l,(--n==0||c)&&o(c)}n?i?i.forEach(function(u){e[u](function(c,l){a(u,c,l)})}):e.forEach(function(u,c){u(function(l,p){a(c,l,p)})}):o(null),s=!1}});var Uc=d(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Js=process.versions.node.split(".");if(Js[0]===void 0||Js[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var eg=Number.parseInt(Js[0],10),OI=Number.parseInt(Js[1],10),tg=10,CI=10,II=eg>tg,wI=eg===tg&&OI>=CI;eo.IS_SUPPORT_READDIR_WITH_FILE_TYPES=II||wI});var ng=d(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.createDirentFromStats=void 0;var rg=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function NI(e,t){return new rg(e,t)}to.createDirentFromStats=NI});var qc=d(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.fs=void 0;var xI=ng();ro.fs=xI});var jc=d(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.joinPathSegments=void 0;function LI(e,t,r){return e.endsWith(r)?e+t:e+r+t}no.joinPathSegments=LI});var cg=d(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.readdir=Jt.readdirWithFileTypes=Jt.read=void 0;var MI=Sr(),ig=J_(),DI=Uc(),sg=qc(),og=jc();function BI(e,t,r){if(!t.stats&&DI.IS_SUPPORT_READDIR_WITH_FILE_TYPES){ag(e,t,r);return}ug(e,t,r)}Jt.read=BI;function ag(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){io(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:og.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){Gc(r,s);return}let o=s.map(a=>FI(a,t));ig(o,(a,u)=>{if(a!==null){io(r,a);return}Gc(r,u)})})}Jt.readdirWithFileTypes=ag;function FI(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=sg.fs.createDirentFromStats(e.name,i),r(null,e)})}}function ug(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){io(r,n);return}let s=i.map(o=>{let a=og.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{MI.stat(a,t.fsStatSettings,(c,l)=>{if(c!==null){u(c);return}let p={name:o,path:a,dirent:sg.fs.createDirentFromStats(o,l)};t.stats&&(p.stats=l),u(null,p)})}});ig(s,(o,a)=>{if(o!==null){io(r,o);return}Gc(r,a)})})}Jt.readdir=ug;function io(e,t){e(t)}function Gc(e,t){e(null,t)}});var hg=d(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.readdir=er.readdirWithFileTypes=er.read=void 0;var kI=Sr(),UI=Uc(),lg=qc(),dg=jc();function qI(e,t){return!t.stats&&UI.IS_SUPPORT_READDIR_WITH_FILE_TYPES?pg(e,t):fg(e,t)}er.read=qI;function pg(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:dg.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=lg.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}er.readdirWithFileTypes=pg;function fg(e,t){return t.fs.readdirSync(e).map(n=>{let i=dg.joinPathSegments(e,n,t.pathSegmentSeparator),s=kI.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:lg.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}er.readdir=fg});var _g=d(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.createFileSystemAdapter=tr.FILE_SYSTEM_ADAPTER=void 0;var pn=P("fs");tr.FILE_SYSTEM_ADAPTER={lstat:pn.lstat,stat:pn.stat,lstatSync:pn.lstatSync,statSync:pn.statSync,readdir:pn.readdir,readdirSync:pn.readdirSync};function jI(e){return e===void 0?tr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},tr.FILE_SYSTEM_ADAPTER),e)}tr.createFileSystemAdapter=jI});var mg=d(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});var GI=P("path"),HI=Sr(),$I=_g(),gg=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=$I.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,GI.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new HI.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t!=null?t:r}};Hc.default=gg});var so=d(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.Settings=rr.scandirSync=rr.scandir=void 0;var yg=cg(),VI=hg(),$c=mg();rr.Settings=$c.default;function WI(e,t,r){if(typeof t=="function"){yg.read(e,Vc(),t);return}yg.read(e,Vc(t),r)}rr.scandir=WI;function YI(e,t){let r=Vc(t);return VI.read(e,r)}rr.scandirSync=YI;function Vc(e={}){return e instanceof $c.default?e:new $c.default(e)}});var Sg=d((r2,Eg)=>{"use strict";function KI(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}Eg.exports=KI});var bg=d((n2,Wc)=>{"use strict";var XI=Sg();function Ag(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=XI(zI),i=null,s=null,o=0,a=null,u={push:g,drain:Et,saturated:Et,pause:l,paused:!1,concurrency:r,running:c,resume:h,idle:_,length:p,getQueue:f,unshift:b,empty:Et,kill:E,killAndDrain:A,error:$};return u;function c(){return o}function l(){u.paused=!0}function p(){for(var I=i,B=0;I;)I=I.next,B++;return B}function f(){for(var I=i,B=[];I;)B.push(I.value),I=I.next;return B}function h(){if(!!u.paused){u.paused=!1;for(var I=0;I<u.concurrency;I++)o++,v()}}function _(){return o===0&&u.length()===0}function g(I,B){var R=n.get();R.context=e,R.release=v,R.value=I,R.callback=B||Et,R.errorHandler=a,o===u.concurrency||u.paused?s?(s.next=R,s=R):(i=R,s=R,u.saturated()):(o++,t.call(e,R.value,R.worked))}function b(I,B){var R=n.get();R.context=e,R.release=v,R.value=I,R.callback=B||Et,o===u.concurrency||u.paused?i?(R.next=i,i=R):(i=R,s=R,u.saturated()):(o++,t.call(e,R.value,R.worked))}function v(I){I&&n.release(I);var B=i;B?u.paused?o--:(s===i&&(s=null),i=B.next,B.next=null,t.call(e,B.value,B.worked),s===null&&u.empty()):--o==0&&u.drain()}function E(){i=null,s=null,u.drain=Et}function A(){i=null,s=null,u.drain(),u.drain=Et}function $(I){a=I}}function Et(){}function zI(){this.value=null,this.callback=Et,this.next=null,this.release=Et,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=Et,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function QI(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(c,l){t.call(this,c).then(function(p){l(null,p)},l)}var i=Ag(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i;function a(c){return new Promise(function(l,p){s(c,function(f,h){if(f){p(f);return}l(h)})})}function u(c){return new Promise(function(l,p){o(c,function(f,h){if(f){p(f);return}l(h)})})}}Wc.exports=Ag;Wc.exports.promise=QI});var oo=d(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.joinPathSegments=St.replacePathSegmentSeparator=St.isAppliedFilter=St.isFatalError=void 0;function ZI(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}St.isFatalError=ZI;function JI(e,t){return e===null||e(t)}St.isAppliedFilter=JI;function ew(e,t){return e.split(/[/\\]/).join(t)}St.replacePathSegmentSeparator=ew;function tw(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}St.joinPathSegments=tw});var Kc=d(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});var rw=oo(),vg=class{constructor(t,r){this._root=t,this._settings=r,this._root=rw.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};Yc.default=vg});var zc=d(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});var nw=P("events"),iw=so(),sw=bg(),ao=oo(),ow=Kc(),Tg=class extends ow.default{constructor(t,r){super(t,r);this._settings=r,this._scandir=iw.scandir,this._emitter=new nw.EventEmitter,this._queue=sw(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!ao.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=ao.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),ao.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&ao.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Xc.default=Tg});var Pg=d(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});var aw=zc(),Rg=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new aw.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{uw(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{cw(t,this._storage)}),this._reader.read()}};Qc.default=Rg;function uw(e,t){e(t)}function cw(e,t){e(null,t)}});var Cg=d(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});var lw=P("stream"),dw=zc(),Og=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new dw.default(this._root,this._settings),this._stream=new lw.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Zc.default=Og});var wg=d(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});var pw=so(),uo=oo(),fw=Kc(),Ig=class extends fw.default{constructor(){super(...arguments);this._scandir=pw.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!uo.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=uo.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),uo.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&uo.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};Jc.default=Ig});var xg=d(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});var hw=wg(),Ng=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new hw.default(this._root,this._settings)}read(){return this._reader.read()}};el.default=Ng});var Mg=d(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});var _w=P("path"),gw=so(),Lg=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,_w.sep),this.fsScandirSettings=new gw.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t!=null?t:r}};tl.default=Lg});var nl=d(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.Settings=At.walkStream=At.walkSync=At.walk=void 0;var Dg=Pg(),mw=Cg(),yw=xg(),rl=Mg();At.Settings=rl.default;function Ew(e,t,r){if(typeof t=="function"){new Dg.default(e,co()).read(t);return}new Dg.default(e,co(t)).read(r)}At.walk=Ew;function Sw(e,t){let r=co(t);return new yw.default(e,r).read()}At.walkSync=Sw;function Aw(e,t){let r=co(t);return new mw.default(e,r).read()}At.walkStream=Aw;function co(e={}){return e instanceof rl.default?e:new rl.default(e)}});var sl=d(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});var bw=P("path"),vw=Sr(),Bg=jt(),Fg=class{constructor(t){this._settings=t,this._fsStatSettings=new vw.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return bw.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:Bg.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!Bg.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};il.default=Fg});var al=d(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});var Tw=P("stream"),Rw=Sr(),Pw=nl(),Ow=sl(),kg=class extends Ow.default{constructor(){super(...arguments);this._walkStream=Pw.walkStream,this._stat=Rw.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new Tw.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};ol.default=kg});var qg=d(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});var fn=jt(),Ug=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=fn.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return fn.pattern.getPatternParts(t,this._micromatchOptions).map(n=>fn.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:fn.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return fn.array.splitWhen(t,r=>r.dynamic&&fn.pattern.hasGlobStar(r.pattern))}};ul.default=Ug});var Gg=d(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});var Cw=qg(),jg=class extends Cw.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,c)=>{let l=s.segments[c];return!!(l.dynamic&&l.patternRe.test(u)||!l.dynamic&&l.pattern===u)}))return!0}return!1}};cl.default=jg});var $g=d(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});var lo=jt(),Iw=Gg(),Hg=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new Iw.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(lo.pattern.isAffectDepthOfReadingPattern);return lo.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=lo.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===Infinity?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!lo.pattern.matchAny(t,r)}};ll.default=Hg});var Wg=d(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});var Ar=jt(),Vg=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Ar.pattern.convertPatternsToRe(t,this._micromatchOptions),i=Ar.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Ar.path.makeAbsolute(this._settings.cwd,t);return Ar.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=Ar.path.removeLeadingDotSegment(t);return Ar.pattern.matchAny(n,r)||Ar.pattern.matchAny(n+"/",r)}};dl.default=Vg});var Kg=d(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});var ww=jt(),Yg=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return ww.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};pl.default=Yg});var Qg=d(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});var Xg=jt(),zg=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=Xg.path.makeAbsolute(this._settings.cwd,r),r=Xg.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};fl.default=zg});var po=d(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});var Nw=P("path"),xw=$g(),Lw=Wg(),Mw=Kg(),Dw=Qg(),Zg=class{constructor(t){this._settings=t,this.errorFilter=new Mw.default(this._settings),this.entryFilter=new Lw.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new xw.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Dw.default(this._settings)}_getRootDirectory(t){return Nw.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};hl.default=Zg});var em=d(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var Bw=al(),Fw=po(),Jg=class extends Fw.default{constructor(){super(...arguments);this._reader=new Bw.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((s,o)=>{let a=this.api(r,t,n);a.once("error",o),a.on("data",u=>i.push(n.transform(u))),a.once("end",()=>s(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};_l.default=Jg});var rm=d(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var kw=P("stream"),Uw=al(),qw=po(),tm=class extends qw.default{constructor(){super(...arguments);this._reader=new Uw.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new kw.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};gl.default=tm});var im=d(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});var jw=Sr(),Gw=nl(),Hw=sl(),nm=class extends Hw.default{constructor(){super(...arguments);this._walkSync=Gw.walkSync,this._statSync=jw.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};ml.default=nm});var om=d(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});var $w=im(),Vw=po(),sm=class extends Vw.default{constructor(){super(...arguments);this._reader=new $w.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};yl.default=sm});var um=d(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var hn=P("fs"),Ww=P("os"),Yw=Math.max(Ww.cpus().length,1);_n.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:hn.lstat,lstatSync:hn.lstatSync,stat:hn.stat,statSync:hn.statSync,readdir:hn.readdir,readdirSync:hn.readdirSync};var am=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Yw),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,Infinity),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},_n.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};_n.default=am});var bl=d((O2,dm)=>{"use strict";var cm=U_(),lm=j_(),Kw=em(),Xw=rm(),zw=om(),El=um(),br=jt();async function Sl(e,t){gn(e);let r=Al(e,Kw.default,t),n=await Promise.all(r);return br.array.flatten(n)}(function(e){function t(o,a){gn(o);let u=Al(o,zw.default,a);return br.array.flatten(u)}e.sync=t;function r(o,a){gn(o);let u=Al(o,Xw.default,a);return br.stream.merge(u)}e.stream=r;function n(o,a){gn(o);let u=lm.transform([].concat(o)),c=new El.default(a);return cm.generate(u,c)}e.generateTasks=n;function i(o,a){gn(o);let u=new El.default(a);return br.pattern.isDynamicPattern(o,u)}e.isDynamicPattern=i;function s(o){return gn(o),br.path.escape(o)}e.escapePath=s})(Sl||(Sl={}));function Al(e,t,r){let n=lm.transform([].concat(e)),i=new El.default(r),s=cm.generate(n,i),o=new t(i);return s.map(o.read,o)}function gn(e){if(![].concat(e).every(n=>br.string.isString(n)&&!br.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}dm.exports=Sl});var fm=d(vr=>{"use strict";var{promisify:Qw}=P("util"),pm=P("fs");async function vl(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await Qw(pm[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Tl(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return pm[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}vr.isFile=vl.bind(null,"stat","isFile");vr.isDirectory=vl.bind(null,"stat","isDirectory");vr.isSymlink=vl.bind(null,"lstat","isSymbolicLink");vr.isFileSync=Tl.bind(null,"statSync","isFile");vr.isDirectorySync=Tl.bind(null,"statSync","isDirectory");vr.isSymlinkSync=Tl.bind(null,"lstatSync","isSymbolicLink")});var ym=d((I2,Rl)=>{"use strict";var Tr=P("path"),hm=fm(),_m=e=>e.length>1?`{${e.join(",")}}`:e[0],gm=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return Tr.isAbsolute(r)?r:Tr.join(t,r)},Zw=(e,t)=>Tr.extname(e)?`**/${e}`:`**/${e}.${_m(t)}`,mm=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>Tr.posix.join(e,Zw(r,t.extensions))):t.files?t.files.map(r=>Tr.posix.join(e,`**/${r}`)):t.extensions?[Tr.posix.join(e,`**/*.${_m(t.extensions)}`)]:[Tr.posix.join(e,"**")]};Rl.exports=async(e,t)=>{if(t=k({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await hm.isDirectory(gm(n,t.cwd))?mm(n,t):n));return[].concat.apply([],r)};Rl.exports.sync=(e,t)=>{if(t=k({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>hm.isDirectorySync(gm(n,t.cwd))?mm(n,t):n);return[].concat.apply([],r)}});var Im=d((w2,Cm)=>{function Em(e){return Array.isArray(e)?e:[e]}var Sm="",Am=" ",Pl="\\",Jw=/^\s+$/,eN=/^\\!/,tN=/^\\#/,rN=/\r?\n/g,nN=/^\.*\/|^\.+$/,Ol="/",bm=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",iN=(e,t,r)=>Object.defineProperty(e,t,{value:r}),sN=/([0-z])-([0-z])/g,vm=()=>!1,oN=e=>e.replace(sN,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:Sm),aN=e=>{let{length:t}=e;return e.slice(0,t-t%2)},uN=[[/\\?\s+$/,e=>e.indexOf("\\")===0?Am:Sm],[/\\\s/g,()=>Am],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Pl],[/\\\\/g,()=>Pl],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===Pl?`\\[${r}${aN(n)}${i}`:i==="]"&&n.length%2==0?`[${oN(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Tm=Object.create(null),cN=(e,t)=>{let r=Tm[e];return r||(r=uN.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),Tm[e]=r),t?new RegExp(r,"i"):new RegExp(r)},Cl=e=>typeof e=="string",lN=e=>e&&Cl(e)&&!Jw.test(e)&&e.indexOf("#")!==0,dN=e=>e.split(rN),Rm=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},pN=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(eN,"!").replace(tN,"#");let i=cN(e,t);return new Rm(r,e,n,i)},fN=(e,t)=>{throw new t(e)},Ht=(e,t,r)=>Cl(e)?e?Ht.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Pm=e=>nN.test(e);Ht.isNotRelative=Pm;Ht.convert=e=>e;var Om=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){iN(this,bm,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[bm]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(lN(t)){let r=pN(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,Em(Cl(t)?dN(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Ht.convert(t);return Ht(s,t,this._allowRelativePaths?vm:fN),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Ol)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(Ol)+Ol,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return Em(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},fo=e=>new Om(e),hN=e=>Ht(e&&Ht.convert(e),e,vm);fo.isPathValid=hN;fo.default=fo;Cm.exports=fo;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Ht.convert=e;let t=/^[a-z]:\//i;Ht.isNotRelative=r=>t.test(r)||Pm(r)}});var Nm=d((N2,wm)=>{"use strict";wm.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var km=d((x2,Il)=>{"use strict";var{promisify:_N}=P("util"),xm=P("fs"),$t=P("path"),Lm=bl(),gN=Im(),bi=Nm(),Mm=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],mN=_N(xm.readFile),yN=e=>t=>t.startsWith("!")?"!"+$t.posix.join(e,t.slice(1)):$t.posix.join(e,t),EN=(e,t)=>{let r=bi($t.relative(t.cwd,$t.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(yN(r))},Dm=e=>{let t=gN();for(let r of e)t.add(EN(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},SN=(e,t)=>{if(e=bi(e),$t.isAbsolute(t)){if(bi(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return $t.join(e,t)},Bm=(e,t)=>r=>e.ignores(bi($t.relative(t,SN(t,r.path||r)))),AN=async(e,t)=>{let r=$t.join(t,e),n=await mN(r,"utf8");return{cwd:t,filePath:r,content:n}},bN=(e,t)=>{let r=$t.join(t,e),n=xm.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},Fm=({ignore:e=[],cwd:t=bi(process.cwd())}={})=>({ignore:e,cwd:t});Il.exports=async e=>{e=Fm(e);let t=await Lm("**/.gitignore",{ignore:Mm.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>AN(i,e.cwd))),n=Dm(r);return Bm(n,e.cwd)};Il.exports.sync=e=>{e=Fm(e);let r=Lm.sync("**/.gitignore",{ignore:Mm.concat(e.ignore),cwd:e.cwd}).map(i=>bN(i,e.cwd)),n=Dm(r);return Bm(n,e.cwd)}});var Gm=d((L2,jm)=>{"use strict";var{Transform:vN}=P("stream"),wl=class extends vN{constructor(){super({objectMode:!0})}},Um=class extends wl{constructor(t){super();this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},qm=class extends wl{constructor(){super();this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};jm.exports={FilterStream:Um,UniqueStream:qm}});var Ml=d((M2,Rr)=>{"use strict";var Hm=P("fs"),ho=nh(),TN=dc(),_o=bl(),go=ym(),Nl=km(),{FilterStream:RN,UniqueStream:PN}=Gm(),$m=()=>!1,Vm=e=>e[0]==="!",ON=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},CN=(e={})=>{if(!e.cwd)return;let t;try{t=Hm.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},IN=e=>e.stats instanceof Hm.Stats?e.path:e,mo=(e,t)=>{e=ho([].concat(e)),ON(e),CN(t);let r=[];t=k({ignore:[],expandDirectories:!0},t);for(let[n,i]of e.entries()){if(Vm(i))continue;let s=e.slice(n).filter(a=>Vm(a)).map(a=>a.slice(1)),o=ce(k({},t),{ignore:t.ignore.concat(s)});r.push({pattern:i,options:o})}return r},wN=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r=ce(k({},r),{files:e.options.expandDirectories}):typeof e.options.expandDirectories=="object"&&(r=k(k({},r),e.options.expandDirectories)),t(e.pattern,r)},xl=(e,t)=>e.options.expandDirectories?wN(e,t):[e.pattern],Wm=e=>e&&e.gitignore?Nl.sync({cwd:e.cwd,ignore:e.ignore}):$m,Ll=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=go.sync(r.ignore)),{pattern:t,options:r}};Rr.exports=async(e,t)=>{let r=mo(e,t),n=async()=>t&&t.gitignore?Nl({cwd:t.cwd,ignore:t.ignore}):$m,i=async()=>{let u=await Promise.all(r.map(async c=>{let l=await xl(c,go);return Promise.all(l.map(Ll(c)))}));return ho(...u)},[s,o]=await Promise.all([n(),i()]),a=await Promise.all(o.map(u=>_o(u.pattern,u.options)));return ho(...a).filter(u=>!s(IN(u)))};Rr.exports.sync=(e,t)=>{let r=mo(e,t),n=[];for(let o of r){let a=xl(o,go.sync).map(Ll(o));n.push(...a)}let i=Wm(t),s=[];for(let o of n)s=ho(s,_o.sync(o.pattern,o.options));return s.filter(o=>!i(o))};Rr.exports.stream=(e,t)=>{let r=mo(e,t),n=[];for(let a of r){let u=xl(a,go.sync).map(Ll(a));n.push(...u)}let i=Wm(t),s=new RN(a=>!i(a)),o=new PN;return TN(n.map(a=>_o.stream(a.pattern,a.options))).pipe(s).pipe(o)};Rr.exports.generateGlobTasks=mo;Rr.exports.hasMagic=(e,t)=>[].concat(e).some(r=>_o.isDynamicPattern(r,t));Rr.exports.gitignore=Nl});var mn=d((W2,Pr)=>{"use strict";function Zm(e){return typeof e=="undefined"||e===null}function LN(e){return typeof e=="object"&&e!==null}function MN(e){return Array.isArray(e)?e:Zm(e)?[]:[e]}function DN(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function BN(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function FN(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Pr.exports.isNothing=Zm;Pr.exports.isObject=LN;Pr.exports.toArray=MN;Pr.exports.repeat=BN;Pr.exports.isNegativeZero=FN;Pr.exports.extend=DN});var yn=d((Y2,ey)=>{"use strict";function Jm(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function vi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Jm(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}vi.prototype=Object.create(Error.prototype);vi.prototype.constructor=vi;vi.prototype.toString=function(t){return this.name+": "+Jm(this,t)};ey.exports=vi});var ry=d((K2,ty)=>{"use strict";var Ti=mn();function Bl(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function Fl(e,t){return Ti.repeat(" ",t-e.length)+e}function kN(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,c,l=Math.min(e.line+t.linesAfter,i.length).toString().length,p=t.maxLength-(t.indent+l+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)c=Bl(e.buffer,n[o-u],i[o-u],e.position-(n[o]-n[o-u]),p),a=Ti.repeat(" ",t.indent)+Fl((e.line-u+1).toString(),l)+" | "+c.str+`
`+a;for(c=Bl(e.buffer,n[o],i[o],e.position,p),a+=Ti.repeat(" ",t.indent)+Fl((e.line+1).toString(),l)+" | "+c.str+`
`,a+=Ti.repeat("-",t.indent+l+3+c.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=i.length);u++)c=Bl(e.buffer,n[o+u],i[o+u],e.position-(n[o]-n[o+u]),p),a+=Ti.repeat(" ",t.indent)+Fl((e.line+u+1).toString(),l)+" | "+c.str+`
`;return a.replace(/\n$/,"")}ty.exports=kN});var Oe=d((X2,iy)=>{"use strict";var ny=yn(),UN=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],qN=["scalar","sequence","mapping"];function jN(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function GN(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(UN.indexOf(r)===-1)throw new ny('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=jN(t.styleAliases||null),qN.indexOf(this.kind)===-1)throw new ny('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}iy.exports=GN});var ql=d((z2,oy)=>{"use strict";var Ri=yn(),kl=Oe();function sy(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function HN(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Ul(e){return this.extend(e)}Ul.prototype.extend=function(t){var r=[],n=[];if(t instanceof kl)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Ri("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof kl))throw new Ri("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Ri("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Ri("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof kl))throw new Ri("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Ul.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=sy(i,"implicit"),i.compiledExplicit=sy(i,"explicit"),i.compiledTypeMap=HN(i.compiledImplicit,i.compiledExplicit),i};oy.exports=Ul});var jl=d((Q2,ay)=>{"use strict";var $N=Oe();ay.exports=new $N("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var Gl=d((Z2,uy)=>{"use strict";var VN=Oe();uy.exports=new VN("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var Hl=d((J2,cy)=>{"use strict";var WN=Oe();cy.exports=new WN("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var $l=d((eG,ly)=>{"use strict";var YN=ql();ly.exports=new YN({explicit:[jl(),Gl(),Hl()]})});var Vl=d((tG,dy)=>{"use strict";var KN=Oe();function XN(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function zN(){return null}function QN(e){return e===null}dy.exports=new KN("tag:yaml.org,2002:null",{kind:"scalar",resolve:XN,construct:zN,predicate:QN,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var Wl=d((rG,py)=>{"use strict";var ZN=Oe();function JN(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function ex(e){return e==="true"||e==="True"||e==="TRUE"}function tx(e){return Object.prototype.toString.call(e)==="[object Boolean]"}py.exports=new ZN("tag:yaml.org,2002:bool",{kind:"scalar",resolve:JN,construct:ex,predicate:tx,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var Yl=d((nG,fy)=>{"use strict";var rx=mn(),nx=Oe();function ix(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function sx(e){return 48<=e&&e<=55}function ox(e){return 48<=e&&e<=57}function ax(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!ix(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!sx(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!ox(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function ux(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function cx(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!rx.isNegativeZero(e)}fy.exports=new nx("tag:yaml.org,2002:int",{kind:"scalar",resolve:ax,construct:ux,predicate:cx,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var Kl=d((iG,_y)=>{"use strict";var hy=mn(),lx=Oe(),dx=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function px(e){return!(e===null||!dx.test(e)||e[e.length-1]==="_")}function fx(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var hx=/^[-+]?[0-9]+e/;function _x(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(hy.isNegativeZero(e))return"-0.0";return r=e.toString(10),hx.test(r)?r.replace("e",".e"):r}function gx(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||hy.isNegativeZero(e))}_y.exports=new lx("tag:yaml.org,2002:float",{kind:"scalar",resolve:px,construct:fx,predicate:gx,represent:_x,defaultStyle:"lowercase"})});var Xl=d((sG,gy)=>{"use strict";gy.exports=$l().extend({implicit:[Vl(),Wl(),Yl(),Kl()]})});var zl=d((oG,my)=>{"use strict";my.exports=Xl()});var Ql=d((aG,Sy)=>{"use strict";var mx=Oe(),yy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ey=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function yx(e){return e===null?!1:yy.exec(e)!==null||Ey.exec(e)!==null}function Ex(e){var t,r,n,i,s,o,a,u=0,c=null,l,p,f;if(t=yy.exec(e),t===null&&(t=Ey.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(l=+t[10],p=+(t[11]||0),c=(l*60+p)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,s,o,a,u)),c&&f.setTime(f.getTime()-c),f}function Sx(e){return e.toISOString()}Sy.exports=new mx("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:yx,construct:Ex,instanceOf:Date,represent:Sx})});var Zl=d((uG,Ay)=>{"use strict";var Ax=Oe();function bx(e){return e==="<<"||e===null}Ay.exports=new Ax("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bx})});var ed=d((cG,by)=>{"use strict";var vx=Oe(),Jl=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Tx(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Jl;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function Rx(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Jl,o=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function Px(e){var t="",r=0,n,i,s=e.length,o=Jl;for(n=0;n<s;n++)n%3==0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function Ox(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}by.exports=new vx("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Tx,construct:Rx,predicate:Ox,represent:Px})});var td=d((lG,vy)=>{"use strict";var Cx=Oe(),Ix=Object.prototype.hasOwnProperty,wx=Object.prototype.toString;function Nx(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,wx.call(i)!=="[object Object]")return!1;for(s in i)if(Ix.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function xx(e){return e!==null?e:[]}vy.exports=new Cx("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Nx,construct:xx})});var rd=d((dG,Ty)=>{"use strict";var Lx=Oe(),Mx=Object.prototype.toString;function Dx(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],Mx.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function Bx(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}Ty.exports=new Lx("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Dx,construct:Bx})});var nd=d((pG,Ry)=>{"use strict";var Fx=Oe(),kx=Object.prototype.hasOwnProperty;function Ux(e){if(e===null)return!0;var t,r=e;for(t in r)if(kx.call(r,t)&&r[t]!==null)return!1;return!0}function qx(e){return e!==null?e:{}}Ry.exports=new Fx("tag:yaml.org,2002:set",{kind:"mapping",resolve:Ux,construct:qx})});var Eo=d((fG,Py)=>{"use strict";Py.exports=zl().extend({implicit:[Ql(),Zl()],explicit:[ed(),td(),rd(),nd()]})});var Gy=d((hG,ad)=>{"use strict";var Or=mn(),Oy=yn(),jx=ry(),Gx=Eo(),nr=Object.prototype.hasOwnProperty,So=1,Cy=2,Iy=3,Ao=4,id=1,Hx=2,wy=3,$x=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Vx=/[\x85\u2028\u2029]/,Wx=/[,\[\]\{\}]/,Ny=/^(?:!|!!|![a-z\-]+!)$/i,xy=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ly(e){return Object.prototype.toString.call(e)}function bt(e){return e===10||e===13}function Cr(e){return e===9||e===32}function Ge(e){return e===9||e===32||e===10||e===13}function En(e){return e===44||e===91||e===93||e===123||e===125}function Yx(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Kx(e){return e===120?2:e===117?4:e===85?8:0}function Xx(e){return 48<=e&&e<=57?e-48:-1}function My(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function zx(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Dy=new Array(256),By=new Array(256);for(var Sn=0;Sn<256;Sn++)Dy[Sn]=My(Sn)?1:0,By[Sn]=My(Sn);function Qx(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Gx,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Fy(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=jx(r),new Oy(t,r)}function D(e,t){throw Fy(e,t)}function bo(e,t){e.onWarning&&e.onWarning.call(null,Fy(e,t))}var ky={YAML:function(t,r,n){var i,s,o;t.version!==null&&D(t,"duplication of %YAML directive"),n.length!==1&&D(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&D(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&D(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&bo(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&D(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Ny.test(i)||D(t,"ill-formed tag handle (first argument) of the TAG directive"),nr.call(t.tagMap,i)&&D(t,'there is a previously declared suffix for "'+i+'" tag handle'),xy.test(s)||D(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch(o){D(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function ir(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||D(e,"expected valid JSON character");else $x.test(a)&&D(e,"the stream contains non-printable characters");e.result+=a}}function Uy(e,t,r,n){var i,s,o,a;for(Or.isObject(r)||D(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],nr.call(t,s)||(t[s]=r[s],n[s]=!0)}function An(e,t,r,n,i,s,o,a,u){var c,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,l=i.length;c<l;c+=1)Array.isArray(i[c])&&D(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Ly(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Ly(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,l=s.length;c<l;c+=1)Uy(e,t,s[c],r);else Uy(e,t,s,r);else!e.json&&!nr.call(r,i)&&nr.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,D(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function sd(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):D(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function _e(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Cr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(bt(i))for(sd(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&bo(e,"deficient indentation"),n}function vo(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ge(r)))}function od(e,t){t===1?e.result+=" ":t>1&&(e.result+=Or.repeat(`
`,t-1))}function Zx(e,t,r){var n,i,s,o,a,u,c,l,p=e.kind,f=e.result,h;if(h=e.input.charCodeAt(e.position),Ge(h)||En(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),Ge(i)||r&&En(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),Ge(i)||r&&En(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),Ge(n))break}else{if(e.position===e.lineStart&&vo(e)||r&&En(h))break;if(bt(h))if(u=e.line,c=e.lineStart,l=e.lineIndent,_e(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=c,e.lineIndent=l;break}}a&&(ir(e,s,o,!1),od(e,e.line-u),s=o=e.position,a=!1),Cr(h)||(o=e.position+1),h=e.input.charCodeAt(++e.position)}return ir(e,s,o,!1),e.result?!0:(e.kind=p,e.result=f,!1)}function Jx(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ir(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else bt(r)?(ir(e,n,i,!0),od(e,_e(e,!1,t)),n=i=e.position):e.position===e.lineStart&&vo(e)?D(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);D(e,"unexpected end of the stream within a single quoted scalar")}function eL(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return ir(e,r,e.position,!0),e.position++,!0;if(a===92){if(ir(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),bt(a))_e(e,!1,t);else if(a<256&&Dy[a])e.result+=By[a],e.position++;else if((o=Kx(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=Yx(a))>=0?s=(s<<4)+o:D(e,"expected hexadecimal character");e.result+=zx(s),e.position++}else D(e,"unknown escape sequence");r=n=e.position}else bt(a)?(ir(e,r,n,!0),od(e,_e(e,!1,t)),r=n=e.position):e.position===e.lineStart&&vo(e)?D(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}D(e,"unexpected end of the stream within a double quoted scalar")}function tL(e,t){var r=!0,n,i,s,o=e.tag,a,u=e.anchor,c,l,p,f,h,_=Object.create(null),g,b,v,E;if(E=e.input.charCodeAt(e.position),E===91)l=93,h=!1,a=[];else if(E===123)l=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),E=e.input.charCodeAt(++e.position);E!==0;){if(_e(e,!0,t),E=e.input.charCodeAt(e.position),E===l)return e.position++,e.tag=o,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=a,!0;r?E===44&&D(e,"expected the node content, but found ','"):D(e,"missed comma between flow collection entries"),b=g=v=null,p=f=!1,E===63&&(c=e.input.charCodeAt(e.position+1),Ge(c)&&(p=f=!0,e.position++,_e(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,bn(e,t,So,!1,!0),b=e.tag,g=e.result,_e(e,!0,t),E=e.input.charCodeAt(e.position),(f||e.line===n)&&E===58&&(p=!0,E=e.input.charCodeAt(++e.position),_e(e,!0,t),bn(e,t,So,!1,!0),v=e.result),h?An(e,a,_,b,g,v,n,i,s):p?a.push(An(e,null,_,b,g,v,n,i,s)):a.push(g),_e(e,!0,t),E=e.input.charCodeAt(e.position),E===44?(r=!0,E=e.input.charCodeAt(++e.position)):r=!1}D(e,"unexpected end of the stream within a flow collection")}function rL(e,t){var r,n,i=id,s=!1,o=!1,a=t,u=0,c=!1,l,p;if(p=e.input.charCodeAt(e.position),p===124)n=!1;else if(p===62)n=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)id===i?i=p===43?wy:Hx:D(e,"repeat of a chomping mode identifier");else if((l=Xx(p))>=0)l===0?D(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?D(e,"repeat of an indentation width identifier"):(a=t+l-1,o=!0);else break;if(Cr(p)){do p=e.input.charCodeAt(++e.position);while(Cr(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!bt(p)&&p!==0)}for(;p!==0;){for(sd(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),bt(p)){u++;continue}if(e.lineIndent<a){i===wy?e.result+=Or.repeat(`
`,s?1+u:u):i===id&&s&&(e.result+=`
`);break}for(n?Cr(p)?(c=!0,e.result+=Or.repeat(`
`,s?1+u:u)):c?(c=!1,e.result+=Or.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=Or.repeat(`
`,u):e.result+=Or.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=e.position;!bt(p)&&p!==0;)p=e.input.charCodeAt(++e.position);ir(e,r,e.position,!1)}return!0}function qy(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!Ge(o))));){if(a=!0,e.position++,_e(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,bn(e,t,Iy,!1,!0),s.push(e.result),_e(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)D(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function nL(e,t,r){var n,i,s,o,a,u,c=e.tag,l=e.anchor,p={},f=Object.create(null),h=null,_=null,g=null,b=!1,v=!1,E;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),E=e.input.charCodeAt(e.position);E!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(E===63||E===58)&&Ge(n))E===63?(b&&(An(e,p,f,h,_,null,o,a,u),h=_=g=null),v=!0,b=!0,i=!0):b?(b=!1,i=!0):D(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,E=n;else{if(o=e.line,a=e.lineStart,u=e.position,!bn(e,r,Cy,!1,!0))break;if(e.line===s){for(E=e.input.charCodeAt(e.position);Cr(E);)E=e.input.charCodeAt(++e.position);if(E===58)E=e.input.charCodeAt(++e.position),Ge(E)||D(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(An(e,p,f,h,_,null,o,a,u),h=_=g=null),v=!0,b=!1,i=!1,h=e.tag,_=e.result;else if(v)D(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=l,!0}else if(v)D(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=l,!0}if((e.line===s||e.lineIndent>t)&&(b&&(o=e.line,a=e.lineStart,u=e.position),bn(e,t,Ao,!0,i)&&(b?_=e.result:g=e.result),b||(An(e,p,f,h,_,g,o,a,u),h=_=g=null),_e(e,!0,-1),E=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&E!==0)D(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&An(e,p,f,h,_,null,o,a,u),v&&(e.tag=c,e.anchor=l,e.kind="mapping",e.result=p),v}function iL(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&D(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):D(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ge(o);)o===33&&(n?D(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Ny.test(i)||D(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),Wx.test(s)&&D(e,"tag suffix cannot contain flow indicator characters")}s&&!xy.test(s)&&D(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch(a){D(e,"tag name is malformed: "+s)}return r?e.tag=s:nr.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:D(e,'undeclared tag handle "'+i+'"'),!0}function sL(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&D(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ge(r)&&!En(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&D(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function oL(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Ge(n)&&!En(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&D(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),nr.call(e.anchorMap,r)||D(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],_e(e,!0,-1),!0}function bn(e,t,r,n,i){var s,o,a,u=1,c=!1,l=!1,p,f,h,_,g,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Ao===r||Iy===r,n&&_e(e,!0,-1)&&(c=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;iL(e)||sL(e);)_e(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||Ao===r)&&(So===r||Cy===r?g=t:g=t+1,b=e.position-e.lineStart,u===1?a&&(qy(e,b)||nL(e,b,g))||tL(e,g)?l=!0:(o&&rL(e,g)||Jx(e,g)||eL(e,g)?l=!0:oL(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&D(e,"alias node should not have any properties")):Zx(e,g,So===r)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(l=a&&qy(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&D(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,f=e.implicitTypes.length;p<f;p+=1)if(_=e.implicitTypes[p],_.resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(nr.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,h=e.typeMap.multi[e.kind||"fallback"],p=0,f=h.length;p<f;p+=1)if(e.tag.slice(0,h[p].tag.length)===h[p].tag){_=h[p];break}_||D(e,"unknown tag !<"+e.tag+">"),e.result!==null&&_.kind!==e.kind&&D(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):D(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function aL(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(_e(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Ge(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&D(e,"directive name must not be less than one character in length");o!==0;){for(;Cr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!bt(o));break}if(bt(o))break;for(r=e.position;o!==0&&!Ge(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&sd(e),nr.call(ky,n)?ky[n](e,n,i):bo(e,'unknown document directive "'+n+'"')}if(_e(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,_e(e,!0,-1)):s&&D(e,"directives end mark is expected"),bn(e,e.lineIndent-1,Ao,!1,!0),_e(e,!0,-1),e.checkLineBreaks&&Vx.test(e.input.slice(t,e.position))&&bo(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&vo(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,_e(e,!0,-1));return}if(e.position<e.length-1)D(e,"end of the stream or a document separator is expected");else return}function jy(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Qx(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,D(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)aL(r);return r.documents}function uL(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=jy(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function cL(e,t){var r=jy(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Oy("expected a single document in the stream, but found more")}}ad.exports.loadAll=uL;ad.exports.load=cL});var cE=d((_G,uE)=>{"use strict";var To=mn(),Pi=yn(),lL=Eo(),Hy=Object.prototype.toString,$y=Object.prototype.hasOwnProperty,ud=65279,dL=9,Oi=10,pL=13,fL=32,hL=33,_L=34,cd=35,gL=37,mL=38,yL=39,EL=42,Vy=44,SL=45,Ro=58,AL=61,bL=62,vL=63,TL=64,Wy=91,Yy=93,RL=96,Ky=123,PL=124,Xy=125,Ce={};Ce[0]="\\0";Ce[7]="\\a";Ce[8]="\\b";Ce[9]="\\t";Ce[10]="\\n";Ce[11]="\\v";Ce[12]="\\f";Ce[13]="\\r";Ce[27]="\\e";Ce[34]='\\"';Ce[92]="\\\\";Ce[133]="\\N";Ce[160]="\\_";Ce[8232]="\\L";Ce[8233]="\\P";var OL=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],CL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function IL(e,t){var r,n,i,s,o,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&$y.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function wL(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Pi("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+To.repeat("0",n-t.length)+t}var NL=1,Ci=2;function xL(e){this.schema=e.schema||lL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=To.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=IL(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Ci:NL,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function zy(e,t){for(var r=To.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function ld(e,t){return`
`+To.repeat(" ",e.indent*t)}function LL(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Po(e){return e===fL||e===dL}function Ii(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==ud||65536<=e&&e<=1114111}function Qy(e){return Ii(e)&&e!==ud&&e!==pL&&e!==Oi}function Zy(e,t,r){var n=Qy(e),i=n&&!Po(e);return(r?n:n&&e!==Vy&&e!==Wy&&e!==Yy&&e!==Ky&&e!==Xy)&&e!==cd&&!(t===Ro&&!i)||Qy(t)&&!Po(t)&&e===cd||t===Ro&&i}function ML(e){return Ii(e)&&e!==ud&&!Po(e)&&e!==SL&&e!==vL&&e!==Ro&&e!==Vy&&e!==Wy&&e!==Yy&&e!==Ky&&e!==Xy&&e!==cd&&e!==mL&&e!==EL&&e!==hL&&e!==PL&&e!==AL&&e!==bL&&e!==yL&&e!==_L&&e!==gL&&e!==TL&&e!==RL}function DL(e){return!Po(e)&&e!==Ro}function wi(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Jy(e){var t=/^\n* /;return t.test(e)}var eE=1,dd=2,tE=3,rE=4,vn=5;function BL(e,t,r,n,i,s,o,a){var u,c=0,l=null,p=!1,f=!1,h=n!==-1,_=-1,g=ML(wi(e,0))&&DL(wi(e,e.length-1));if(t||o)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=wi(e,u),!Ii(c))return vn;g=g&&Zy(c,l,a),l=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=wi(e,u),c===Oi)p=!0,h&&(f=f||u-_-1>n&&e[_+1]!==" ",_=u);else if(!Ii(c))return vn;g=g&&Zy(c,l,a),l=c}f=f||h&&u-_-1>n&&e[_+1]!==" "}return!p&&!f?g&&!o&&!i(e)?eE:s===Ci?vn:dd:r>9&&Jy(e)?vn:o?s===Ci?vn:dd:f?rE:tE}function FL(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===Ci?'""':"''";if(!e.noCompatMode&&(OL.indexOf(t)!==-1||CL.test(t)))return e.quotingType===Ci?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(c){return LL(e,c)}switch(BL(t,a,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,i)){case eE:return t;case dd:return"'"+t.replace(/'/g,"''")+"'";case tE:return"|"+nE(t,e.indent)+iE(zy(t,s));case rE:return">"+nE(t,e.indent)+iE(zy(kL(t,o),s));case vn:return'"'+UL(t,o)+'"';default:throw new Pi("impossible error: invalid scalar style")}}()}function nE(e,t){var r=Jy(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function iE(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function kL(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,sE(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+sE(u,t),i=s}return n}function sE(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,u+=`
`+e.slice(i,s),i=s+1),o=a;return u+=`
`,e.length-i>t&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function UL(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=wi(e,i),n=Ce[r],!n&&Ii(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||wL(r);return t}function qL(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Vt(e,t,a,!1,!1)||typeof a=="undefined"&&Vt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function oE(e,t,r,n){var i="",s=e.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(Vt(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&Vt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=ld(e,t)),e.dump&&Oi===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function jL(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,u,c,l;for(o=0,a=s.length;o<a;o+=1)l="",n!==""&&(l+=", "),e.condenseFlow&&(l+='"'),u=s[o],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),!!Vt(e,t,u,!1,!1)&&(e.dump.length>1024&&(l+="? "),l+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!Vt(e,t,c,!1,!1)&&(l+=e.dump,n+=l));e.tag=i,e.dump="{"+n+"}"}function GL(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,u,c,l,p,f;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Pi("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)f="",(!n||i!=="")&&(f+=ld(e,t)),c=o[a],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),!!Vt(e,t+1,c,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&Oi===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,p&&(f+=ld(e,t)),!!Vt(e,t+1,l,!0,p)&&(e.dump&&Oi===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}function aE(e,t,r){var n,i,s,o,a,u;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,Hy.call(a.represent)==="[object Function]")n=a.represent(t,u);else if($y.call(a.represent,u))n=a.represent[u](t,u);else throw new Pi("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function Vt(e,t,r,n,i,s,o){e.tag=null,e.dump=r,aE(e,r,!1)||aE(e,r,!0);var a=Hy.call(e.dump),u=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var l=a==="[object Object]"||a==="[object Array]",p,f;if(l&&(p=e.duplicates.indexOf(r),f=p!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(l&&f&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(GL(e,t,e.dump,i),f&&(e.dump="&ref_"+p+e.dump)):(jL(e,t,e.dump),f&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?oE(e,t-1,e.dump,i):oE(e,t,e.dump,i),f&&(e.dump="&ref_"+p+e.dump)):(qL(e,t,e.dump),f&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&FL(e,e.dump,t,s,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Pi("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function HL(e,t){var r=[],n=[],i,s;for(pd(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function pd(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)pd(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)pd(e[n[i]],t,r)}function $L(e,t){t=t||{};var r=new xL(t);r.noRefs||HL(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Vt(r,0,n,!0,!0)?r.dump+`
`:""}uE.exports.dump=$L});var dE=d((gG,De)=>{"use strict";var lE=Gy(),VL=cE();function fd(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}De.exports.Type=Oe();De.exports.Schema=ql();De.exports.FAILSAFE_SCHEMA=$l();De.exports.JSON_SCHEMA=Xl();De.exports.CORE_SCHEMA=zl();De.exports.DEFAULT_SCHEMA=Eo();De.exports.load=lE.load;De.exports.loadAll=lE.loadAll;De.exports.dump=VL.dump;De.exports.YAMLException=yn();De.exports.types={binary:ed(),float:Kl(),map:Hl(),null:Vl(),pairs:rd(),set:nd(),timestamp:Ql(),bool:Wl(),int:Yl(),merge:Zl(),omap:td(),seq:Gl(),str:jl()};De.exports.safeLoad=fd("safeLoad","load");De.exports.safeLoadAll=fd("safeLoadAll","loadAll");De.exports.safeDump=fd("safeDump","dump")});var mE=d(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0})});var yE=d(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co._globalThis=void 0;Co._globalThis=typeof globalThis=="object"?globalThis:global});var EE=d(Ir=>{"use strict";var XL=Ir&&Ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zL=Ir&&Ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XL(t,e,r)};Object.defineProperty(Ir,"__esModule",{value:!0});zL(yE(),Ir)});var SE=d(wr=>{"use strict";var QL=wr&&wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZL=wr&&wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&QL(t,e,r)};Object.defineProperty(wr,"__esModule",{value:!0});ZL(EE(),wr)});var gd=d(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.VERSION=void 0;Io.VERSION="1.1.0"});var vE=d(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.isCompatible=Tn._makeCompatibilityCheck=void 0;var JL=gd(),AE=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function bE(e){var t=new Set([e]),r=new Set,n=e.match(AE);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function s(a){return r.add(a),!1}function o(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var c=u.match(AE);if(!c)return s(u);var l={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return l.prerelease!=null||i.major!==l.major?s(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?o(u):s(u):i.minor<=l.minor?o(u):s(u)}}Tn._makeCompatibilityCheck=bE;Tn.isCompatible=bE(JL.VERSION)});var Rn=d(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.unregisterGlobal=sr.getGlobal=sr.registerGlobal=void 0;var e1=SE(),xi=gd(),t1=vE(),r1=xi.VERSION.split(".")[0],Li=Symbol.for("opentelemetry.js.api."+r1),Mi=e1._globalThis;function n1(e,t,r,n){var i;n===void 0&&(n=!1);var s=Mi[Li]=(i=Mi[Li])!==null&&i!==void 0?i:{version:xi.VERSION};if(!n&&s[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(o.stack||o.message),!1}if(s.version!==xi.VERSION){var o=new Error("@opentelemetry/api: All API registration versions must match");return r.error(o.stack||o.message),!1}return s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+xi.VERSION+"."),!0}sr.registerGlobal=n1;function i1(e){var t,r,n=(t=Mi[Li])===null||t===void 0?void 0:t.version;if(!(!n||!t1.isCompatible(n)))return(r=Mi[Li])===null||r===void 0?void 0:r[e]}sr.getGlobal=i1;function s1(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+xi.VERSION+".");var r=Mi[Li];r&&delete r[e]}sr.unregisterGlobal=s1});var TE=d(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.DiagComponentLogger=void 0;var o1=Rn(),a1=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Di("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Di("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Di("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Di("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Di("verbose",this._namespace,t)},e}();wo.DiagComponentLogger=a1;function Di(e,t,r){var n=o1.getGlobal("diag");if(!!n)return r.unshift(t),n[e].apply(n,r)}});var No=d(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.DiagLogLevel=void 0;var u1;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(u1=Bi.DiagLogLevel||(Bi.DiagLogLevel={}))});var RE=d(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.createLogLevelDiagLogger=void 0;var Wt=No();function c1(e,t){e<Wt.DiagLogLevel.NONE?e=Wt.DiagLogLevel.NONE:e>Wt.DiagLogLevel.ALL&&(e=Wt.DiagLogLevel.ALL),t=t||{};function r(n,i){var s=t[n];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:r("error",Wt.DiagLogLevel.ERROR),warn:r("warn",Wt.DiagLogLevel.WARN),info:r("info",Wt.DiagLogLevel.INFO),debug:r("debug",Wt.DiagLogLevel.DEBUG),verbose:r("verbose",Wt.DiagLogLevel.VERBOSE)}}xo.createLogLevelDiagLogger=c1});var Pn=d(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.DiagAPI=void 0;var l1=TE(),d1=RE(),p1=No(),Lo=Rn(),f1="diag",h1=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=Lo.getGlobal("diag");if(!!o)return o[n].apply(o,i)}}var r=this;r.setLogger=function(n,i){var s,o;if(i===void 0&&(i=p1.DiagLogLevel.INFO),n===r){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=a.stack)!==null&&s!==void 0?s:a.message),!1}var u=Lo.getGlobal("diag"),c=d1.createLogLevelDiagLogger(i,n);if(u){var l=(o=new Error().stack)!==null&&o!==void 0?o:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+l),c.warn("Current logger will overwrite one already registered from "+l)}return Lo.registerGlobal("diag",c,r,!0)},r.disable=function(){Lo.unregisterGlobal(f1,r)},r.createComponentLogger=function(n){return new l1.DiagComponentLogger(n)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();Mo.DiagAPI=h1});var PE=d(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.BaggageImpl=void 0;var _1=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(!!r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=t[0],n=t[1];return[r,n]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,s=t;i<s.length;i++){var o=s[i];n._entries.delete(o)}return n},e.prototype.clear=function(){return new e},e}();Do.BaggageImpl=_1});var OE=d(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.baggageEntryMetadataSymbol=void 0;Bo.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var md=d(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.baggageEntryMetadataFromString=On.createBaggage=void 0;var g1=Pn(),m1=PE(),y1=OE(),E1=g1.DiagAPI.instance();function S1(e){return e===void 0&&(e={}),new m1.BaggageImpl(new Map(Object.entries(e)))}On.createBaggage=S1;function A1(e){return typeof e!="string"&&(E1.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:y1.baggageEntryMetadataSymbol,toString:function(){return e}}}On.baggageEntryMetadataFromString=A1});var IE=d(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0})});var NE=d(wE=>{"use strict";Object.defineProperty(wE,"__esModule",{value:!0})});var LE=d(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0})});var ME=d(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.DiagConsoleLogger=void 0;var yd=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],b1=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(console){var o=console[n];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,i)}}}for(var r=0;r<yd.length;r++)this[yd[r].n]=t(yd[r].c)}return e}();Fo.DiagConsoleLogger=b1});var BE=d(or=>{"use strict";var v1=or&&or.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DE=or&&or.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&v1(t,e,r)};Object.defineProperty(or,"__esModule",{value:!0});DE(ME(),or);DE(No(),or)});var Ed=d(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.defaultTextMapSetter=Cn.defaultTextMapGetter=void 0;Cn.defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}};Cn.defaultTextMapSetter={set:function(e,t,r){e!=null&&(e[t]=r)}}});var kE=d(FE=>{"use strict";Object.defineProperty(FE,"__esModule",{value:!0})});var qE=d(UE=>{"use strict";Object.defineProperty(UE,"__esModule",{value:!0})});var Fi=d(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.ROOT_CONTEXT=In.createContextKey=void 0;function T1(e){return Symbol.for(e)}In.createContextKey=T1;var R1=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var s=new e(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}();In.ROOT_CONTEXT=new R1});var jE=d(wn=>{"use strict";var P1=wn&&wn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(wn,"__esModule",{value:!0});wn.NoopContextManager=void 0;var O1=Fi(),C1=function(){function e(){}return e.prototype.active=function(){return O1.ROOT_CONTEXT},e.prototype.with=function(t,r,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return r.call.apply(r,P1([n],i))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();wn.NoopContextManager=C1});var bd=d(Nn=>{"use strict";var I1=Nn&&Nn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.ContextAPI=void 0;var w1=jE(),Sd=Rn(),GE=Pn(),Ad="context",N1=new w1.NoopContextManager,x1=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Sd.registerGlobal(Ad,t,GE.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,I1([t,r,n],s))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Sd.getGlobal(Ad)||N1},e.prototype.disable=function(){this._getContextManager().disable(),Sd.unregisterGlobal(Ad,GE.DiagAPI.instance())},e}();Nn.ContextAPI=x1});var vd=d(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.TraceFlags=void 0;var L1;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(L1=ki.TraceFlags||(ki.TraceFlags={}))});var ko=d(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.INVALID_SPAN_CONTEXT=vt.INVALID_TRACEID=vt.INVALID_SPANID=void 0;var M1=vd();vt.INVALID_SPANID="0000000000000000";vt.INVALID_TRACEID="00000000000000000000000000000000";vt.INVALID_SPAN_CONTEXT={traceId:vt.INVALID_TRACEID,spanId:vt.INVALID_SPANID,traceFlags:M1.TraceFlags.NONE}});var qo=d(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.NonRecordingSpan=void 0;var D1=ko(),B1=function(){function e(t){t===void 0&&(t=D1.INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();Uo.NonRecordingSpan=B1});var Rd=d(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.getSpanContext=tt.setSpanContext=tt.deleteSpan=tt.setSpan=tt.getSpan=void 0;var F1=Fi(),k1=qo(),Td=F1.createContextKey("OpenTelemetry Context Key SPAN");function HE(e){return e.getValue(Td)||void 0}tt.getSpan=HE;function $E(e,t){return e.setValue(Td,t)}tt.setSpan=$E;function U1(e){return e.deleteValue(Td)}tt.deleteSpan=U1;function q1(e,t){return $E(e,new k1.NonRecordingSpan(t))}tt.setSpanContext=q1;function j1(e){var t;return(t=HE(e))===null||t===void 0?void 0:t.spanContext()}tt.getSpanContext=j1});var jo=d(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.wrapSpanContext=Tt.isSpanContextValid=Tt.isValidSpanId=Tt.isValidTraceId=void 0;var VE=ko(),G1=qo(),H1=/^([0-9a-f]{32})$/i,$1=/^[0-9a-f]{16}$/i;function WE(e){return H1.test(e)&&e!==VE.INVALID_TRACEID}Tt.isValidTraceId=WE;function YE(e){return $1.test(e)&&e!==VE.INVALID_SPANID}Tt.isValidSpanId=YE;function V1(e){return WE(e.traceId)&&YE(e.spanId)}Tt.isSpanContextValid=V1;function W1(e){return new G1.NonRecordingSpan(e)}Tt.wrapSpanContext=W1});var Od=d(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.NoopTracer=void 0;var Y1=bd(),KE=Rd(),Pd=qo(),K1=jo(),XE=Y1.ContextAPI.getInstance(),X1=function(){function e(){}return e.prototype.startSpan=function(t,r,n){var i=Boolean(r==null?void 0:r.root);if(i)return new Pd.NonRecordingSpan;var s=n&&KE.getSpanContext(n);return z1(s)&&K1.isSpanContextValid(s)?new Pd.NonRecordingSpan(s):new Pd.NonRecordingSpan},e.prototype.startActiveSpan=function(t,r,n,i){var s,o,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);var u=o!=null?o:XE.active(),c=this.startSpan(t,s,u),l=KE.setSpan(u,c);return XE.with(l,a,void 0,c)}},e}();Go.NoopTracer=X1;function z1(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var Cd=d(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.ProxyTracer=void 0;var Q1=Od(),Z1=new Q1.NoopTracer,J1=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):Z1},e}();Ho.ProxyTracer=J1});var zE=d($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.NoopTracerProvider=void 0;var eM=Od(),tM=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new eM.NoopTracer},e}();$o.NoopTracerProvider=tM});var Id=d(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.ProxyTracerProvider=void 0;var rM=Cd(),nM=zE(),iM=new nM.NoopTracerProvider,sM=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new rM.ProxyTracer(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:iM},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();Vo.ProxyTracerProvider=sM});var ZE=d(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0})});var JE=d(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.SamplingDecision=void 0;var oM;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(oM=Ui.SamplingDecision||(Ui.SamplingDecision={}))});var tS=d(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0})});var rS=d(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.SpanKind=void 0;var aM;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(aM=qi.SpanKind||(qi.SpanKind={}))});var iS=d(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0})});var oS=d(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0})});var aS=d(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.SpanStatusCode=void 0;var uM;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(uM=ji.SpanStatusCode||(ji.SpanStatusCode={}))});var cS=d(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0})});var lS=d(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.validateValue=xn.validateKey=void 0;var wd="[_0-9a-z-*/]",cM="[a-z]"+wd+"{0,255}",lM="[a-z0-9]"+wd+"{0,240}@[a-z]"+wd+"{0,13}",dM=new RegExp("^(?:"+cM+"|"+lM+")$"),pM=/^[ -~]{0,255}[!-~]$/,fM=/,|=/;function hM(e){return dM.test(e)}xn.validateKey=hM;function _M(e){return pM.test(e)&&!fM.test(e)}xn.validateValue=_M});var _S=d(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.TraceStateImpl=void 0;var dS=lS(),pS=32,gM=512,fS=",",hS="=",mM=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+hS+t.get(n)),r},[]).join(fS)},e.prototype._parse=function(t){t.length>gM||(this._internalState=t.split(fS).reverse().reduce(function(r,n){var i=n.trim(),s=i.indexOf(hS);if(s!==-1){var o=i.slice(0,s),a=i.slice(s+1,n.length);dS.validateKey(o)&&dS.validateValue(a)&&r.set(o,a)}return r},new Map),this._internalState.size>pS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,pS))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();Wo.TraceStateImpl=mM});var gS=d(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.createTraceState=void 0;var yM=_S();function EM(e){return new yM.TraceStateImpl(e)}Yo.createTraceState=EM});var yS=d(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0})});var SS=d(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0})});var bS=d(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0})});var TS=d(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0})});var CS=d(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.TraceAPI=void 0;var Nd=Rn(),RS=Id(),PS=jo(),Gi=Rd(),OS=Pn(),xd="trace",SM=function(){function e(){this._proxyTracerProvider=new RS.ProxyTracerProvider,this.wrapSpanContext=PS.wrapSpanContext,this.isSpanContextValid=PS.isSpanContextValid,this.deleteSpan=Gi.deleteSpan,this.getSpan=Gi.getSpan,this.getSpanContext=Gi.getSpanContext,this.setSpan=Gi.setSpan,this.setSpanContext=Gi.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=Nd.registerGlobal(xd,this._proxyTracerProvider,OS.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Nd.getGlobal(xd)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Nd.unregisterGlobal(xd,OS.DiagAPI.instance()),this._proxyTracerProvider=new RS.ProxyTracerProvider},e}();Ko.TraceAPI=SM});var IS=d(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.NoopTextMapPropagator=void 0;var AM=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}();Xo.NoopTextMapPropagator=AM});var wS=d(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.deleteBaggage=ar.setBaggage=ar.getBaggage=void 0;var bM=Fi(),Ld=bM.createContextKey("OpenTelemetry Baggage Key");function vM(e){return e.getValue(Ld)||void 0}ar.getBaggage=vM;function TM(e,t){return e.setValue(Ld,t)}ar.setBaggage=TM;function RM(e){return e.deleteValue(Ld)}ar.deleteBaggage=RM});var LS=d(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.PropagationAPI=void 0;var Md=Rn(),PM=IS(),NS=Ed(),Dd=wS(),OM=md(),xS=Pn(),Bd="propagation",CM=new PM.NoopTextMapPropagator,IM=function(){function e(){this.createBaggage=OM.createBaggage,this.getBaggage=Dd.getBaggage,this.setBaggage=Dd.setBaggage,this.deleteBaggage=Dd.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Md.registerGlobal(Bd,t,xS.DiagAPI.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=NS.defaultTextMapSetter),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=NS.defaultTextMapGetter),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Md.unregisterGlobal(Bd,xS.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return Md.getGlobal(Bd)||CM},e}();zo.PropagationAPI=IM});var j=d(x=>{"use strict";var wM=x&&x.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ue=x&&x.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wM(t,e,r)};Object.defineProperty(x,"__esModule",{value:!0});x.diag=x.propagation=x.trace=x.context=x.INVALID_SPAN_CONTEXT=x.INVALID_TRACEID=x.INVALID_SPANID=x.isValidSpanId=x.isValidTraceId=x.isSpanContextValid=x.createTraceState=x.baggageEntryMetadataFromString=void 0;ue(mE(),x);var NM=md();Object.defineProperty(x,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return NM.baggageEntryMetadataFromString}});ue(IE(),x);ue(NE(),x);ue(LE(),x);ue(BE(),x);ue(Ed(),x);ue(kE(),x);ue(qE(),x);ue(Cd(),x);ue(Id(),x);ue(ZE(),x);ue(JE(),x);ue(tS(),x);ue(rS(),x);ue(iS(),x);ue(oS(),x);ue(aS(),x);ue(vd(),x);ue(cS(),x);var xM=gS();Object.defineProperty(x,"createTraceState",{enumerable:!0,get:function(){return xM.createTraceState}});ue(yS(),x);ue(SS(),x);ue(bS(),x);var Fd=jo();Object.defineProperty(x,"isSpanContextValid",{enumerable:!0,get:function(){return Fd.isSpanContextValid}});Object.defineProperty(x,"isValidTraceId",{enumerable:!0,get:function(){return Fd.isValidTraceId}});Object.defineProperty(x,"isValidSpanId",{enumerable:!0,get:function(){return Fd.isValidSpanId}});var kd=ko();Object.defineProperty(x,"INVALID_SPANID",{enumerable:!0,get:function(){return kd.INVALID_SPANID}});Object.defineProperty(x,"INVALID_TRACEID",{enumerable:!0,get:function(){return kd.INVALID_TRACEID}});Object.defineProperty(x,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return kd.INVALID_SPAN_CONTEXT}});ue(Fi(),x);ue(TS(),x);var LM=bd();x.context=LM.ContextAPI.getInstance();var MM=CS();x.trace=MM.TraceAPI.getInstance();var DM=LS();x.propagation=DM.PropagationAPI.getInstance();var BM=Pn();x.diag=BM.DiagAPI.instance();x.default={trace:x.trace,context:x.context,propagation:x.propagation,diag:x.diag}});var Qo=d(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.isTracingSuppressed=ur.unsuppressTracing=ur.suppressTracing=void 0;var FM=j(),Ud=(0,FM.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function kM(e){return e.setValue(Ud,!0)}ur.suppressTracing=kM;function UM(e){return e.deleteValue(Ud)}ur.unsuppressTracing=UM;function qM(e){return e.getValue(Ud)===!0}ur.isTracingSuppressed=qM});var MS=d(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.validateValue=Ln.validateKey=void 0;var qd="[_0-9a-z-*/]",jM=`[a-z]${qd}{0,255}`,GM=`[a-z0-9]${qd}{0,240}@[a-z]${qd}{0,13}`,HM=new RegExp(`^(?:${jM}|${GM})$`),$M=/^[ -~]{0,255}[!-~]$/,VM=/,|=/;function WM(e){return HM.test(e)}Ln.validateKey=WM;function YM(e){return $M.test(e)&&!VM.test(e)}Ln.validateValue=YM});var jd=d(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.TraceState=void 0;var DS=MS(),BS=32,KM=512,FS=",",kS="=",Zo=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+kS+this.get(r)),t),[]).join(FS)}_parse(t){t.length>KM||(this._internalState=t.split(FS).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(kS);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,DS.validateKey)(o)&&(0,DS.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>BS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,BS))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new Zo;return t._internalState=new Map(this._internalState),t}};Jo.TraceState=Zo});var Gd=d(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.W3CTraceContextPropagator=Ie.parseTraceParent=Ie.TRACE_STATE_HEADER=Ie.TRACE_PARENT_HEADER=void 0;var ea=j(),XM=Qo(),zM=jd();Ie.TRACE_PARENT_HEADER="traceparent";Ie.TRACE_STATE_HEADER="tracestate";var QM="00",ZM="(?!ff)[\\da-f]{2}",JM="(?![0]{32})[\\da-f]{32}",eD="(?![0]{16})[\\da-f]{16}",tD="[\\da-f]{2}",rD=new RegExp(`^\\s?(${ZM})-(${JM})-(${eD})-(${tD})(-.*)?\\s?$`);function US(e){let t=rD.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Ie.parseTraceParent=US;var qS=class{inject(t,r,n){let i=ea.trace.getSpanContext(t);if(!i||(0,XM.isTracingSuppressed)(t)||!(0,ea.isSpanContextValid)(i))return;let s=`${QM}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||ea.TraceFlags.NONE).toString(16)}`;n.set(r,Ie.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,Ie.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Ie.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=US(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,Ie.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new zM.TraceState(typeof u=="string"?u:void 0)}return ea.trace.setSpanContext(t,o)}fields(){return[Ie.TRACE_PARENT_HEADER,Ie.TRACE_STATE_HEADER]}};Ie.W3CTraceContextPropagator=qS});var Hd=d(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.BAGGAGE_MAX_TOTAL_LENGTH=we.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=we.BAGGAGE_MAX_NAME_VALUE_PAIRS=we.BAGGAGE_HEADER=we.BAGGAGE_ITEMS_SEPARATOR=we.BAGGAGE_PROPERTIES_SEPARATOR=we.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;we.BAGGAGE_KEY_PAIR_SEPARATOR="=";we.BAGGAGE_PROPERTIES_SEPARATOR=";";we.BAGGAGE_ITEMS_SEPARATOR=",";we.BAGGAGE_HEADER="baggage";we.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;we.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;we.BAGGAGE_MAX_TOTAL_LENGTH=8192});var $d=d(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.parseKeyPairsIntoRecord=Rt.parsePairKeyValue=Rt.getKeyPairs=Rt.serializeKeyPairs=void 0;var nD=j(),Nr=Hd();function iD(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?Nr.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>Nr.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}Rt.serializeKeyPairs=iD;function sD(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=Nr.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}Rt.getKeyPairs=sD;function jS(e){let t=e.split(Nr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(Nr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return t.length>0&&(o=(0,nD.baggageEntryMetadataFromString)(t.join(Nr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Rt.parsePairKeyValue=jS;function oD(e){return typeof e!="string"||e.length===0?{}:e.split(Nr.BAGGAGE_ITEMS_SEPARATOR).map(t=>jS(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}Rt.parseKeyPairsIntoRecord=oD});var HS=d(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.W3CBaggagePropagator=void 0;var Vd=j(),aD=Qo(),xr=Hd(),Wd=$d(),GS=class{inject(t,r,n){let i=Vd.propagation.getBaggage(t);if(!i||(0,aD.isTracingSuppressed)(t))return;let s=(0,Wd.getKeyPairs)(i).filter(a=>a.length<=xr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,xr.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Wd.serializeKeyPairs)(s);o.length>0&&n.set(r,xr.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,xr.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(xr.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(xr.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let c=(0,Wd.parsePairKeyValue)(u);if(c){let l={value:c.value};c.metadata&&(l.metadata=c.metadata),o[c.key]=l}}),Object.entries(o).length===0)?t:Vd.propagation.setBaggage(t,Vd.propagation.createBaggage(o))}fields(){return[xr.BAGGAGE_HEADER]}};ta.W3CBaggagePropagator=GS});var KS=d(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.isAttributeValue=cr.isAttributeKey=cr.sanitizeAttributes=void 0;var $S=j();function uD(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!VS(r)){$S.diag.warn(`Invalid attribute key: ${r}`);continue}if(!WS(n)){$S.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}cr.sanitizeAttributes=uD;function VS(e){return typeof e=="string"&&e.length>0}cr.isAttributeKey=VS;function WS(e){return e==null?!0:Array.isArray(e)?cD(e):YS(e)}cr.isAttributeValue=WS;function cD(e){let t;for(let r of e)if(r!=null){if(!t){if(YS(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function YS(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var Yd=d(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.loggingErrorHandler=void 0;var lD=j();function dD(){return e=>{lD.diag.error(pD(e))}}ra.loggingErrorHandler=dD;function pD(e){return typeof e=="string"?e:JSON.stringify(fD(e))}function fD(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var Kd=d(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.globalErrorHandler=Mn.setGlobalErrorHandler=void 0;var hD=Yd(),XS=(0,hD.loggingErrorHandler)();function _D(e){XS=e}Mn.setGlobalErrorHandler=_D;function gD(e){try{XS(e)}catch(t){}}Mn.globalErrorHandler=gD});var Xd=d(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.TracesSamplerValues=void 0;var mD;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(mD=Hi.TracesSamplerValues||(Hi.TracesSamplerValues={}))});var zd=d(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.parseEnvironment=Be.DEFAULT_ENVIRONMENT=Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var lr=j(),yD=Xd(),ED=",",SD=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function AD(e){return SD.indexOf(e)>-1}var bD=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function vD(e){return bD.indexOf(e)>-1}Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Be.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:lr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:yD.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function TD(e,t,r,n=-Infinity,i=Infinity){if(typeof r[e]!="undefined"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function RD(e,t,r,n=ED){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var PD={ALL:lr.DiagLogLevel.ALL,VERBOSE:lr.DiagLogLevel.VERBOSE,DEBUG:lr.DiagLogLevel.DEBUG,INFO:lr.DiagLogLevel.INFO,WARN:lr.DiagLogLevel.WARN,ERROR:lr.DiagLogLevel.ERROR,NONE:lr.DiagLogLevel.NONE};function OD(e,t,r){let n=r[e];if(typeof n=="string"){let i=PD[n.toUpperCase()];i!=null&&(t[e]=i)}}function CD(e){let t={};for(let r in Be.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":OD(n,t,e);break;default:if(AD(n))TD(n,t,e);else if(vD(n))RD(n,t,e);else{let i=e[n];typeof i!="undefined"&&i!==null&&(t[n]=String(i))}}}return t}Be.parseEnvironment=CD});var QS=d(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.getEnv=void 0;var ID=P("os"),zS=zd();function wD(){let e=(0,zS.parseEnvironment)(process.env);return Object.assign({HOSTNAME:ID.hostname()},zS.DEFAULT_ENVIRONMENT,e)}na.getEnv=wD});var ZS=d(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia._globalThis=void 0;ia._globalThis=typeof globalThis=="object"?globalThis:global});var JS=d(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.hexToBase64=void 0;function ND(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),s=parseInt(i,16);r+=String.fromCharCode(s)}return Buffer.from(r,"ascii").toString("base64")}sa.hexToBase64=ND});var nA=d(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.RandomIdGenerator=void 0;var xD=8,eA=16,tA=class{constructor(){this.generateTraceId=rA(eA),this.generateSpanId=rA(xD)}};aa.RandomIdGenerator=tA;var oa=Buffer.allocUnsafe(eA);function rA(e){return function(){for(let r=0;r<e/4;r++)oa.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(oa[r]>0);r++)r===e-1&&(oa[e-1]=1);return oa.toString("hex",0,e)}}});var iA=d(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.otperformance=void 0;var LD=P("perf_hooks");ua.otperformance=LD.performance});var la=d(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.VERSION=void 0;ca.VERSION="1.3.1"});var sA=d(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.MessageTypeValues=J.RpcGrpcStatusCodeValues=J.MessagingOperationValues=J.MessagingDestinationKindValues=J.HttpFlavorValues=J.NetHostConnectionSubtypeValues=J.NetHostConnectionTypeValues=J.NetTransportValues=J.FaasInvokedProviderValues=J.FaasDocumentOperationValues=J.FaasTriggerValues=J.DbCassandraConsistencyLevelValues=J.DbSystemValues=J.SemanticAttributes=void 0;J.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};J.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};J.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};J.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};J.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};J.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};J.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};J.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};J.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};J.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};J.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};J.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};J.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};J.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var oA=d(Lr=>{"use strict";var MD=Lr&&Lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DD=Lr&&Lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&MD(t,e,r)};Object.defineProperty(Lr,"__esModule",{value:!0});DD(sA(),Lr)});var aA=d(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.TelemetrySdkLanguageValues=Ne.OsTypeValues=Ne.HostArchValues=Ne.AwsEcsLaunchtypeValues=Ne.CloudPlatformValues=Ne.CloudProviderValues=Ne.SemanticResourceAttributes=void 0;Ne.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ne.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ne.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ne.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ne.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ne.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ne.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var uA=d(Mr=>{"use strict";var BD=Mr&&Mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FD=Mr&&Mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&BD(t,e,r)};Object.defineProperty(Mr,"__esModule",{value:!0});FD(aA(),Mr)});var Pt=d(dr=>{"use strict";var kD=dr&&dr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cA=dr&&dr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kD(t,e,r)};Object.defineProperty(dr,"__esModule",{value:!0});cA(oA(),dr);cA(uA(),dr)});var lA=d(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.SDK_INFO=void 0;var UD=la(),$i=Pt();da.SDK_INFO={[$i.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[$i.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[$i.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:$i.TelemetrySdkLanguageValues.NODEJS,[$i.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:UD.VERSION}});var dA=d(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.unrefTimer=void 0;function qD(e){e.unref()}pa.unrefTimer=qD});var pA=d(ze=>{"use strict";var jD=ze&&ze.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dr=ze&&ze.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jD(t,e,r)};Object.defineProperty(ze,"__esModule",{value:!0});Dr(QS(),ze);Dr(ZS(),ze);Dr(JS(),ze);Dr(nA(),ze);Dr(iA(),ze);Dr(lA(),ze);Dr(dA(),ze)});var Qd=d(Br=>{"use strict";var GD=Br&&Br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HD=Br&&Br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&GD(t,e,r)};Object.defineProperty(Br,"__esModule",{value:!0});HD(pA(),Br)});var _A=d(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.isTimeInput=ge.isTimeInputHrTime=ge.hrTimeToMicroseconds=ge.hrTimeToMilliseconds=ge.hrTimeToNanoseconds=ge.hrTimeToTimeStamp=ge.hrTimeDuration=ge.timeInputToHrTime=ge.hrTime=void 0;var Zd=Qd(),Jd=9,Vi=Math.pow(10,Jd);function fa(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(Jd))*Vi;return[r,n]}function fA(){let e=Zd.otperformance.timeOrigin;if(typeof e!="number"){let t=Zd.otperformance;e=t.timing&&t.timing.fetchStart}return e}function hA(e){let t=fa(fA()),r=fa(typeof e=="number"?e:Zd.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>Vi&&(i-=Vi,n+=1),[n,i]}ge.hrTime=hA;function $D(e){if(ep(e))return e;if(typeof e=="number")return e<fA()?hA(e):fa(e);if(e instanceof Date)return fa(e.getTime());throw TypeError("Invalid input type")}ge.timeInputToHrTime=$D;function VD(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Vi),[r,n]}ge.hrTimeDuration=VD;function WD(e){let t=Jd,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}ge.hrTimeToTimeStamp=WD;function YD(e){return e[0]*Vi+e[1]}ge.hrTimeToNanoseconds=YD;function KD(e){return Math.round(e[0]*1e3+e[1]/1e6)}ge.hrTimeToMilliseconds=KD;function XD(e){return Math.round(e[0]*1e6+e[1]/1e3)}ge.hrTimeToMicroseconds=XD;function ep(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}ge.isTimeInputHrTime=ep;function zD(e){return ep(e)||typeof e=="number"||e instanceof Date}ge.isTimeInput=zD});var mA=d(gA=>{"use strict";Object.defineProperty(gA,"__esModule",{value:!0})});var yA=d(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.ExportResultCode=void 0;var QD;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(QD=Wi.ExportResultCode||(Wi.ExportResultCode={}))});var AA=d(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.CompositePropagator=void 0;var EA=j(),SA=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){EA.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){EA.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};ha.CompositePropagator=SA});var vA=d(bA=>{"use strict";Object.defineProperty(bA,"__esModule",{value:!0})});var TA=d(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.getRPCMetadata=ut.deleteRPCMetadata=ut.setRPCMetadata=ut.RPCType=void 0;var ZD=j(),tp=(0,ZD.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),JD;(function(e){e.HTTP="http"})(JD=ut.RPCType||(ut.RPCType={}));function eB(e,t){return e.setValue(tp,t)}ut.setRPCMetadata=eB;function tB(e){return e.deleteValue(tp)}ut.deleteRPCMetadata=tB;function rB(e){return e.getValue(tp)}ut.getRPCMetadata=rB});var rp=d(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.AlwaysOffSampler=void 0;var nB=j(),RA=class{shouldSample(){return{decision:nB.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};_a.AlwaysOffSampler=RA});var np=d(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.AlwaysOnSampler=void 0;var iB=j(),PA=class{shouldSample(){return{decision:iB.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};ga.AlwaysOnSampler=PA});var IA=d(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.ParentBasedSampler=void 0;var ma=j(),sB=Kd(),OA=rp(),ip=np(),CA=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,sB.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ip.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new ip.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new OA.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new ip.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new OA.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=ma.trace.getSpanContext(t);return!a||!(0,ma.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&ma.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&ma.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};ya.ParentBasedSampler=CA});var NA=d(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.TraceIdRatioBasedSampler=void 0;var sp=j(),wA=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,sp.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?sp.SamplingDecision.RECORD_AND_SAMPLED:sp.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};Ea.TraceIdRatioBasedSampler=wA});var BA=d(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.isPlainObject=void 0;var oB="[object Object]",aB="[object Null]",uB="[object Undefined]",cB=Function.prototype,xA=cB.toString,lB=xA.call(Object),dB=pB(Object.getPrototypeOf,Object),LA=Object.prototype,MA=LA.hasOwnProperty,Fr=Symbol?Symbol.toStringTag:void 0,DA=LA.toString;function pB(e,t){return function(r){return e(t(r))}}function fB(e){if(!hB(e)||_B(e)!==oB)return!1;let t=dB(e);if(t===null)return!0;let r=MA.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&xA.call(r)===lB}Sa.isPlainObject=fB;function hB(e){return e!=null&&typeof e=="object"}function _B(e){return e==null?e===void 0?uB:aB:Fr&&Fr in Object(e)?gB(e):mB(e)}function gB(e){let t=MA.call(e,Fr),r=e[Fr],n=!1;try{e[Fr]=void 0,n=!0}catch(s){}let i=DA.call(e);return n&&(t?e[Fr]=r:delete e[Fr]),i}function mB(e){return DA.call(e)}});var jA=d(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.merge=void 0;var FA=BA(),yB=20;function EB(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=kA(t,e.shift(),0,r);return t}va.merge=EB;function op(e){return Aa(e)?e.slice():e}function kA(e,t,r=0,n){let i;if(!(r>yB)){if(r++,ba(e)||ba(t)||qA(t))i=op(t);else if(Aa(e)){if(i=e.slice(),Aa(t))for(let s=0,o=t.length;s<o;s++)i.push(op(t[s]));else if(Yi(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=op(t[u])}}}else if(Yi(e))if(Yi(t)){if(!SB(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],c=t[u];if(ba(c))typeof c=="undefined"?delete i[u]:i[u]=c;else{let l=i[u],p=c;if(UA(e,u,n)||UA(t,u,n))delete i[u];else{if(Yi(l)&&Yi(p)){let f=n.get(l)||[],h=n.get(p)||[];f.push({obj:e,key:u}),h.push({obj:t,key:u}),n.set(l,f),n.set(p,h)}i[u]=kA(i[u],c,r,n)}}}}else i=t;return i}}function UA(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function Aa(e){return Array.isArray(e)}function qA(e){return typeof e=="function"}function Yi(e){return!ba(e)&&!Aa(e)&&!qA(e)&&typeof e=="object"}function ba(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="undefined"||e instanceof Date||e instanceof RegExp||e===null}function SB(e,t){return!(!(0,FA.isPlainObject)(e)||!(0,FA.isPlainObject)(t))}});var HA=d(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.isUrlIgnored=Dn.urlMatches=void 0;function GA(e,t){return typeof t=="string"?e===t:!!e.match(t)}Dn.urlMatches=GA;function AB(e,t){if(!t)return!1;for(let r of t)if(GA(e,r))return!0;return!1}Dn.isUrlIgnored=AB});var $A=d(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.isWrapped=void 0;function bB(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}Ta.isWrapped=bB});var WA=d(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.Deferred=void 0;var VA=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};Ra.Deferred=VA});var KA=d(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.BindOnceFuture=void 0;var vB=WA(),YA=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new vB.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Pa.BindOnceFuture=YA});var ne=d(Z=>{"use strict";var TB=Z&&Z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),re=Z&&Z.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TB(t,e,r)};Object.defineProperty(Z,"__esModule",{value:!0});Z.baggageUtils=void 0;re(HS(),Z);re(KS(),Z);re(Kd(),Z);re(Yd(),Z);re(_A(),Z);re(mA(),Z);re(yA(),Z);re(la(),Z);Z.baggageUtils=$d();re(Qd(),Z);re(AA(),Z);re(Gd(),Z);re(vA(),Z);re(TA(),Z);re(rp(),Z);re(np(),Z);re(IA(),Z);re(NA(),Z);re(Qo(),Z);re(jd(),Z);re(zd(),Z);re(jA(),Z);re(Xd(),Z);re(HA(),Z);re($A(),Z);re(KA(),Z);re(la(),Z)});var XA=d(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.ExceptionEventName=void 0;Oa.ExceptionEventName="exception"});var ap=d(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.Span=void 0;var Ot=j(),ct=ne(),kr=Pt(),RB=XA(),zA=class{constructor(t,r,n,i,s,o,a=[],u=(0,ct.hrTime)()){this.attributes={},this.links=[],this.events=[],this.status={code:Ot.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=a,this.startTime=(0,ct.timeInputToHrTime)(u),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(Ot.diag.warn(`Invalid attribute key: ${t}`),this):(0,ct.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(r),this):(Ot.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return Ot.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(Ot.diag.warn("Dropping extra events."),this.events.shift()),(0,ct.isTimeInput)(r)&&(typeof n=="undefined"&&(n=r),r=void 0),typeof n=="undefined"&&(n=(0,ct.hrTime)());let i=(0,ct.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:(0,ct.timeInputToHrTime)(n)}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t=(0,ct.hrTime)()){if(this._isSpanEnded()){Ot.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=(0,ct.timeInputToHrTime)(t),this._duration=(0,ct.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&Ot.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(t,r=(0,ct.hrTime)()){let n={};typeof t=="string"?n[kr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[kr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[kr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[kr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[kr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[kr.SemanticAttributes.EXCEPTION_TYPE]||n[kr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(RB.ExceptionEventName,n,r):Ot.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&Ot.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(Ot.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Ca.Span=zA});var up=d(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.buildSamplerFromEnv=Fn.DEFAULT_CONFIG=void 0;var Ia=j(),se=ne(),PB=(0,se.getEnv)(),OB=se.TracesSamplerValues.AlwaysOn,Bn=1;Fn.DEFAULT_CONFIG={sampler:QA(PB),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,se.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,se.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,se.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,se.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,se.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,se.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}};function QA(e=(0,se.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case se.TracesSamplerValues.AlwaysOn:return new se.AlwaysOnSampler;case se.TracesSamplerValues.AlwaysOff:return new se.AlwaysOffSampler;case se.TracesSamplerValues.ParentBasedAlwaysOn:return new se.ParentBasedSampler({root:new se.AlwaysOnSampler});case se.TracesSamplerValues.ParentBasedAlwaysOff:return new se.ParentBasedSampler({root:new se.AlwaysOffSampler});case se.TracesSamplerValues.TraceIdRatio:return new se.TraceIdRatioBasedSampler(ZA(e));case se.TracesSamplerValues.ParentBasedTraceIdRatio:return new se.ParentBasedSampler({root:new se.TraceIdRatioBasedSampler(ZA(e))});default:return Ia.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${OB}".`),new se.AlwaysOnSampler}}Fn.buildSamplerFromEnv=QA;function ZA(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return Ia.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Bn}.`),Bn;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(Ia.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Bn}.`),Bn):t<0||t>1?(Ia.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Bn}.`),Bn):t}});var cp=d(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.reconfigureLimits=kn.mergeConfig=void 0;var wa=up();function CB(e){let t={sampler:(0,wa.buildSamplerFromEnv)()},r=Object.assign({},wa.DEFAULT_CONFIG,t,e);return r.generalLimits=Object.assign({},wa.DEFAULT_CONFIG.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},wa.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}kn.mergeConfig=CB;function IB(e){var t,r;let n=Object.assign({},e.spanLimits);return n.attributeCountLimit==null&&((t=e.generalLimits)===null||t===void 0?void 0:t.attributeCountLimit)!=null&&(n.attributeCountLimit=e.generalLimits.attributeCountLimit),n.attributeValueLengthLimit==null&&((r=e.generalLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!=null&&(n.attributeValueLengthLimit=e.generalLimits.attributeValueLengthLimit),Object.assign({},e,{spanLimits:n})}kn.reconfigureLimits=IB});var eb=d(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.Tracer=void 0;var ve=j(),Ki=ne(),wB=ap(),NB=cp(),JA=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,NB.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new Ki.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=ve.context.active()){var i,s;if((0,Ki.isTracingSuppressed)(n))return ve.diag.debug("Instrumentation suppressed, returning Noop Span"),ve.trace.wrapSpanContext(ve.INVALID_SPAN_CONTEXT);r.root&&(n=ve.trace.deleteSpan(n));let o=ve.trace.getSpanContext(n),a=this._idGenerator.generateSpanId(),u,c,l;!o||!ve.trace.isSpanContextValid(o)?u=this._idGenerator.generateTraceId():(u=o.traceId,c=o.traceState,l=o.spanId);let p=(i=r.kind)!==null&&i!==void 0?i:ve.SpanKind.INTERNAL,f=((s=r.links)!==null&&s!==void 0?s:[]).map(A=>({context:A.context,attributes:(0,Ki.sanitizeAttributes)(A.attributes)})),h=(0,Ki.sanitizeAttributes)(r.attributes),_=this._sampler.shouldSample(n,u,t,p,h,f),g=_.decision===ve.SamplingDecision.RECORD_AND_SAMPLED?ve.TraceFlags.SAMPLED:ve.TraceFlags.NONE,b={traceId:u,spanId:a,traceFlags:g,traceState:c};if(_.decision===ve.SamplingDecision.NOT_RECORD)return ve.diag.debug("Recording is off, propagating context in a non-recording span"),ve.trace.wrapSpanContext(b);let v=new wB.Span(this,n,t,b,p,l,f,r.startTime),E=(0,Ki.sanitizeAttributes)(Object.assign(h,_.attributes));return v.setAttributes(E),v}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o!=null?o:ve.context.active(),c=this.startSpan(t,s,u),l=ve.trace.setSpan(u,c);return ve.context.with(l,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};Na.Tracer=JA});var tb=d(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.defaultServiceName=void 0;function xB(){return`unknown_service:${process.argv0}`}xa.defaultServiceName=xB});var nb=d(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.detectResources=void 0;var rb=Ur(),lp=j(),LB=P("util"),MB=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return lp.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return lp.diag.debug(`${n.constructor.name} failed: ${i.message}`),rb.Resource.empty()}}));return DB(r),r.reduce((n,i)=>n.merge(i),rb.Resource.empty())};La.detectResources=MB;var DB=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=LB.inspect(t.attributes,{depth:2,breakLength:Infinity,sorted:!0,compact:!1});lp.diag.verbose(r)}})}});var ab=d(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.hostDetector=void 0;var ib=Pt(),BB=Ur(),sb=P("os"),ob=class{async detect(t){let r={[ib.SemanticResourceAttributes.HOST_NAME]:(0,sb.hostname)(),[ib.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,sb.arch)())};return new BB.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};Ma.hostDetector=new ob});var db=d(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.osDetector=void 0;var ub=Pt(),FB=Ur(),cb=P("os"),lb=class{async detect(t){let r={[ub.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,cb.platform)()),[ub.SemanticResourceAttributes.OS_VERSION]:(0,cb.release)()};return new FB.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Da.osDetector=new lb});var pb=d(Ct=>{"use strict";var kB=Ct&&Ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ba=Ct&&Ct.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kB(t,e,r)};Object.defineProperty(Ct,"__esModule",{value:!0});Ba(tb(),Ct);Ba(nb(),Ct);Ba(ab(),Ct);Ba(db(),Ct)});var dp=d(qr=>{"use strict";var UB=qr&&qr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qB=qr&&qr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UB(t,e,r)};Object.defineProperty(qr,"__esModule",{value:!0});qB(pb(),qr)});var Ur=d(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.Resource=void 0;var jr=Pt(),pp=ne(),jB=dp(),pr=class{constructor(t){this.attributes=t}static empty(){return pr.EMPTY}static default(){return new pr({[jr.SemanticResourceAttributes.SERVICE_NAME]:(0,jB.defaultServiceName)(),[jr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:pp.SDK_INFO[jr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[jr.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:pp.SDK_INFO[jr.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[jr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:pp.SDK_INFO[jr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new pr(r)}};Fa.Resource=pr;pr.EMPTY=new pr({})});var hb=d(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0})});var gb=d(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0})});var yb=d(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.browserDetector=void 0;var GB=j(),ka=Pt(),fp=Xi(),mb=class{async detect(t){if(!(typeof navigator!="undefined"))return fp.Resource.empty();let n={[ka.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[ka.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[ka.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[ka.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(GB.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),fp.Resource.empty()):new fp.Resource(Object.assign({},t))}};Ua.browserDetector=new mb});var Sb=d(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.envDetector=void 0;var HB=j(),$B=ne(),VB=Pt(),WB=Ur(),Eb=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,$B.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){HB.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[VB.SemanticResourceAttributes.SERVICE_NAME]=s),new WB.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};qa.envDetector=new Eb});var bb=d(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.processDetector=void 0;var YB=j(),rt=Pt(),hp=Ur(),Ab=class{async detect(t){if(typeof process!="object")return hp.Resource.empty();let r={[rt.SemanticResourceAttributes.PROCESS_PID]:process.pid,[rt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[rt.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[rt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[rt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[rt.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[rt.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[rt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[rt.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[rt.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[rt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[rt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(YB.diag.debug("ProcessDetector failed: Unable to find required process resources. "),hp.Resource.empty()):new hp.Resource(Object.assign({},t))}};ja.processDetector=new Ab});var vb=d(Yt=>{"use strict";var KB=Yt&&Yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_p=Yt&&Yt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&KB(t,e,r)};Object.defineProperty(Yt,"__esModule",{value:!0});_p(yb(),Yt);_p(Sb(),Yt);_p(bb(),Yt)});var Xi=d(lt=>{"use strict";var XB=lt&&lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zi=lt&&lt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XB(t,e,r)};Object.defineProperty(lt,"__esModule",{value:!0});zi(Ur(),lt);zi(dp(),lt);zi(hb(),lt);zi(gb(),lt);zi(vb(),lt)});var Rb=d(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.MultiSpanProcessor=void 0;var zB=ne(),Tb=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,zB.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Ga.MultiSpanProcessor=Tb});var gp=d(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.NoopSpanProcessor=void 0;var Pb=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};Ha.NoopSpanProcessor=Pb});var Cb=d($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.BatchSpanProcessorBase=void 0;var mp=j(),Un=ne(),Ob=class{constructor(t,r){this._exporter=t,this._finishedSpans=[];let n=(0,Un.getEnv)();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Un.BindOnceFuture(this._shutdown,this)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&mp.TraceFlags.SAMPLED)!=0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);mp.context.with((0,Un.suppressTracing)(mp.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var s;clearTimeout(n),i.code===Un.ExportResultCode.SUCCESS?t():r((s=i.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,Un.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,Un.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};$a.BatchSpanProcessorBase=Ob});var wb=d(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.BatchSpanProcessor=void 0;var QB=Cb(),Ib=class extends QB.BatchSpanProcessorBase{onShutdown(){}};Va.BatchSpanProcessor=Ib});var Nb=d(Gr=>{"use strict";var ZB=Gr&&Gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JB=Gr&&Gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ZB(t,e,r)};Object.defineProperty(Gr,"__esModule",{value:!0});JB(wb(),Gr)});var yp=d(Hr=>{"use strict";var eF=Hr&&Hr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tF=Hr&&Hr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eF(t,e,r)};Object.defineProperty(Hr,"__esModule",{value:!0});tF(Nb(),Hr)});var Lb=d(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.BasicTracerProvider=Vr.ForceFlushState=void 0;var qn=j(),jn=ne(),xb=Xi(),rF=Wa(),nF=up(),iF=Rb(),sF=gp(),oF=yp(),aF=cp(),Gn;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(Gn=Vr.ForceFlushState||(Vr.ForceFlushState={}));var $r=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,jn.merge)({},nF.DEFAULT_CONFIG,(0,aF.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:xb.Resource.empty(),this.resource=xb.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new oF.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new sF.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new rF.Tracer({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>qn.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new iF.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){qn.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&qn.context.setGlobalContextManager(t.contextManager),t.propagator&&qn.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=Gn.timeout},t);n.forceFlush().then(()=>{clearTimeout(o),s!==Gn.timeout&&(s=Gn.resolved,i(s))}).catch(a=>{clearTimeout(o),s=Gn.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(s=>{let o=s.filter(a=>a!==Gn.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=$r._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=$r._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,jn.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let s=this._getPropagator(i);return s||qn.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return t.length===1?n[0]:new jn.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,jn.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none")return;let r=this._getSpanExporter(t);return r||qn.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};Vr.BasicTracerProvider=$r;$r._registeredPropagators=new Map([["tracecontext",()=>new jn.W3CTraceContextPropagator],["baggage",()=>new jn.W3CBaggagePropagator]]);$r._registeredExporters=new Map});var Db=d(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.ConsoleSpanExporter=void 0;var Ep=ne(),Mb=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,Ep.hrTimeToMicroseconds)(t.startTime),duration:(0,Ep.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:Ep.ExportResultCode.SUCCESS})}};Ya.ConsoleSpanExporter=Mb});var kb=d(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.InMemorySpanExporter=void 0;var Bb=ne(),Fb=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:Bb.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:Bb.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};Ka.InMemorySpanExporter=Fb});var qb=d(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0})});var Gb=d(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.SimpleSpanProcessor=void 0;var Sp=j(),Xa=ne(),jb=class{constructor(t){this._exporter=t,this._shutdownOnce=new Xa.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Sp.TraceFlags.SAMPLED)!=0&&Sp.context.with((0,Xa.suppressTracing)(Sp.context.active()),()=>{this._exporter.export([t],r=>{var n;r.code!==Xa.ExportResultCode.SUCCESS&&(0,Xa.globalErrorHandler)((n=r.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${r})`))})})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};za.SimpleSpanProcessor=jb});var $b=d(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0})});var Wb=d(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0})});var Kb=d(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0})});var zb=d(Xb=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0})});var Wa=d(Ae=>{"use strict";var uF=Ae&&Ae.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qe=Ae&&Ae.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&uF(t,e,r)};Object.defineProperty(Ae,"__esModule",{value:!0});Qe(eb(),Ae);Qe(Lb(),Ae);Qe(yp(),Ae);Qe(Db(),Ae);Qe(kb(),Ae);Qe(qb(),Ae);Qe(Gb(),Ae);Qe($b(),Ae);Qe(gp(),Ae);Qe(ap(),Ae);Qe(Wb(),Ae);Qe(Kb(),Ae);Qe(zb(),Ae)});var Qi=d(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.invalidTimeout=nt.configureExporterTimeout=nt.appendRootPathToUrlIfNeeded=nt.appendResourcePathToUrl=nt.parseHeaders=void 0;var Qb=j(),Zb=ne(),Jb=1e4;function cF(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n!="undefined"?t[r]=String(n):Qb.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}nt.parseHeaders=cF;function lF(e,t){return e.endsWith("/")||(e=e+"/"),e+t}nt.appendResourcePathToUrl=lF;function dF(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}nt.appendRootPathToUrlIfNeeded=dF;function pF(e){return typeof e=="number"?e<=0?Ap(e,Jb):e:fF()}nt.configureExporterTimeout=pF;function fF(){var e;let t=Number((e=(0,Zb.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,Zb.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?Ap(t,Jb):t}function Ap(e,t){return Qb.diag.warn("Timeout must be greater than 0",e),t}nt.invalidTimeout=Ap});var Za=d(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.OTLPExporterBase=void 0;var ev=j(),Zi=ne(),hF=Qi(),tv=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Zi.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:Infinity,this.timeoutMillis=(0,hF.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:Zi.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Zi.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:Zi.ExportResultCode.SUCCESS})}).catch(n=>{r({code:Zi.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{ev.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return ev.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};Qa.OTLPExporterBase=tv});var bp=d(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.CompressionAlgorithm=void 0;var _F;(function(e){e.NONE="none",e.GZIP="gzip"})(_F=Ji.CompressionAlgorithm||(Ji.CompressionAlgorithm={}))});var eu=d(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.OTLPExporterError=void 0;var rv=class extends Error{constructor(t,r,n){super(t);this.name="OTLPExporterError",this.data=n,this.code=r}};Ja.OTLPExporterError=rv});var Pp=d(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.configureCompression=fr.createHttpAgent=fr.sendWithHttp=void 0;var nv=P("url"),iv=P("http"),sv=P("https"),gF=P("zlib"),mF=P("stream"),vp=j(),tu=bp(),ov=ne(),Tp=eu(),Rp;function yF(e,t,r,n,i){let s=e.timeoutMillis,o=new nv.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),c=setTimeout(()=>{a=!0,u>=14?f.destroy():f.abort()},s),l={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},f=(o.protocol==="http:"?iv.request:sv.request)(l,h=>{let _="";h.on("data",g=>_+=g),h.on("aborted",()=>{if(a){let g=new Tp.OTLPExporterError("Request Timeout");i(g)}}),h.on("end",()=>{if(!a){if(h.statusCode&&h.statusCode<299)vp.diag.debug(`statusCode: ${h.statusCode}`,_),n();else{let g=new Tp.OTLPExporterError(h.statusMessage,h.statusCode,_);i(g)}clearTimeout(c)}})});switch(f.on("error",h=>{if(a){let _=new Tp.OTLPExporterError("Request Timeout",h.code);i(_)}else clearTimeout(c),i(h)}),e.compression){case tu.CompressionAlgorithm.GZIP:{Rp||(Rp=gF.createGzip()),f.setHeader("Content-Encoding","gzip"),EF(t).on("error",i).pipe(Rp).on("error",i).pipe(f);break}default:f.end(t);break}}fr.sendWithHttp=yF;function EF(e){let t=new mF.Readable;return t.push(e),t.push(null),t}function SF(e){if(e.httpAgentOptions&&e.keepAlive===!1){vp.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new nv.URL(e.url).protocol==="http:"?iv.Agent:sv.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){vp.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}fr.createHttpAgent=SF;function AF(e){return e||(((0,ov.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,ov.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===tu.CompressionAlgorithm.GZIP?tu.CompressionAlgorithm.GZIP:tu.CompressionAlgorithm.NONE)}fr.configureCompression=AF});var lv=d(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.OTLPExporterNodeBase=void 0;var bF=Za(),vF=Qi(),Op=Pp(),av=j(),uv=ne(),cv=class extends bF.OTLPExporterBase{constructor(t={}){super(t);this.DEFAULT_HEADERS={},t.metadata&&av.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,vF.parseHeaders)(t.headers),uv.baggageUtils.parseKeyPairsIntoRecord((0,uv.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,Op.createHttpAgent)(t),this.compression=(0,Op.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){av.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=new Promise((a,u)=>{(0,Op.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(s);let o=()=>{let a=this._sendingPromises.indexOf(s);this._sendingPromises.splice(a,1)};s.then(o,o)}onShutdown(){}};ru.OTLPExporterNodeBase=cv});var dv=d(Kt=>{"use strict";var TF=Kt&&Kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Cp=Kt&&Kt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TF(t,e,r)};Object.defineProperty(Kt,"__esModule",{value:!0});Cp(lv(),Kt);Cp(Pp(),Kt);Cp(bp(),Kt)});var fv=d(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.sendWithXhr=Hn.sendWithBeacon=void 0;var pv=j(),Ip=eu();function RF(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))pv.diag.debug("sendBeacon - can send",e),n();else{let s=new Ip.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(s)}}Hn.sendWithBeacon=RF;function PF(e,t,r,n,i,s){let o,a=setTimeout(()=>{o=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([l,p])=>{u.setRequestHeader(l,p)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),pv.diag.debug("xhr success",e),i();else if(o){let l=new Ip.OTLPExporterError("Request Timeout",u.status);s(l)}else{let l=new Ip.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),s(l)}}}Hn.sendWithXhr=PF});var mv=d(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.OTLPExporterBrowserBase=void 0;var OF=Za(),CF=Qi(),hv=fv(),IF=j(),_v=ne(),gv=class extends OF.OTLPExporterBase{constructor(t={}){super(t);this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,CF.parseHeaders)(t.headers),_v.baggageUtils.parseKeyPairsIntoRecord((0,_v.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){IF.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=JSON.stringify(i),o=new Promise((u,c)=>{this._useXHR?(0,hv.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,u,c):(0,hv.sendWithBeacon)(s,this.url,{type:"application/json"},u,c)}).then(r,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};nu.OTLPExporterBrowserBase=gv});var yv=d(Wr=>{"use strict";var wF=Wr&&Wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NF=Wr&&Wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wF(t,e,r)};Object.defineProperty(Wr,"__esModule",{value:!0});NF(mv(),Wr)});var Ev=d(Xt=>{"use strict";var xF=Xt&&Xt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LF=Xt&&Xt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xF(t,e,r)};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.OTLPExporterBrowserBase=void 0;LF(dv(),Xt);var MF=yv();Object.defineProperty(Xt,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return MF.OTLPExporterBrowserBase}})});var wp=d(It=>{"use strict";var DF=It&&It.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iu=It&&It.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DF(t,e,r)};Object.defineProperty(It,"__esModule",{value:!0});iu(Za(),It);iu(Ev(),It);iu(eu(),It);iu(Qi(),It)});var Av=d(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0})});var vv=d(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0})});var Rv=d(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0})});var Pv=d(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.ESpanKind=void 0;var BF;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(BF=es.ESpanKind||(es.ESpanKind={}))});var su=d(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.bufToHex=it.hexToBuf=it.toAnyValue=it.toKeyValue=it.toAttributes=void 0;function FF(e){return Object.keys(e).map(t=>Np(t,e[t]))}it.toAttributes=FF;function Np(e,t){return{key:e,value:xp(t)}}it.toKeyValue=Np;function xp(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(xp)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>Np(r,n))}}:{}}it.toAnyValue=xp;function kF(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}it.hexToBuf=kF;function UF(e){return("0"+e.toString(16)).slice(-2)}function qF(e){if(!(e==null||e.length===0))return Array.from(e).map(UF).join("")}it.bufToHex=qF});var Iv=d(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.toOtlpSpanEvent=hr.toOtlpLink=hr.sdkSpanToOtlpSpan=void 0;var Lp=ne(),Mp=su(),ts=ne();function jF(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?ts.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:ts.hexToBase64(r.traceId),spanId:t?r.spanId:ts.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,Lp.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,Lp.hrTimeToNanoseconds)(e.endTime),attributes:(0,Mp.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(Cv),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(s=>Ov(s,t)),droppedLinksCount:0}}hr.sdkSpanToOtlpSpan=jF;function Ov(e,t){return{attributes:e.attributes?(0,Mp.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:ts.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:ts.hexToBase64(e.context.traceId),droppedAttributesCount:0}}hr.toOtlpLink=Ov;function Cv(e){return{attributes:e.attributes?(0,Mp.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,Lp.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}hr.toOtlpSpanEvent=Cv});var wv=d(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.createExportTraceServiceRequest=void 0;var GF=su(),HF=Iv();function $F(e,t){return{resourceSpans:WF(e,t)}}ou.createExportTraceServiceRequest=$F;function VF(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(r)}return t}function WF(e,t){let r=VF(e),n=[],i=r.entries(),s=i.next();for(;!s.done;){let[o,a]=s.value,u=[],c=a.values(),l=c.next();for(;!l.done;){let f=l.value;if(f.length>0){let{name:h,version:_,schemaUrl:g}=f[0].instrumentationLibrary,b=f.map(v=>(0,HF.sdkSpanToOtlpSpan)(v,t));u.push({scope:{name:h,version:_},spans:b,schemaUrl:g})}l=c.next()}let p={resource:{attributes:(0,GF.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(p),s=i.next()}return n}});var Gp=d(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=W.NOOP_OBSERVABLE_GAUGE_METRIC=W.NOOP_OBSERVABLE_COUNTER_METRIC=W.NOOP_UP_DOWN_COUNTER_METRIC=W.NOOP_HISTOGRAM_METRIC=W.NOOP_COUNTER_METRIC=W.NOOP_METER=W.NoopObservableUpDownCounterMetric=W.NoopObservableGaugeMetric=W.NoopObservableCounterMetric=W.NoopObservableMetric=W.NoopHistogramMetric=W.NoopUpDownCounterMetric=W.NoopCounterMetric=W.NoopMetric=W.NoopMeter=void 0;var Dp=class{constructor(){}createHistogram(t,r){return W.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return W.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return W.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return W.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return W.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return W.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};W.NoopMeter=Dp;var rs=class{};W.NoopMetric=rs;var Bp=class extends rs{add(t,r){}};W.NoopCounterMetric=Bp;var Fp=class extends rs{add(t,r){}};W.NoopUpDownCounterMetric=Fp;var kp=class extends rs{record(t,r){}};W.NoopHistogramMetric=kp;var ns=class{addCallback(t){}removeCallback(t){}};W.NoopObservableMetric=ns;var Up=class extends ns{};W.NoopObservableCounterMetric=Up;var qp=class extends ns{};W.NoopObservableGaugeMetric=qp;var jp=class extends ns{};W.NoopObservableUpDownCounterMetric=jp;W.NOOP_METER=new Dp;W.NOOP_COUNTER_METRIC=new Bp;W.NOOP_HISTOGRAM_METRIC=new kp;W.NOOP_UP_DOWN_COUNTER_METRIC=new Fp;W.NOOP_OBSERVABLE_COUNTER_METRIC=new Up;W.NOOP_OBSERVABLE_GAUGE_METRIC=new qp;W.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new jp});var $p=d($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.NOOP_METER_PROVIDER=$n.NoopMeterProvider=void 0;var YF=Gp(),Hp=class{getMeter(t,r,n){return YF.NOOP_METER}};$n.NoopMeterProvider=Hp;$n.NOOP_METER_PROVIDER=new Hp});var xv=d(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0})});var Mv=d(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0})});var Dv=d(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.ValueType=void 0;var KF;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(KF=is.ValueType||(is.ValueType={}))});var Fv=d(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0})});var kv=d(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au._globalThis=void 0;au._globalThis=typeof globalThis=="object"?globalThis:global});var Uv=d(Yr=>{"use strict";var XF=Yr&&Yr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zF=Yr&&Yr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XF(t,e,r)};Object.defineProperty(Yr,"__esModule",{value:!0});zF(kv(),Yr)});var qv=d(Kr=>{"use strict";var QF=Kr&&Kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZF=Kr&&Kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&QF(t,e,r)};Object.defineProperty(Kr,"__esModule",{value:!0});ZF(Uv(),Kr)});var jv=d(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.API_BACKWARDS_COMPATIBILITY_VERSION=wt.makeGetter=wt._global=wt.GLOBAL_METRICS_API_KEY=void 0;var JF=qv();wt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");wt._global=JF._globalThis;function ek(e,t,r){return n=>n===e?t:r}wt.makeGetter=ek;wt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var Hv=d(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.MetricsAPI=void 0;var Gv=$p(),st=jv(),uu=class{constructor(){}static getInstance(){return this._instance||(this._instance=new uu),this._instance}setGlobalMeterProvider(t){return st._global[st.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(st._global[st.GLOBAL_METRICS_API_KEY]=(0,st.makeGetter)(st.API_BACKWARDS_COMPATIBILITY_VERSION,t,Gv.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=st._global[st.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(st._global,st.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:Gv.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete st._global[st.GLOBAL_METRICS_API_KEY]}};cu.MetricsAPI=uu});var Wn=d(He=>{"use strict";var tk=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vn=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tk(t,e,r)};Object.defineProperty(He,"__esModule",{value:!0});He.metrics=void 0;Vn(Gp(),He);Vn($p(),He);Vn(xv(),He);Vn(Mv(),He);Vn(Dv(),He);Vn(Fv(),He);var rk=Hv();He.metrics=rk.MetricsAPI.getInstance()});var lu=d(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.AggregationTemporality=void 0;var nk;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(nk=ss.AggregationTemporality||(ss.AggregationTemporality={}))});var as=d(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.DataPointType=void 0;var ik;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(ik=os.DataPointType||(os.DataPointType={}))});var Vv=d(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.ConsoleMetricExporter=void 0;var sk=lu(),ok=ne(),$v=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t!=null?t:sk.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:ok.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};du.ConsoleMetricExporter=$v});var Yv=d(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0})});var zt=d(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.setEquals=me.FlatMap=me.isPromiseAllSettledRejectionResult=me.PromiseAllSettled=me.callWithTimeout=me.TimeoutError=me.instrumentationScopeId=me.hashAttributes=me.isNotNullish=void 0;function ak(e){return e!=null}me.isNotNullish=ak;function uk(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}me.hashAttributes=uk;function ck(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}me.instrumentationScopeId=ck;var us=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,us.prototype)}};me.TimeoutError=us;function lk(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new us("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}me.callWithTimeout=lk;async function dk(e){return Promise.all(e.map(async t=>{try{let r=await t;return{status:"fulfilled",value:r}}catch(r){return{status:"rejected",reason:r}}}))}me.PromiseAllSettled=dk;function pk(e){return e.status==="rejected"}me.isPromiseAllSettledRejectionResult=pk;function fk(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}me.FlatMap=fk;function hk(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}me.setEquals=hk});var Vp=d(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.MetricReader=void 0;var Kv=j(),Xv=zt(),zv=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t==null?void 0:t.timeoutMillis})}async shutdown(t){if(this._shutdown){Kv.diag.error("Cannot call shutdown twice.");return}(t==null?void 0:t.timeoutMillis)==null?await this.onShutdown():await(0,Xv.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){Kv.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((t==null?void 0:t.timeoutMillis)==null){await this.onForceFlush();return}await(0,Xv.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};pu.MetricReader=zv});var t0=d(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.PeriodicExportingMetricReader=void 0;var Qv=j(),Zv=ne(),_k=Vp(),Jv=zt(),e0=class extends _k.MetricReader{constructor(t){var r,n;super();if(t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&Qv.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,s=>{var o;s.code!==Zv.ExportResultCode.SUCCESS?i((o=s.error)!==null&&o!==void 0?o:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${s.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,Jv.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof Jv.TimeoutError){Qv.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,Zv.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};fu.PeriodicExportingMetricReader=e0});var Xr=d(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.isDescriptorCompatibleWith=dt.createInstrumentDescriptorWithView=dt.createInstrumentDescriptor=dt.InstrumentType=void 0;var gk=Wn(),mk;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(mk=dt.InstrumentType||(dt.InstrumentType={}));function yk(e,t,r){var n,i,s;return{name:e,type:t,description:(n=r==null?void 0:r.description)!==null&&n!==void 0?n:"",unit:(i=r==null?void 0:r.unit)!==null&&i!==void 0?i:"",valueType:(s=r==null?void 0:r.valueType)!==null&&s!==void 0?s:gk.ValueType.DOUBLE}}dt.createInstrumentDescriptor=yk;function Ek(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}dt.createInstrumentDescriptorWithView=Ek;function Sk(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}dt.isDescriptorCompatibleWith=Sk});var _u=d(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.isObservableInstrument=ye.ObservableUpDownCounterInstrument=ye.ObservableGaugeInstrument=ye.ObservableCounterInstrument=ye.ObservableInstrument=ye.HistogramInstrument=ye.CounterInstrument=ye.UpDownCounterInstrument=ye.SyncInstrument=void 0;var hu=j(),Ak=Wn(),cs=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=hu.context.active()){this._descriptor.valueType===Ak.ValueType.INT&&!Number.isInteger(t)&&(hu.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};ye.SyncInstrument=cs;var r0=class extends cs{add(t,r,n){this._record(t,r,n)}};ye.UpDownCounterInstrument=r0;var n0=class extends cs{add(t,r,n){if(t<0){hu.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};ye.CounterInstrument=n0;var i0=class extends cs{record(t,r,n){if(t<0){hu.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};ye.HistogramInstrument=i0;var Yn=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};ye.ObservableInstrument=Yn;var s0=class extends Yn{};ye.ObservableCounterInstrument=s0;var o0=class extends Yn{};ye.ObservableGaugeInstrument=o0;var a0=class extends Yn{};ye.ObservableUpDownCounterInstrument=a0;function bk(e){return e instanceof Yn}ye.isObservableInstrument=bk});var Wp=d(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.Meter=void 0;var ot=Xr(),Kn=_u(),u0=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,ot.createInstrumentDescriptor)(t,ot.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new Kn.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,ot.createInstrumentDescriptor)(t,ot.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Kn.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,ot.createInstrumentDescriptor)(t,ot.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Kn.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,ot.createInstrumentDescriptor)(t,ot.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Kn.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,ot.createInstrumentDescriptor)(t,ot.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Kn.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,ot.createInstrumentDescriptor)(t,ot.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Kn.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};gu.Meter=u0});var yu=d(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.ExactPredicate=Xn.PatternPredicate=void 0;var vk=/[\^$\\.+?()[\]{}|]/g,mu=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(mu.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(vk,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};Xn.PatternPredicate=mu;var c0=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};Xn.ExactPredicate=c0});var Yp=d(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.InstrumentSelector=void 0;var Tk=yu(),l0=class{constructor(t){var r;this._nameFilter=new Tk.PatternPredicate((r=t==null?void 0:t.name)!==null&&r!==void 0?r:"*"),this._type=t==null?void 0:t.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Eu.InstrumentSelector=l0});var Xp=d(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.MeterSelector=void 0;var Kp=yu(),d0=class{constructor(t){this._nameFilter=new Kp.ExactPredicate(t==null?void 0:t.name),this._versionFilter=new Kp.ExactPredicate(t==null?void 0:t.version),this._schemaUrlFilter=new Kp.ExactPredicate(t==null?void 0:t.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Su.MeterSelector=d0});var ds=d(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.AggregatorKind=void 0;var Rk;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(Rk=ls.AggregatorKind||(ls.AggregatorKind={}))});var f0=d(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.DropAggregator=void 0;var Pk=ds(),p0=class{constructor(){this.kind=Pk.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,s){}};Au.DropAggregator=p0});var _0=d(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.HistogramAggregator=zn.HistogramAccumulation=void 0;var Ok=ds(),Ck=as();function Ik(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var ps=class{constructor(t,r=Ik(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};zn.HistogramAccumulation=ps;var h0=class{constructor(t){this._boundaries=t,this.kind=Ok.AggregatorKind.HISTOGRAM}createAccumulation(){return new ps(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[u]+o[u];return new ps(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=o[u]-s[u];return new ps(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:Ck.DataPointType.HISTOGRAM,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};zn.HistogramAggregator=h0});var m0=d(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.LastValueAggregator=Qn.LastValueAccumulation=void 0;var wk=ds(),fs=ne(),Nk=as(),hs=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,fs.hrTime)()}toPointValue(){return this._current}};Qn.LastValueAccumulation=hs;var g0=class{constructor(){this.kind=wk.AggregatorKind.LAST_VALUE}createAccumulation(){return new hs}merge(t,r){let n=(0,fs.hrTimeToMicroseconds)(r.sampleTime)>=(0,fs.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new hs(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,fs.hrTimeToMicroseconds)(r.sampleTime)>=(0,fs.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new hs(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:Nk.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Qn.LastValueAggregator=g0});var E0=d(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.SumAggregator=Zn.SumAccumulation=void 0;var xk=ds(),Lk=as(),_s=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};Zn.SumAccumulation=_s;var y0=class{constructor(){this.kind=xk.AggregatorKind.SUM}createAccumulation(){return new _s}merge(t,r){return new _s(t.toPointValue()+r.toPointValue())}diff(t,r){return new _s(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:Lk.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Zn.SumAggregator=y0});var S0=d(Nt=>{"use strict";var Mk=Nt&&Nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bu=Nt&&Nt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mk(t,e,r)};Object.defineProperty(Nt,"__esModule",{value:!0});bu(f0(),Nt);bu(_0(),Nt);bu(m0(),Nt);bu(E0(),Nt)});var Qp=d(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.DefaultAggregation=xe.ExplicitBucketHistogramAggregation=xe.HistogramAggregation=xe.LastValueAggregation=xe.SumAggregation=xe.DropAggregation=xe.Aggregation=void 0;var Dk=j(),gs=S0(),Jn=Xr(),_r=class{static Drop(){return b0}static Sum(){return v0}static LastValue(){return T0}static Histogram(){return R0}static Default(){return Bk}};xe.Aggregation=_r;var ei=class extends _r{createAggregator(t){return ei.DEFAULT_INSTANCE}};xe.DropAggregation=ei;ei.DEFAULT_INSTANCE=new gs.DropAggregator;var ti=class extends _r{createAggregator(t){return ti.DEFAULT_INSTANCE}};xe.SumAggregation=ti;ti.DEFAULT_INSTANCE=new gs.SumAggregator;var ri=class extends _r{createAggregator(t){return ri.DEFAULT_INSTANCE}};xe.LastValueAggregation=ri;ri.DEFAULT_INSTANCE=new gs.LastValueAggregator;var ni=class extends _r{createAggregator(t){return ni.DEFAULT_INSTANCE}};xe.HistogramAggregation=ni;ni.DEFAULT_INSTANCE=new gs.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var A0=class extends _r{constructor(t){super();if(t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,s)=>i-s);let r=t.lastIndexOf(-Infinity),n=t.indexOf(Infinity);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new gs.HistogramAggregator(this._boundaries)}};xe.ExplicitBucketHistogramAggregation=A0;var zp=class extends _r{_resolve(t){switch(t.type){case Jn.InstrumentType.COUNTER:case Jn.InstrumentType.UP_DOWN_COUNTER:case Jn.InstrumentType.OBSERVABLE_COUNTER:case Jn.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return v0;case Jn.InstrumentType.OBSERVABLE_GAUGE:return T0;case Jn.InstrumentType.HISTOGRAM:return R0}return Dk.diag.warn(`Unable to recognize instrument type: ${t.type}`),b0}createAggregator(t){return this._resolve(t).createAggregator(t)}};xe.DefaultAggregation=zp;var b0=new ei,v0=new ti,T0=new ri,R0=new ni,Bk=new zp});var Jp=d(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.FilteringAttributesProcessor=gr.NoopAttributesProcessor=gr.AttributesProcessor=void 0;var vu=class{static Noop(){return Fk}};gr.AttributesProcessor=vu;var Zp=class extends vu{process(t,r){return t}};gr.NoopAttributesProcessor=Zp;var P0=class extends vu{constructor(t){super();this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};gr.FilteringAttributesProcessor=P0;var Fk=new Zp});var ef=d(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.View=void 0;var kk=Qp(),Uk=Jp(),O0=class{constructor(t){var r,n;this.name=t==null?void 0:t.name,this.description=t==null?void 0:t.description,this.aggregation=(r=t==null?void 0:t.aggregation)!==null&&r!==void 0?r:kk.Aggregation.Default(),this.attributesProcessor=(n=t==null?void 0:t.attributesProcessor)!==null&&n!==void 0?n:Uk.AttributesProcessor.Noop()}};Tu.View=O0});var C0=d(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.ViewRegistry=void 0;var qk=Yp(),jk=Xp(),Gk=ef(),ms=class{constructor(){this._registeredViews=[]}addView(t,r=new qk.InstrumentSelector,n=new jk.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[ms.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};Ru.ViewRegistry=ms;ms.DEFAULT_VIEW=new Gk.View});var tf=d(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.MetricStorage=void 0;var Hk=Xr(),I0=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,Hk.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};Pu.MetricStorage=I0});var ys=d(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.AttributeHashMap=ii.HashMap=void 0;var $k=zt(),rf=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r!=null||(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n!=null||(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r!=null||(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};ii.HashMap=rf;var w0=class extends rf{constructor(){super($k.hashAttributes)}};ii.AttributeHashMap=w0});var sf=d(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.DeltaMetricProcessor=void 0;var nf=ys(),N0=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new nf.AttributeHashMap,this._cumulativeMemoStorage=new nf.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i==null||i.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let s=this._aggregator.createAccumulation();if(s==null||s.record(n),this._cumulativeMemoStorage.has(r,i)){let o=this._cumulativeMemoStorage.get(r,i);s=this._aggregator.diff(o,s)}this._cumulativeMemoStorage.set(r,s,i),this._activeCollectionStorage.set(r,s,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new nf.AttributeHashMap,t}};Ou.DeltaMetricProcessor=N0});var of=d(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.TemporalMetricProcessor=void 0;var x0=lu(),Vk=ys(),Es=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,s,o){let a=s;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),c=u,l;if(this._reportHistory.has(t)){let p=this._reportHistory.get(t);a=p.collectionTime,l=p.aggregationTemporality,l===x0.AggregationTemporality.CUMULATIVE&&(c=Es.merge(p.accumulations,u,this._aggregator))}else l=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:c,collectionTime:o,aggregationTemporality:l}),this._aggregator.toMetricData(n,l,Wk(c),l===x0.AggregationTemporality.CUMULATIVE?s:a,o)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new Vk.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=Es.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let s=t,o=r.entries(),a=o.next();for(;a.done!==!0;){let[u,c,l]=a.value,p=(i=t.get(u,l))!==null&&i!==void 0?i:n.createAccumulation();s.set(u,n.merge(p,c),l),a=o.next()}return s}};Cu.TemporalMetricProcessor=Es;function Wk(e){return Array.from(e.entries())}});var M0=d(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.AsyncMetricStorage=void 0;var Yk=tf(),Kk=sf(),Xk=of(),zk=ys(),L0=class extends Yk.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Kk.DeltaMetricProcessor(r),this._temporalMetricStorage=new Xk.TemporalMetricProcessor(r)}record(t){let r=new zk.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};Iu.AsyncMetricStorage=L0});var U0=d($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.getConflictResolutionRecipe=$e.getDescriptionResolutionRecipe=$e.getTypeConflictResolutionRecipe=$e.getUnitConflictResolutionRecipe=$e.getValueTypeConflictResolutionRecipe=$e.getIncompatibilityDetails=void 0;function Qk(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}$e.getIncompatibilityDetails=Qk;function D0(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}$e.getValueTypeConflictResolutionRecipe=D0;function B0(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}$e.getUnitConflictResolutionRecipe=B0;function F0(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}$e.getTypeConflictResolutionRecipe=F0;function k0(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}$e.getDescriptionResolutionRecipe=k0;function Zk(e,t){return e.valueType!==t.valueType?D0(e,t):e.unit!==t.unit?B0(e,t):e.type!==t.type?F0(e,t):e.description!==t.description?k0(e,t):""}$e.getConflictResolutionRecipe=Zk});var j0=d(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.MetricStorageRegistry=void 0;var Jk=Xr(),q0=j(),wu=U0(),Nu=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new Nu}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let s of n){let o=s.getInstrumentDescriptor();(0,Jk.isDescriptorCompatibleWith)(o,r)?(o.description!==r.description&&(r.description.length>o.description.length&&s.updateDescription(r.description),q0.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,wu.getIncompatibilityDetails)(o,r),`The longer description will be used.
To resolve the conflict:`,(0,wu.getConflictResolutionRecipe)(o,r))),i=s):q0.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,wu.getIncompatibilityDetails)(o,r),`To resolve the conflict:
`,(0,wu.getConflictResolutionRecipe)(o,r))}return i!=null?i:(n.push(t),t)}};xu.MetricStorageRegistry=Nu});var H0=d(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.MultiMetricStorage=void 0;var G0=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};Lu.MultiMetricStorage=G0});var af=d(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.BatchObservableResultImpl=si.ObservableResultImpl=void 0;var $0=j(),V0=Wn(),W0=ys(),eU=_u(),Y0=class{constructor(t){this._descriptor=t,this._buffer=new W0.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===V0.ValueType.INT&&!Number.isInteger(t)&&($0.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};si.ObservableResultImpl=Y0;var K0=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,eU.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new W0.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===V0.ValueType.INT&&!Number.isInteger(r)&&($0.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};si.BatchObservableResultImpl=K0});var Z0=d(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.ObservableRegistry=void 0;var tU=j(),X0=_u(),z0=af(),Ss=zt(),Q0=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(X0.isObservableInstrument));if(n.size===0){tU.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(X0.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,Ss.PromiseAllSettled)([...r,...n])).filter(Ss.isPromiseAllSettledRejectionResult).map(o=>o.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new z0.ObservableResultImpl(n._descriptor),s=Promise.resolve(r(i));t!=null&&(s=(0,Ss.callWithTimeout)(s,t)),await s,n._metricStorages.forEach(o=>{o.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new z0.BatchObservableResultImpl,s=Promise.resolve(r(i));t!=null&&(s=(0,Ss.callWithTimeout)(s,t)),await s,n.forEach(o=>{let a=i._buffer.get(o);a!=null&&o._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,Ss.setEquals)(n.instruments,r))}};Mu.ObservableRegistry=Q0});var eT=d(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.SyncMetricStorage=void 0;var rU=tf(),nU=sf(),iU=of(),J0=class extends rU.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new nU.DeltaMetricProcessor(r),this._temporalMetricStorage=new iU.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};Du.SyncMetricStorage=J0});var nT=d(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.MeterSharedState=void 0;var tT=Xr(),sU=Wp(),Bu=zt(),oU=M0(),aU=j0(),uU=H0(),cU=Z0(),lU=eT(),rT=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new aU.MetricStorageRegistry,this.observableRegistry=new cU.ObservableRegistry,this.meter=new sU.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,tT.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new lU.SyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Bu.isNotNullish);return n.length===1?n[0]:new uU.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,tT.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new oU.AsyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Bu.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n==null?void 0:n.timeoutMillis),s=Array.from(this._metricStorageRegistry.getStorages()).map(o=>o.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(Bu.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(Bu.isNotNullish)},errors:i}}};Fu.MeterSharedState=rT});var sT=d(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.MeterProviderSharedState=void 0;var dU=ne(),pU=zt(),fU=C0(),hU=nT(),iT=class{constructor(t){this.resource=t,this.viewRegistry=new fU.ViewRegistry,this.sdkStartTime=(0,dU.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,pU.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new hU.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};ku.MeterProviderSharedState=iT});var aT=d(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.MetricCollector=void 0;var _U=ne(),gU=zt(),oT=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,_U.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,gU.FlatMap)(i,s=>s.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};Uu.MetricCollector=oT});var cT=d(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.MeterProvider=void 0;var uf=j(),mU=Wn(),yU=Xi(),EU=sT(),SU=Yp(),AU=Xp(),bU=ef(),vU=aT(),TU=Jp(),RU=yu();function PU(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var uT=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new EU.MeterProviderSharedState((r=t==null?void 0:t.resource)!==null&&r!==void 0?r:yU.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(uf.diag.warn("A shutdown MeterProvider cannot provide a Meter"),mU.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new vU.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(PU(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r==null?void 0:r.instrument)===null||n===void 0?void 0:n.name)==null||RU.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new TU.FilteringAttributesProcessor(t.attributeKeys));let s=new bU.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),o=new SU.InstrumentSelector(r==null?void 0:r.instrument),a=new AU.MeterSelector(r==null?void 0:r.meter);this._sharedState.viewRegistry.addView(s,o,a)}async shutdown(t){if(this._shutdown){uf.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){uf.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};qu.MeterProvider=uT});var lT=d(Ee=>{"use strict";var OU=Ee&&Ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xt=Ee&&Ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&OU(t,e,r)};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.TimeoutError=Ee.InstrumentType=void 0;xt(lu(),Ee);xt(as(),Ee);xt(Vv(),Ee);xt(Yv(),Ee);xt(Vp(),Ee);xt(t0(),Ee);var CU=Xr();Object.defineProperty(Ee,"InstrumentType",{enumerable:!0,get:function(){return CU.InstrumentType}});xt(Wp(),Ee);xt(cT(),Ee);xt(af(),Ee);var IU=zt();Object.defineProperty(Ee,"TimeoutError",{enumerable:!0,get:function(){return IU.TimeoutError}});xt(Qp(),Ee)});var hT=d(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.toMetric=mr.toScopeMetrics=mr.toResourceMetrics=void 0;var dT=Wn(),ju=ne(),Lt=lT(),cf=su();function wU(e){return{resource:{attributes:(0,cf.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:pT(e.scopeMetrics)}}mr.toResourceMetrics=wU;function pT(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>fT(n)),schemaUrl:t.scope.schemaUrl})))}mr.toScopeMetrics=pT;function fT(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=BU(e.aggregationTemporality);if(e.dataPointType===Lt.DataPointType.SINGULAR){let n=xU(e),i=e.descriptor.type===Lt.InstrumentType.COUNTER||e.descriptor.type===Lt.InstrumentType.OBSERVABLE_COUNTER;MU(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else DU(e)&&(t.histogram={aggregationTemporality:r,dataPoints:LU(e)});return t}mr.toMetric=fT;function NU(e,t){let r={attributes:(0,cf.toAttributes)(e.attributes),startTimeUnixNano:(0,ju.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,ju.hrTimeToNanoseconds)(e.endTime)};return t===dT.ValueType.INT?r.asInt=e.value:t===dT.ValueType.DOUBLE&&(r.asDouble=e.value),r}function xU(e){return e.dataPoints.map(t=>NU(t,e.descriptor.valueType))}function LU(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,cf.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,ju.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,ju.hrTimeToNanoseconds)(t.endTime)}})}function MU(e){return e.descriptor.type===Lt.InstrumentType.COUNTER||e.descriptor.type===Lt.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===Lt.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===Lt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function DU(e){return e.dataPointType===Lt.DataPointType.HISTOGRAM}function BU(e){return e===Lt.AggregationTemporality.DELTA?1:e===Lt.AggregationTemporality.CUMULATIVE?2:0}});var _T=d(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.createExportMetricsServiceRequest=void 0;var FU=hT();function kU(e){return{resourceMetrics:e.map(t=>(0,FU.toResourceMetrics)(t))}}Gu.createExportMetricsServiceRequest=kU});var gT=d(Ve=>{"use strict";var UU=Ve&&Ve.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hu=Ve&&Ve.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UU(t,e,r)};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.createExportMetricsServiceRequest=Ve.createExportTraceServiceRequest=void 0;Hu(Av(),Ve);Hu(vv(),Ve);Hu(Rv(),Ve);Hu(Pv(),Ve);var qU=wv();Object.defineProperty(Ve,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return qU.createExportTraceServiceRequest}});var jU=_T();Object.defineProperty(Ve,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return jU.createExportMetricsServiceRequest}})});var ET=d($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.OTLPTraceExporter=void 0;var oi=ne(),GU=wp(),mT=wp(),HU=gT(),lf="v1/traces",$U=`http://localhost:4318/${lf}`,yT=class extends GU.OTLPExporterNodeBase{constructor(t={}){super(t);this.headers=Object.assign(this.headers,oi.baggageUtils.parseKeyPairsIntoRecord((0,oi.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,HU.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,oi.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,mT.appendRootPathToUrlIfNeeded)((0,oi.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,lf):(0,oi.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,mT.appendResourcePathToUrl)((0,oi.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,lf):$U}};$u.OTLPTraceExporter=yT});var ST=d(zr=>{"use strict";var VU=zr&&zr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),WU=zr&&zr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&VU(t,e,r)};Object.defineProperty(zr,"__esModule",{value:!0});WU(ET(),zr)});var AT=d(Qr=>{"use strict";var YU=Qr&&Qr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KU=Qr&&Qr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&YU(t,e,r)};Object.defineProperty(Qr,"__esModule",{value:!0});KU(ST(),Qr)});var bT=d(Zr=>{"use strict";var XU=Zr&&Zr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zU=Zr&&Zr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XU(t,e,r)};Object.defineProperty(Zr,"__esModule",{value:!0});zU(AT(),Zr)});var DT=d((BV,ZU)=>{ZU.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var kT=d(Ze=>{"use strict";var BT=DT(),Ft=process.env;Object.defineProperty(Ze,"_vendors",{value:BT.map(function(e){return e.constant})});Ze.name=null;Ze.isPR=null;BT.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return FT(n)});if(Ze[e.constant]=r,r)switch(Ze.name=e.name,typeof e.pr){case"string":Ze.isPR=!!Ft[e.pr];break;case"object":"env"in e.pr?Ze.isPR=e.pr.env in Ft&&Ft[e.pr.env]!==e.pr.ne:"any"in e.pr?Ze.isPR=e.pr.any.some(function(n){return!!Ft[n]}):Ze.isPR=FT(e.pr);break;default:Ze.isPR=null}});Ze.isCI=!!(Ft.CI||Ft.CONTINUOUS_INTEGRATION||Ft.BUILD_NUMBER||Ft.RUN_ID||Ze.name);function FT(e){return typeof e=="string"?!!Ft[e]:Object.keys(e).every(function(t){return Ft[t]===e[t]})}});var qT=d((kV,UT)=>{"use strict";UT.exports=kT().isCI});var GT=d((UV,pf)=>{"use strict";var JU=Object.prototype.hasOwnProperty,ke="~";function bs(){}Object.create&&(bs.prototype=Object.create(null),new bs().__proto__||(ke=!1));function eq(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function jT(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new eq(r,n||e,i),o=ke?ke+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}function Wu(e,t){--e._eventsCount==0?e._events=new bs:delete e._events[t]}function Le(){this._events=new bs,this._eventsCount=0}Le.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)JU.call(r,n)&&t.push(ke?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Le.prototype.listeners=function(t){var r=ke?ke+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};Le.prototype.listenerCount=function(t){var r=ke?ke+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Le.prototype.emit=function(t,r,n,i,s,o){var a=ke?ke+t:t;if(!this._events[a])return!1;var u=this._events[a],c=arguments.length,l,p;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,s),!0;case 6:return u.fn.call(u.context,r,n,i,s,o),!0}for(p=1,l=new Array(c-1);p<c;p++)l[p-1]=arguments[p];u.fn.apply(u.context,l)}else{var f=u.length,h;for(p=0;p<f;p++)switch(u[p].once&&this.removeListener(t,u[p].fn,void 0,!0),c){case 1:u[p].fn.call(u[p].context);break;case 2:u[p].fn.call(u[p].context,r);break;case 3:u[p].fn.call(u[p].context,r,n);break;case 4:u[p].fn.call(u[p].context,r,n,i);break;default:if(!l)for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u[p].fn.apply(u[p].context,l)}}return!0};Le.prototype.on=function(t,r,n){return jT(this,t,r,n,!1)};Le.prototype.once=function(t,r,n){return jT(this,t,r,n,!0)};Le.prototype.removeListener=function(t,r,n,i){var s=ke?ke+t:t;if(!this._events[s])return this;if(!r)return Wu(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&Wu(this,s);else{for(var a=0,u=[],c=o.length;a<c;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[s]=u.length===1?u[0]:u:Wu(this,s)}return this};Le.prototype.removeAllListeners=function(t){var r;return t?(r=ke?ke+t:t,this._events[r]&&Wu(this,r)):(this._events=new bs,this._eventsCount=0),this};Le.prototype.off=Le.prototype.removeListener;Le.prototype.addListener=Le.prototype.on;Le.prefixed=ke;Le.EventEmitter=Le;typeof pf!="undefined"&&(pf.exports=Le)});var $T=d((qV,HT)=>{"use strict";HT.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var WT=d((jV,Yu)=>{"use strict";var tq=$T(),ff=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},VT=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){n(e);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let o=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new ff(o);typeof e.cancel=="function"&&e.cancel(),i(a)},t);tq(e.then(n,i),()=>{clearTimeout(s)})});Yu.exports=VT;Yu.exports.default=VT;Yu.exports.TimeoutError=ff});var YT=d(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});function rq(e,t,r){let n=0,i=e.length;for(;i>0;){let s=i/2|0,o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}hf.default=rq});var XT=d(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});var nq=YT(),KT=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=nq.default(this._queue,n,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};_f.default=KT});var ZT=d(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});var iq=GT(),zT=WT(),sq=XT(),Ku=()=>{},oq=new zT.TimeoutError,QT=class extends iq{constructor(t){var r,n,i,s;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Ku,this._resolveIdle=Ku,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:sq.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===Infinity||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Ku,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Ku,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?t():zT.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(oq)});n(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};gf.default=QT});var eR=d((VV,mf)=>{"use strict";var JT=(e,...t)=>new Promise(r=>{r(e(...t))});mf.exports=JT;mf.exports.default=JT});var rR=d((WV,yf)=>{"use strict";var aq=eR(),tR=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...c)=>{r++;let l=aq(a,...c);u(l),l.then(n,n)},s=(a,u,...c)=>{r<e?i(a,u,...c):t.push(i.bind(null,a,u,...c))},o=(a,...u)=>new Promise(c=>s(a,c,...u));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};yf.exports=tR;yf.exports.default=tR});var iR=d(Sf=>{"use strict";var Ef=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};Sf.Semaphore=Ef;var nR=class extends Ef{constructor(){super(1)}};Sf.Mutex=nR});var oR=d((KV,sR)=>{"use strict";sR.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var Af=d((XV,aR)=>{"use strict";var uq=oR();aR.exports=e=>typeof e=="string"?e.replace(uq(),""):e});var cR=d((zV,bf)=>{"use strict";var uR=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);bf.exports=uR;bf.exports.default=uR});var pR=d((QV,dR)=>{"use strict";var lR="[\uD800-\uDBFF][\uDC00-\uDFFF]",cq=e=>e&&e.exact?new RegExp(`^${lR}$`):new RegExp(lR,"g");dR.exports=cq});var hR=d((ZV,fR)=>{"use strict";fR.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var vf=d((JV,gR)=>{var vs=hR(),_R={};for(let e of Object.keys(vs))_R[vs[e]]=e;var w={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};gR.exports=w;for(let e of Object.keys(w)){if(!("channels"in w[e]))throw new Error("missing channels property: "+e);if(!("labels"in w[e]))throw new Error("missing channel labels property: "+e);if(w[e].labels.length!==w[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=w[e];delete w[e].channels,delete w[e].labels,Object.defineProperty(w[e],"channels",{value:t}),Object.defineProperty(w[e],"labels",{value:r})}w.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,u;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};w.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(o,a,u),l=c-Math.min(o,a,u),p=function(f){return(c-f)/6/l+1/2};return l===0?(i=0,s=0):(s=l/c,t=p(o),r=p(a),n=p(u),o===c?i=n-r:a===c?i=1/3+t-n:u===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};w.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=w.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};w.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function lq(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}w.rgb.keyword=function(e){let t=_R[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(vs)){let s=vs[i],o=lq(e,s);o<r&&(r=o,n=i)}return n};w.keyword.rgb=function(e){return vs[e]};w.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};w.rgb.lab=function(e){let t=w.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};w.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};w.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};w.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};w.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};w.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!=0&&(s=1-s);let u=r+s*(a-r),c,l,p;switch(o){default:case 6:case 0:c=a,l=u,p=r;break;case 1:c=u,l=a,p=r;break;case 2:c=r,l=a,p=u;break;case 3:c=r,l=u,p=a;break;case 4:c=u,l=r,p=a;break;case 5:c=a,l=r,p=u;break}return[c*255,l*255,p*255]};w.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};w.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};w.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};w.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};w.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};w.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};w.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?w.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};w.hsv.ansi16=function(e){return w.rgb.ansi16(w.hsv.rgb(e),e[2])};w.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};w.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};w.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};w.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};w.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};w.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===t?u=(r-n)/o%6:i===r?u=2+(n-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};w.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};w.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};w.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};w.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};w.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};w.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};w.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};w.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};w.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};w.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};w.gray.hsl=function(e){return[0,0,e[0]]};w.gray.hsv=w.gray.hsl;w.gray.hwb=function(e){return[0,100,e[0]]};w.gray.cmyk=function(e){return[0,0,0,e[0]]};w.gray.lab=function(e){return[e[0],0,0]};w.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};w.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var yR=d((e3,mR)=>{var Xu=vf();function dq(){let e={},t=Object.keys(Xu);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function pq(e){let t=dq(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(Xu[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function fq(e,t){return function(r){return t(e(r))}}function hq(e,t){let r=[t[e].parent,e],n=Xu[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=fq(Xu[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}mR.exports=function(e){let t=pq(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=hq(o,t))}return r}});var SR=d((t3,ER)=>{var Tf=vf(),_q=yR(),ui={},gq=Object.keys(Tf);function mq(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function yq(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}gq.forEach(e=>{ui[e]={},Object.defineProperty(ui[e],"channels",{value:Tf[e].channels}),Object.defineProperty(ui[e],"labels",{value:Tf[e].labels});let t=_q(e);Object.keys(t).forEach(n=>{let i=t[n];ui[e][n]=yq(i),ui[e][n].raw=mq(i)})});ER.exports=ui});var PR=d((r3,RR)=>{"use strict";var AR=(e,t)=>(...r)=>`[${e(...r)+t}m`,bR=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};5;${n}m`},vR=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},zu=e=>e,TR=(e,t,r)=>[e,t,r],ci=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},Rf,li=(e,t,r,n)=>{Rf===void 0&&(Rf=SR());let i=n?10:0,s={};for(let[o,a]of Object.entries(Rf)){let u=o==="ansi16"?"ansi":o;o===t?s[u]=e(r,i):typeof a=="object"&&(s[u]=e(a[t],i))}return s};function Eq(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",ci(t.color,"ansi",()=>li(AR,"ansi16",zu,!1)),ci(t.color,"ansi256",()=>li(bR,"ansi256",zu,!1)),ci(t.color,"ansi16m",()=>li(vR,"rgb",TR,!1)),ci(t.bgColor,"ansi",()=>li(AR,"ansi16",zu,!0)),ci(t.bgColor,"ansi256",()=>li(bR,"ansi256",zu,!0)),ci(t.bgColor,"ansi16m",()=>li(vR,"rgb",TR,!0)),t}Object.defineProperty(RR,"exports",{enumerable:!0,get:Eq})});var NR=d((n3,wR)=>{"use strict";var Sq=cR(),Aq=pR(),OR=PR(),CR=["","\x9B"],Qu=e=>`${CR[0]}[${e}m`,IR=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let s=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let o=OR.codes.get(Number.parseInt(i,10));if(o){let a=e.indexOf(o.toString());a===-1?n.push(Qu(t?o:s)):e.splice(a,1)}else if(t){n.push(Qu(0));break}else n.push(Qu(s))}if(t&&(n=n.filter((i,s)=>n.indexOf(i)===s),r!==void 0)){let i=Qu(OR.codes.get(Number.parseInt(r,10)));n=n.reduce((s,o)=>o===i?[o,...s]:[...s,o],[])}return n.join("")};wR.exports=(e,t,r)=>{let n=[...e],i=[],s=typeof r=="number"?r:n.length,o=!1,a,u=0,c="";for(let[l,p]of n.entries()){let f=!1;if(CR.includes(p)){let h=/\d[^m]*/.exec(e.slice(l,l+18));a=h&&h.length>0?h[0]:void 0,u<s&&(o=!0,a!==void 0&&i.push(a))}else o&&p==="m"&&(o=!1,f=!0);if(!o&&!f&&u++,!Aq({exact:!0}).test(p)&&Sq(p.codePointAt())&&(u++,typeof r!="number"&&s++),u>t&&u<=s)c+=p;else if(u===t&&!o&&a!==void 0)c=IR(i);else if(u>=s){c+=IR(i,!0,a);break}}return c}});var jR=d(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var Tq=P("path"),Rq=P("fs"),Pq=P("module");function Of(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var oe=Of(Tq),tn=Of(Rq),Oq=Of(Pq);function rn(e){let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}function Cf(e,t){for(;;){let r=oe.default.join(e,t);if(tn.default.existsSync(r))return rn(r);let n=oe.default.dirname(e);if(n===e)return;e=n}}function Cq(e,t){t===void 0&&(t=!1);var r=e.length,n=0,i="",s=0,o=16,a=0,u=0,c=0,l=0,p=0;function f(A,$){for(var I=0,B=0;I<A||!$;){var R=e.charCodeAt(n);if(R>=48&&R<=57)B=B*16+R-48;else if(R>=65&&R<=70)B=B*16+R-65+10;else if(R>=97&&R<=102)B=B*16+R-97+10;else break;n++,I++}return I<A&&(B=-1),B}function h(A){n=A,i="",s=0,o=16,p=0}function _(){var A=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&hi(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&hi(e.charCodeAt(n)))for(n++;n<e.length&&hi(e.charCodeAt(n));)n++;else return p=3,e.substring(A,n);var $=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&hi(e.charCodeAt(n))){for(n++;n<e.length&&hi(e.charCodeAt(n));)n++;$=n}else p=3;return e.substring(A,$)}function g(){for(var A="",$=n;;){if(n>=r){A+=e.substring($,n),p=2;break}var I=e.charCodeAt(n);if(I===34){A+=e.substring($,n),n++;break}if(I===92){if(A+=e.substring($,n),n++,n>=r){p=2;break}var B=e.charCodeAt(n++);switch(B){case 34:A+='"';break;case 92:A+="\\";break;case 47:A+="/";break;case 98:A+="\b";break;case 102:A+="\f";break;case 110:A+=`
`;break;case 114:A+="\r";break;case 116:A+="	";break;case 117:var R=f(4,!0);R>=0?A+=String.fromCharCode(R):p=4;break;default:p=5}$=n;continue}if(I>=0&&I<=31)if(Rs(I)){A+=e.substring($,n),p=2;break}else p=6;n++}return A}function b(){if(i="",p=0,s=n,u=a,l=c,n>=r)return s=r,o=17;var A=e.charCodeAt(n);if(If(A)){do n++,i+=String.fromCharCode(A),A=e.charCodeAt(n);while(If(A));return o=15}if(Rs(A))return n++,i+=String.fromCharCode(A),A===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),a++,c=n,o=14;switch(A){case 123:return n++,o=1;case 125:return n++,o=2;case 91:return n++,o=3;case 93:return n++,o=4;case 58:return n++,o=6;case 44:return n++,o=5;case 34:return n++,i=g(),o=10;case 47:var $=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<r&&!Rs(e.charCodeAt(n));)n++;return i=e.substring($,n),o=12}if(e.charCodeAt(n+1)===42){n+=2;for(var I=r-1,B=!1;n<I;){var R=e.charCodeAt(n);if(R===42&&e.charCodeAt(n+1)===47){n+=2,B=!0;break}n++,Rs(R)&&(R===13&&e.charCodeAt(n)===10&&n++,a++,c=n)}return B||(n++,p=1),i=e.substring($,n),o=13}return i+=String.fromCharCode(A),n++,o=16;case 45:if(i+=String.fromCharCode(A),n++,n===r||!hi(e.charCodeAt(n)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=_(),o=11;default:for(;n<r&&v(A);)n++,A=e.charCodeAt(n);if(s!==n){switch(i=e.substring(s,n),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(A),n++,o=16}}function v(A){if(If(A)||Rs(A))return!1;switch(A){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function E(){var A;do A=b();while(A>=12&&A<=15);return A}return{setPosition:h,getPosition:function(){return n},scan:t?E:b,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return s},getTokenLength:function(){return n-s},getTokenStartLine:function(){return u},getTokenStartCharacter:function(){return s-l},getTokenError:function(){return p}}}function If(e){return e===32||e===9||e===11||e===12||e===160||e===5760||e>=8192&&e<=8203||e===8239||e===8287||e===12288||e===65279}function Rs(e){return e===10||e===13||e===8232||e===8233}function hi(e){return e>=48&&e<=57}var ec;(function(e){e.DEFAULT={allowTrailingComma:!1}})(ec||(ec={}));function Iq(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=ec.DEFAULT);var n=null,i=[],s=[];function o(u){Array.isArray(i)?i.push(u):n!==null&&(i[n]=u)}var a={onObjectBegin:function(){var u={};o(u),s.push(i),i=u,n=null},onObjectProperty:function(u){n=u},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var u=[];o(u),s.push(i),i=u,n=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(u,c,l){t.push({error:u,offset:c,length:l})}};return wq(e,a,r),i[0]}function wq(e,t,r){r===void 0&&(r=ec.DEFAULT);var n=Cq(e,!1);function i(O){return O?function(){return O(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function s(O){return O?function(V){return O(V,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var o=i(t.onObjectBegin),a=s(t.onObjectProperty),u=i(t.onObjectEnd),c=i(t.onArrayBegin),l=i(t.onArrayEnd),p=s(t.onLiteralValue),f=s(t.onSeparator),h=i(t.onComment),_=s(t.onError),g=r&&r.disallowComments,b=r&&r.allowTrailingComma;function v(){for(;;){var O=n.scan();switch(n.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:g||E(11);break;case 2:E(12);break;case 6:E(16);break}switch(O){case 12:case 13:g?E(10):h();break;case 16:E(1);break;case 15:case 14:break;default:return O}}}function E(O,V,S){if(V===void 0&&(V=[]),S===void 0&&(S=[]),_(O),V.length+S.length>0)for(var N=n.getToken();N!==17;){if(V.indexOf(N)!==-1){v();break}else if(S.indexOf(N)!==-1)break;N=v()}}function A(O){var V=n.getTokenValue();return O?p(V):a(V),v(),!0}function $(){switch(n.getToken()){case 11:var O=n.getTokenValue(),V=Number(O);isNaN(V)&&(E(2),V=0),p(V);break;case 7:p(null);break;case 8:p(!0);break;case 9:p(!1);break;default:return!1}return v(),!0}function I(){return n.getToken()!==10?(E(3,[],[2,5]),!1):(A(!1),n.getToken()===6?(f(":"),v(),M()||E(4,[],[2,5])):E(5,[],[2,5]),!0)}function B(){o(),v();for(var O=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(O||E(4,[],[]),f(","),v(),n.getToken()===2&&b)break}else O&&E(6,[],[]);I()||E(4,[],[2,5]),O=!0}return u(),n.getToken()!==2?E(7,[2],[]):v(),!0}function R(){c(),v();for(var O=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(O||E(4,[],[]),f(","),v(),n.getToken()===4&&b)break}else O&&E(6,[],[]);M()||E(4,[],[4,5]),O=!0}return l(),n.getToken()!==4?E(8,[4],[]):v(),!0}function M(){switch(n.getToken()){case 3:return R();case 1:return B();case 10:return A(!0);default:return $()}}return v(),n.getToken()===17?r.allowEmptyContent?!0:(E(4,[],[]),!1):M()?(n.getToken()!==17&&E(9,[],[]),!0):(E(4,[],[]),!1)}var Nq=Iq,wf=/^\.{1,2}(\/.*)?$/,Nf=e=>rn(wf.test(e)?e:`./${e}`),{existsSync:Ps}=tn.default,xq=e=>{try{return JSON.parse(e)}catch{}},Lq=()=>{let{findPnpApi:e}=Oq.default;return e&&e(process.cwd())};function FR(e){let t=xq(tn.default.readFileSync(e,"utf8"));return oe.default.join(e,"..",t&&"tsconfig"in t?t.tsconfig:"tsconfig.json")}function Mq(e,t){let r=e;if(r===".."&&(r+="/tsconfig.json"),r.startsWith(".")){let s=oe.default.resolve(t,r);if(Ps(s)&&tn.default.statSync(s).isFile()||!s.endsWith(".json")&&(s+=".json",Ps(s)))return s;throw new Error(`File '${e}' not found.`)}let n=Lq();if(n){let{resolveRequest:s}=n,[o,a]=e.split("/"),u=o.startsWith("@")?`${o}/${a}`:o;try{if(u===e){let c=s(oe.default.join(u,"package.json"),t);if(c){let l=FR(c);if(Ps(l))return l}}else try{return s(e,t,{extensions:[".json"]})}catch{return s(oe.default.join(e,"tsconfig.json"),t)}}catch{}}let i=Cf(t,oe.default.join("node_modules",r));if(i){if(tn.default.statSync(i).isDirectory()){let s=oe.default.join(i,"package.json");if(Ps(s)?i=FR(s):i=oe.default.join(i,"tsconfig.json"),Ps(i))return i}else if(i.endsWith(".json"))return i}if(!r.endsWith(".json")&&(r+=".json",i=Cf(t,oe.default.join("node_modules",r)),i))return i;throw new Error(`File '${e}' not found.`)}var Dq=Object.defineProperty,Bq=Object.defineProperties,Fq=Object.getOwnPropertyDescriptors,kR=Object.getOwnPropertySymbols,kq=Object.prototype.hasOwnProperty,Uq=Object.prototype.propertyIsEnumerable,UR=(e,t,r)=>t in e?Dq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_i=(e,t)=>{for(var r in t||(t={}))kq.call(t,r)&&UR(e,r,t[r]);if(kR)for(var r of kR(t))Uq.call(t,r)&&UR(e,r,t[r]);return e},qq=(e,t)=>Bq(e,Fq(t));function xf(e){var t;let r;try{r=tn.default.realpathSync(e)}catch{throw new Error(`Cannot resolve tsconfig at path: ${e}`)}let n=oe.default.dirname(r),i=tn.default.readFileSync(r,"utf8").trim(),s={};if(i&&(s=Nq(i),!s||typeof s!="object"))throw new SyntaxError(`Failed to parse tsconfig at: ${e}`);if(s.extends){let o=Mq(s.extends,n),a=xf(o);if(delete a.references,(t=a.compilerOptions)!=null&&t.baseUrl){let{compilerOptions:c}=a;c.baseUrl=oe.default.relative(n,oe.default.join(oe.default.dirname(o),c.baseUrl))||"./"}a.files&&(a.files=a.files.map(c=>oe.default.relative(n,oe.default.join(oe.default.dirname(o),c)))),a.include&&(a.include=a.include.map(c=>oe.default.relative(n,oe.default.join(oe.default.dirname(o),c)))),delete s.extends;let u=qq(_i(_i({},a),s),{compilerOptions:_i(_i({},a.compilerOptions),s.compilerOptions)});a.watchOptions&&(u.watchOptions=_i(_i({},a.watchOptions),s.watchOptions)),s=u}if(s.compilerOptions){let{compilerOptions:o}=s;o.baseUrl&&(o.baseUrl=Nf(o.baseUrl)),o.outDir&&(Array.isArray(s.exclude)||(s.exclude=[]),s.exclude.push(o.outDir),o.outDir=Nf(o.outDir))}if(s.files&&(s.files=s.files.map(Nf)),s.include&&(s.include=s.include.map(rn)),s.watchOptions){let{watchOptions:o}=s;o.excludeDirectories&&(o.excludeDirectories=o.excludeDirectories.map(a=>rn(oe.default.resolve(n,a))))}return s}function jq(e=process.cwd(),t="tsconfig.json"){let r=Cf(e,t);if(!r)return null;let n=xf(r);return{path:r,config:n}}var Gq=/\*/g,qR=(e,t)=>{let r=e.match(Gq);if(r&&r.length>1)throw new Error(t)};function Hq(e){if(e.includes("*")){let[t,r]=e.split("*");return{prefix:t,suffix:r}}return e}var $q=({prefix:e,suffix:t},r)=>r.startsWith(e)&&r.endsWith(t);function Vq(e,t,r){return Object.entries(e).map(([n,i])=>(qR(n,`Pattern '${n}' can have at most one '*' character.`),{pattern:Hq(n),substitutions:i.map(s=>{if(qR(s,`Substitution '${s}' in pattern '${n}' can have at most one '*' character.`),!t&&!wf.test(s))throw new Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return oe.default.join(r,s)})}))}function Wq(e){if(!e.config.compilerOptions)return null;let{baseUrl:t,paths:r}=e.config.compilerOptions;if(!t&&!r)return null;let n=oe.default.resolve(oe.default.dirname(e.path),t||"."),i=r?Vq(r,t,n):[];return function(s){if(wf.test(s))return[];let o=[];for(let l of i){if(l.pattern===s)return l.substitutions.map(rn);typeof l.pattern!="string"&&o.push(l)}let a,u=-1;for(let l of o)$q(l.pattern,s)&&l.pattern.prefix.length>u&&(u=l.pattern.prefix.length,a=l);if(!a)return t?[rn(oe.default.join(n,s))]:[];let c=s.slice(a.pattern.prefix.length,s.length-a.pattern.suffix.length);return a.substitutions.map(l=>rn(l.replace("*",c)))}}Os.createPathsMatcher=Wq,Os.getTsconfig=jq,Os.parseTsconfig=xf});var YR=d((nn,WR)=>{"use strict";var Lf=P("crypto");nn=WR.exports=Cs;function Cs(e,t){return t=HR(e,t),Yq(e,t)}nn.sha1=function(e){return Cs(e)};nn.keys=function(e){return Cs(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})};nn.MD5=function(e){return Cs(e,{algorithm:"md5",encoding:"hex"})};nn.keysMD5=function(e){return Cs(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var gi=Lf.getHashes?Lf.getHashes().slice():["sha1","md5"];gi.push("passthrough");var GR=["buffer","hex","binary","base64"];function HR(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=t.ignoreUnknown===!0,r.respectType=t.respectType!==!1,r.respectFunctionNames=t.respectFunctionNames!==!1,r.respectFunctionProperties=t.respectFunctionProperties!==!1,r.unorderedArrays=t.unorderedArrays===!0,r.unorderedSets=t.unorderedSets!==!1,r.unorderedObjects=t.unorderedObjects!==!1,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,typeof e=="undefined")throw new Error("Object argument required.");for(var n=0;n<gi.length;++n)gi[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=gi[n]);if(gi.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+gi.join(", "));if(GR.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+GR.join(", "));return r}function $R(e){if(typeof e!="function")return!1;var t=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return t.exec(Function.prototype.toString.call(e))!=null}function Yq(e,t){var r;t.algorithm!=="passthrough"?r=Lf.createHash(t.algorithm):r=new VR,typeof r.write=="undefined"&&(r.write=r.update,r.end=r.update);var n=Mf(t,r);if(n.dispatch(e),r.update||r.end(""),r.digest)return r.digest(t.encoding==="buffer"?void 0:t.encoding);var i=r.read();return t.encoding==="buffer"?i:i.toString(t.encoding)}nn.writeToStream=function(e,t,r){return typeof r=="undefined"&&(r=t,t={}),t=HR(e,t),Mf(t,r).dispatch(e)};function Mf(e,t,r){r=r||[];var n=function(i){return t.update?t.update(i,"utf8"):t.write(i,"utf8")};return{dispatch:function(i){e.replacer&&(i=e.replacer(i));var s=typeof i;return i===null&&(s="null"),this["_"+s](i)},_object:function(i){var s=/\[object (.*)\]/i,o=Object.prototype.toString.call(i),a=s.exec(o);a?a=a[1]:a="unknown:["+o+"]",a=a.toLowerCase();var u=null;if((u=r.indexOf(i))>=0)return this.dispatch("[CIRCULAR:"+u+"]");if(r.push(i),typeof Buffer!="undefined"&&Buffer.isBuffer&&Buffer.isBuffer(i))return n("buffer:"),n(i);if(a!=="object"&&a!=="function"&&a!=="asyncfunction")if(this["_"+a])this["_"+a](i);else{if(e.ignoreUnknown)return n("["+a+"]");throw new Error('Unknown object type "'+a+'"')}else{var c=Object.keys(i);e.unorderedObjects&&(c=c.sort()),e.respectType!==!1&&!$R(i)&&c.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(c=c.filter(function(p){return!e.excludeKeys(p)})),n("object:"+c.length+":");var l=this;return c.forEach(function(p){l.dispatch(p),n(":"),e.excludeValues||l.dispatch(i[p]),n(",")})}},_array:function(i,s){s=typeof s!="undefined"?s:e.unorderedArrays!==!1;var o=this;if(n("array:"+i.length+":"),!s||i.length<=1)return i.forEach(function(c){return o.dispatch(c)});var a=[],u=i.map(function(c){var l=new VR,p=r.slice(),f=Mf(e,l,p);return f.dispatch(c),a=a.concat(p.slice(r.length)),l.read().toString()});return r=r.concat(a),u.sort(),this._array(u,!1)},_date:function(i){return n("date:"+i.toJSON())},_symbol:function(i){return n("symbol:"+i.toString())},_error:function(i){return n("error:"+i.toString())},_boolean:function(i){return n("bool:"+i.toString())},_string:function(i){n("string:"+i.length+":"),n(i.toString())},_function:function(i){n("fn:"),$R(i)?this.dispatch("[native]"):this.dispatch(i.toString()),e.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(i.name)),e.respectFunctionProperties&&this._object(i)},_number:function(i){return n("number:"+i.toString())},_xml:function(i){return n("xml:"+i.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(i){return n("regex:"+i.toString())},_uint8array:function(i){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint8clampedarray:function(i){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(i))},_int8array:function(i){return n("int8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint16array:function(i){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(i))},_int16array:function(i){return n("int16array:"),this.dispatch(Array.prototype.slice.call(i))},_uint32array:function(i){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(i))},_int32array:function(i){return n("int32array:"),this.dispatch(Array.prototype.slice.call(i))},_float32array:function(i){return n("float32array:"),this.dispatch(Array.prototype.slice.call(i))},_float64array:function(i){return n("float64array:"),this.dispatch(Array.prototype.slice.call(i))},_arraybuffer:function(i){return n("arraybuffer:"),this.dispatch(new Uint8Array(i))},_url:function(i){return n("url:"+i.toString(),"utf8")},_map:function(i){n("map:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_set:function(i){n("set:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_file:function(i){return n("file:"),this.dispatch([i.name,i.size,i.type,i.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return n("domwindow")},_bigint:function(i){return n("bigint:"+i.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function VR(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}});var nj={};xP(nj,{default:()=>rj});var en=L(P("@yarnpkg/cli")),Fe=L(P("@yarnpkg/core")),NT=L(P("@yarnpkg/libzip")),te=L(P("@yarnpkg/fslib")),pt=L(P("clipanion")),df=L(P("path"));var Gf=L(P("fs")),Hf=async e=>{try{return(0,Gf.readFileSync)(e,"utf-8").split(`
`)}catch(t){return[]}};var $f=L(P("path")),Vf=({ignoreFile:e,cwd:t})=>(0,$f.join)(t,e);var Xm=L(th());var Ym=L(Ml()),Km=async({cwd:e})=>{try{return await(0,Ym.default)("**/*",{dot:!0,cwd:e,absolute:!1})}catch(t){return[]}};var Dl=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=Vf({ignoreFile:t,cwd:r}),i=(0,Xm.default)().add([...e,...await Hf(n)]);return(await Km({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var zm=["package.json","package.yaml","package.yml"];var yo=L(P("path")),NN={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,yo.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>zm.map(t=>(0,yo.join)(e,t))},xN=({cwd:e,rootDir:t})=>[...new Set(...[Object.values(NN).map(r=>r({cwd:e,rootDir:t})).flat()])],Qm=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>xN({cwd:r,rootDir:t})).flat();var Ni=L(P("@yarnpkg/fslib")),K=L(P("typanion")),Oo=L(dE()),WL=".yarnbuildrc.yml",hd=".bundleignore",YL=K.isObject({folders:K.isObject({input:K.isOneOf([K.isString(),K.isArray(K.isString())]),output:K.isNullable(K.isOneOf([K.isString(),K.isArray(K.isString())]))}),exclude:K.isArray(K.isString()),bail:K.isBoolean(),hideYarnBuildBadge:K.isBoolean(),ignoreFile:K.isString()}),KL=K.isObject({input:K.isOptional(K.isOneOf([K.isString(),K.isArray(K.isString())])),output:K.isOptional(K.isNullable(K.isOneOf([K.isString(),K.isArray(K.isString())]))),tsconfig:K.isOptional(K.isString())}),_d={folders:{input:".",output:null},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:hd};async function pE(e){let t=WL,r=Ni.ppath.join(e.projectCwd||e.startingCwd,t);if(Ni.xfs.existsSync(r)){let n=await Ni.xfs.readFilePromise(r,"utf8"),i=[];try{let s=(0,Oo.load)(n,{schema:Oo.JSON_SCHEMA});if(YL(s,{errors:i}))return s;console.warn(i)}catch(s){let o="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(o=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${o}`)}}return _d}async function fE(e){return await pE(e)}async function hE(e){var r;let t=await pE(e);return ce(k(k({},_d),t),{folders:k(k({},_d.folders),(r=t.folders)!=null?r:{})})}function _E(e){let t=k({},e["yarn.build"]);return KL(t)?t:{}}var q={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var wT=L(j());var CT=L(j()),IT=L(Gd());var vT=L(Wa()),TT=L(Xi()),RT=L(Pt()),PT=L(bT()),OT=L(Wa()),ai=L(j());process.env.DEBUG&&ai.diag.setLogger(new ai.DiagConsoleLogger,ai.DiagLogLevel.DEBUG);var Vu=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new PT.OTLPTraceExporter,r=new vT.BasicTracerProvider({resource:new TT.Resource({[RT.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new OT.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var Jr=L(j()),Mt=class{constructor(t){this.name=t,this._tracer=Vu.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:CT.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){var o;let n;if(typeof t.ctx=="undefined"?n=Jr.context.active():n=t.ctx,!!t.propegateFromEnv||((o=t==null?void 0:t.spanOptions)==null?void 0:o.kind)==4){let a=process.env.TRACEPARENT;if(typeof a=="string"){let u=(0,IT.parseTraceParent)(a!=null?a:"");u&&(n=Jr.trace.setSpanContext(Jr.context.active(),u))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),s=Jr.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:s}):r({span:i,ctx:s})}catch(a){if((typeof a=="string"||a instanceof Error)&&this.recordException(i,a),!t.supressExceptions)throw a}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx=="undefined"?i=Jr.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var xT=L(j()),Dt;(function(s){s.Info="YB1000",s.RemoveUnusedPackages="YB1001",s.RemoveEmptyDirectories="YB1002",s.RemoveExcluded="YB1003",s.AddedEntryPoint="YB1004"})(Dt||(Dt={}));var Bt;(function(n){n.Start=" \u250C ",n.Progress=" \u2502 ",n.End=" \u2514 "})(Bt||(Bt={}));var As=class extends en.BaseCommand{constructor(){super(...arguments);this.tracer=new Mt("yarn.build");this.json=pt.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});this.quiet=pt.Option.Boolean("-q,--quiet",!1,{description:"suppress progess messages"});this.temporaryDirectory=pt.Option.String("--temporary-directory",{description:"superseeds --output-directory and --no-compress, when set the temporary directory used for bundling is written to a file you pass here "});this.outputDirectory=pt.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});this.noCompress=pt.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your project root"});this.archiveName=pt.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});this.exclude=pt.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});this.ignoreFile=pt.Option.String("--ignore-file",hd,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."})}progress({code:t,group:r,msg:n,span:i}){this.quiet!==!0&&console.info(`\u27A4 ${t}:${r}${n}`),typeof i!="undefined"&&i.addEvent(n,{[q.YARN_BUILD_MESSAGE_CODE]:t})}async removeUnusedPackages(t,r,n,i){return await this.tracer.startSpan({name:"remove unused packages",ctx:t},async({span:s})=>{var p;let{project:o,workspace:a}=await Fe.Project.find(i,n);if(!a)throw new en.WorkspaceRequiredError(o.cwd,n);let u=await Fe.Project.find(i,r);if(!u.workspace)throw new en.WorkspaceRequiredError(u.project.cwd,r);let c=new Set([a,u.workspace]),l=await fE(i);this.exclude=l.exclude?[...this.exclude,...l.exclude]:this.exclude,this.ignoreFile=(p=l==null?void 0:l.ignoreFile)!=null?p:this.ignoreFile;for(let f of c)for(let h of Fe.Manifest.allDependencies)for(let _ of f.manifest.getForScope(h).values()){let g=o.tryWorkspaceByDescriptor(_);g!==null&&(c.add(g),this.progress({code:Dt.RemoveUnusedPackages,group:Bt.Progress,msg:`required:	${g.relativeCwd}`,span:s}))}for(let f of o.workspaces)c.has(f)||f.cwd!==r&&(await te.xfs.removePromise(f.cwd),this.progress({code:Dt.RemoveUnusedPackages,group:Bt.Progress,msg:`unused:	${f.relativeCwd}`,span:s}))})}async removeEmptyDirectories(t,{tmpDir:r,cwd:n}){let i=xT.trace.getSpan(t);if(!te.xfs.statSync(n).isDirectory())return!1;let o=await te.xfs.readdirPromise(n);for(let a of o)await this.removeEmptyDirectories(t,{tmpDir:r,cwd:te.ppath.join(n,a)});return o=await te.xfs.readdirPromise(n),o.length===0?(await te.xfs.removePromise(n),this.progress({code:Dt.RemoveEmptyDirectories,group:Bt.Progress,msg:`empty:	${n.replace(r+"/","")}`,span:i}),!0):!1}async removeExcluded(t,{tmpDir:r,excluded:n,nonRemovableFiles:i,yarnDirectory:s,cacheDirectory:o,shouldRemoveEmptyDirectories:a=!1}){let u=`${r}/.git`;try{await te.xfs.lstatPromise(u)&&await te.xfs.removePromise(u)}catch(c){}await Promise.all(n.map(async c=>{if(!c.startsWith(s)&&!c.startsWith(o)&&!i.includes(c)&&!!c.startsWith(r))try{await te.xfs.lstatPromise(c)&&await te.xfs.removePromise(c)}catch(l){}})),a&&await this.removeEmptyDirectories(t,{tmpDir:r,cwd:r})}async execute(){return await this.tracer.startSpan({name:"yarn bundle",propegateFromEnv:!0},async({span:t,ctx:r})=>{this.progress({code:Dt.Info,group:Bt.Start,msg:`Prepare ${this.context.cwd} for bundling`,span:t}),this.progress({code:Dt.Info,group:Bt.Progress,msg:"Preparing temporary directory",span:t});let n=async i=>await this.tracer.startSpan({name:"prepare for bundle",ctx:r},async({span:s,ctx:o})=>{let a=`${this.context.cwd}`,u=te.ppath.join(a,this.archiveName),c={[q.YARN_BUILD_FLAGS_BUNDLE_QUIET]:this.quiet,[q.YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY]:this.temporaryDirectory,[q.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY]:i,[q.YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS]:this.noCompress,[q.YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME]:this.archiveName,[q.YARN_BUILD_FLAGS_BUNDLE_EXCLUDE]:this.exclude,[q.YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE]:this.ignoreFile};if(s.setAttributes(c),typeof this.outputDirectory=="string"){let N=LT(this.outputDirectory);if(s.setAttribute(q.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY,N),te.xfs.existsSync(N)||await te.xfs.mkdirPromise(N),te.xfs.readdirSync(N).length!=0)throw new Error(" --output-directory is not empty");u=te.ppath.join(N,this.archiveName)}let l=await Fe.Configuration.find(this.context.cwd,this.context.plugins);if(l.projectCwd===null)throw new Error("Can't find project directory");let p=a.replace(l.projectCwd,""),f=!1,h;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")throw new Error("ERROR: you set --no-compress, but did not specify --output-directory");if(h=LT(this.outputDirectory),h.startsWith(l.projectCwd))throw new Error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`);f=!0}let _=new te.NodeFS;this.progress({code:Dt.Info,group:Bt.Progress,msg:"Copying repo to temporary directory",span:s}),await this.tracer.wrap({name:"copy to tmp dir",ctx:o},async N=>te.xfs.copyPromise(i,N,{baseFs:_}),l.projectCwd);let g=`${i}${p}`,b=`${g}/${this.archiveName}`,v=this.exclude;try{await te.xfs.lstatPromise(b)&&v.push(b)}catch(N){}let E=await Fe.Configuration.find(g,this.context.plugins);E.use("<custom>",{enableNetwork:!1},g);let A=await Fe.Cache.find(E),$=`${i}/.yarn`,I=A.cwd;this.progress({code:Dt.Info,group:Bt.Progress,msg:"Removing unused and excluded workspaces, folders and files",span:s}),await this.removeUnusedPackages(o,i,g,E);let{project:B,workspace:R}=await Fe.Project.find(E,g);if(!R)throw new en.WorkspaceRequiredError(B.cwd,g);s.setAttributes({[q.PACKAGE_DIRECTORY]:p,[q.PACKAGE_NAME]:R.locator.name}),typeof R.locator.scope=="string"&&s.setAttribute(q.PACKAGE_SCOPE,`@${R.locator.scope}`);let M=await Fe.Project.find(E,i);if(!M.workspace)throw new en.WorkspaceRequiredError(M.project.cwd,i);let O=new Set([R,M.workspace]),V=Qm({workspaces:O,rootDir:i});v=await Dl({cwd:i,ignoreFile:this.ignoreFile,exclude:v});for(let N of O)for(let F of Fe.Manifest.allDependencies)for(let Q of N.manifest.getForScope(F).values()){let m=B.tryWorkspaceByDescriptor(Q);m!==null&&O.add(m)}return await this.tracer.wrap({name:"remove unused workspaces",ctx:o},async()=>{for(let N of O){let F=await Dl({cwd:N.cwd,ignoreFile:this.ignoreFile,exclude:v});await this.removeExcluded(o,{tmpDir:i,excluded:F,nonRemovableFiles:V,yarnDirectory:$,cacheDirectory:I,shouldRemoveEmptyDirectories:!1})}}),await this.tracer.wrap({name:"remove excluded files",ctx:o},async()=>{await this.removeExcluded(o,{tmpDir:i,excluded:v,nonRemovableFiles:V,yarnDirectory:$,cacheDirectory:I,shouldRemoveEmptyDirectories:!0})}),await this.tracer.wrap({name:"add entrypoint.js",ctx:o},async()=>{var N,F,Q,m;for(let y of B.workspaces)y.manifest.devDependencies.clear(),!O.has(y)&&(y.manifest.dependencies.clear(),y.manifest.peerDependencies.clear());if((F=(N=R==null?void 0:R.manifest)==null?void 0:N.raw)==null?void 0:F.main){let y=R.relativeCwd+df.default.posix.sep+((m=(Q=R==null?void 0:R.manifest)==null?void 0:Q.raw)==null?void 0:m.main),de=".pnp.cjs";te.xfs.writeFilePromise(`${i}${df.default.posix.sep}entrypoint.js`,QU(y,de))}this.progress({code:Dt.Info,group:Bt.End,msg:"Completed",span:s})}),(await this.tracer.startSpan({name:"bundle",ctx:o},async({ctx:N})=>await Fe.StreamReport.start({configuration:E,json:this.json,stdout:this.context.stdout,includeLogs:!0},async F=>{if(await this.tracer.wrap({name:"yarn install",ctx:N},async({cache:Q,report:m})=>await B.install({cache:Q,report:m}),{cache:A,report:F}),typeof this.temporaryDirectory=="undefined")if(f&&typeof h!="undefined")F.reportInfo(null,"Moving build to output directory"),await this.tracer.wrap({name:"copy to output directory",ctx:N},async({outputPath:Q,tmpDir:m})=>_.copyPromise(Q,m),{outputPath:h,tmpDir:i});else{let Q=await(0,NT.getLibzipPromise)();F.reportInfo(null,"Creating archive");let m=new te.ZipFS(u,{create:!0,libzip:Q});F.reportInfo(null,"Copying files to archive"),await this.tracer.wrap({name:"copy to zip",ctx:N},async({tmpDir:y,baseFs:de})=>await m.copyPromise("/",y,{baseFs:de}),{tmpDir:i,baseFs:_}),await this.tracer.wrap({name:"save zip",ctx:N},async()=>m.saveAndClose()),F.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:u})}}))).exitCode()});return typeof this.temporaryDirectory!="undefined"?await n(this.temporaryDirectory):await te.xfs.mktempPromise(n)})}};As.paths=[["bundle"]],As.usage=pt.Command.Usage({category:"Bundle commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});var MT=As,QU=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function LT(e){let t=te.npath.toPortablePath(e);return te.ppath.resolve(t)}var nc=L(P("@yarnpkg/cli")),Ue=L(P("@yarnpkg/core")),he=L(P("clipanion")),kf=L(P("path")),Is=L(Cc()),aP=L(P("os"));var H=L(P("@yarnpkg/core")),We=L(qT()),KR=L(P("os")),z=L(P("@yarnpkg/fslib"));var Df=L(Ml()),XR=L(P("events")),zR=L(ZT()),QR=L(rR()),Bf=L(iR()),tc=L(Af()),rc=L(NR());var pi=class{constructor(){this.tracer=new Mt("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new di(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let s=t.dependencies[i];if(!r.has(s.id)){if(n.has(s.id))throw new Zu(t.id,s.id);this.resolveNode(s,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let s=new Set,o=new Set,a={};for(let u of r)this.resolveQueue(u,s,a);return n?(await this.dryRunLoop(s,a,o,0),a):(await new Promise(u=>{this.workLoop(i,s,a,o,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((s,o)=>{this.dryRunCallback(s,i-1),r[s.id]={success:!0,done:!0},n.delete(o)}),t.size!==0&&t.forEach(s=>{var o;s.canStart(r)&&((o=s==null?void 0:s.node)==null?void 0:o.runCallback)&&(n.add(s.node),t.delete(s))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,s){if(r.size!==0&&r.forEach(o=>{var a,u;o.canStart(n)&&(((a=o==null?void 0:o.node)==null?void 0:a.runCallback)?((u=o==null?void 0:o.node)==null||u.runCallback(t,n),i.add(o.node)):n[o.node.id]={success:!0,done:!0},r.delete(o))}),i.forEach((o,a)=>{n[o.id].done&&i.delete(a)}),Object.keys(n).map(o=>{var a,u;return(u=(a=n[o])==null?void 0:a.done)!=null?u:!0}).every(o=>o===!0)){s();return}setTimeout(()=>this.workLoop(t,r,n,i,s),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(s=>{let o=t.dependencies[s];if(i.push(o.id),!n[o.id]&&o.runCallback){n[o.id]=k({},pi.RunLogInit);let a=this.resolveQueue(o,r,n),u={node:o,canStart:pi.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]=k({},pi.RunLogInit);let s={node:t,canStart:pi.QueueItemCanStart(i)};r.add(s)}return i}},Ts=pi;Ts.RunLogInit={success:!1,done:!1},Ts.QueueItemCanStart=t=>r=>t.map(n=>{var i,s;return(s=(i=r[n])==null?void 0:i.done)!=null?s:!0}).every(n=>n===!0);var di=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,di.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies!="undefined"&&Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},Zu=class extends Error{constructor(t,r){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=t,this.dep=r}};var xR=L(Af()),bq="",Je=bq+"[",Pf=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);Pf.cursorUp(t)}static cursorUp(t=1){process.stdout.write(Je+`${t}A`)}static cursorSave(){process.stdout.write(Je+"s")}static cursorRestore(){process.stdout.write(Je+"u")}static autoWrap(t){t?process.stdout.write(Je+"?7h"):process.stdout.write(Je+"?7l")}static clearScreenDown(){process.stdout.write(Je+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(Je+"6n")})}static setScrollableRegion(t,r){process.stdout.write(Je+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(Je+"r")}static moveTo(t){process.stdout.write(Je+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(Je+"H")}static alternateScreen(){process.stdout.write(Je+"?1049h")}static mainScreen(){process.stdout.write(Je+"?1049l")}static linesRequired(t,r){var s;let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((s=(0,xR.default)(t).match(n))!=null?s:[""]).length-1}},ft=Pf;ft.row=0,ft.column=0;var MR=L(P("child_process")),DR=L(P("util"));var LR=()=>process.platform==="win32"?"windows":"unix";var vq=(0,DR.promisify)(MR.exec),BR=async e=>{let t=LR(),r=(({platform:i,pid:s})=>{switch(i){case"unix":return`pgrep "-P ${s}"`;case"windows":return`wmic process where (ParentProcessId=${s}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await vq(r);n=i.split(`
`).filter(Boolean).map(s=>parseInt(s,10)).filter(s=>!isNaN(s))}catch(i){}return n};var fi={hasBeenTerminated:!1,callId:0},Ju=async(e=0)=>{if(e!==fi.callId||fi.hasBeenTerminated)return;let t=process.pid;(await BR(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch(s){}});let n=fi.callId+1;fi.callId=n,setTimeout(async()=>{Ju(n)},50)};var ZR=L(j());var JR=L(jR()),eP=L(YR()),Kq="yarn.build.json",tP=80,Xq="-".repeat(tP),kt;(function(s){s.pending="pending",s.skipped="skipped",s.inProgress="inProgress",s.failed="failed",s.succeeded="succeeded"})(kt||(kt={}));var le;(function(l){l.pending="pending",l.start="start",l.info="info",l.error="error",l.skipped="skipped",l.ignored="ignored",l.success="success",l.fail="fail",l.finish="finish",l.forceQuit="force-quit"})(le||(le={}));var rP=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:s,pluginConfiguration:o,dryRun:a,ignoreRunCache:u,verbose:c,concurrency:l,continueOnError:p,excludeWorkspacePredicate:f,ignoreDependencies:h,failFast:_}){this.tracer=new Mt("yarn.build");this.runGraph=new Ts;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new XR.EventEmitter;this.ignoreDependencies=!1;this.failFast=!1;this.runReport={mutex:new Bf.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.checkIfRunIsRequiredCache={};this.planCache={};this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on(le.pending,(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on(le.start,(t,r,n,i)=>{this.runReport.mutex.acquire().then(s=>{this.runReport.workspaces[t]=ce(k({},this.runReport.workspaces[t]),{start:Date.now(),runScript:i,name:n,locator:r}),s()})}),this.runReporter.on(le.info,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on(le.error,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on(le.success,t=>{this.runReport.mutex.acquire().then(r=>{var i;this.runReport.workspaces[t]=ce(k({},this.runReport.workspaces[t]),{done:!0}),this.runReport.successCount++;let n=this.runReport.workspaces[t];if(We.default){let s=`\u2705 ${t}`.padEnd(60),o=sn(0,(i=n.runtimeSeconds)!=null?i:0).padStart(19);process.stdout.write(`${s}${o}
`)}r()})}),this.runReporter.on(le.skipped,t=>{this.runReport.mutex.acquire().then(r=>{if(this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r(),We.default){let n=`\u23E9 ${t} `.padEnd(60),i="--".padStart(19);process.stdout.write(`${n}${i}
`)}})}),this.runReporter.on(le.ignored,t=>{this.runReport.mutex.acquire().then(r=>{var s;this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r();let n=this.runReport.workspaces[t],i=(s=this.runLog)==null?void 0:s.get(`${t}#${this.runCommand}`);if(We.default){let o=`[IGNORE${(i==null?void 0:i.exitCode)?`: ${i==null?void 0:i.exitCode}`:""}] ${n.name} `.padEnd(60),a="--".padStart(19);process.stdout.write(`${o}${a}
`)}})}),this.runReporter.on(le.fail,(t,r)=>{this.runReport.mutex.acquire().then(n=>{var o,a;typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],s=(o=this.runLog)==null?void 0:o.get(`${t}#${this.runCommand}`);if(We.default){let u=`\u274C ${t}`.padEnd(50),c=`${(s==null?void 0:s.exitCode)?`(exit code: ${s==null?void 0:s.exitCode})`:"\u2192"} ${sn(0,(a=i.runtimeSeconds)!=null?a:0)}`.padStart(29);process.stdout.write(`${u}${c}
`)}})})};this.getDependenciesCount=async t=>{let r=0;for(let n of H.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{var o,a,u,c,l;if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");if(typeof this.planCache[r.relativeCwd]!="undefined")return this.planCache[r.relativeCwd];this.runGraph.checkCyclical(t);let n=!1,i=!1;if(this.runMutexes[r.relativeCwd]=new Bf.Mutex,this.ignoreDependencies===!1)for(let p of H.Manifest.hardDependencies)for(let f of r.manifest.getForScope(p).values()){let h=this.project.tryWorkspaceByDescriptor(f);if(h===null||this.excludeWorkspacePredicate(h)||typeof h.manifest.scripts.get(this.runCommand)=="undefined")continue;let _=this.runGraph.addNode(h.relativeCwd);t.addDependency(_),this.runGraph.checkCyclical(_),await this.plan(_,h)&&(this.runGraph.addRunCallback(_,this.createRunItem(h)),i=!0,this.removeFromExcluded(h))}let s=!1;if(r!==this.project.topLevelWorkspace&&(s=await this.checkIfRunIsRequired(r)),this.runReporter.emit(le.pending,r.relativeCwd,r.locator),i||s)n=!0,this.runReporter.emit(le.pending,r.relativeCwd,r.locator,`${((o=r.manifest.name)==null?void 0:o.scope)?`@${(a=r.manifest.name)==null?void 0:a.scope}/`:""}${(u=r.manifest.name)==null?void 0:u.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);else{let p=(c=this.runLog)==null?void 0:c.get(`${r.relativeCwd}#${this.runCommand}`);p&&((l=this.runLog)==null||l.set(`${r.relativeCwd}#${this.runCommand}`,{checksum:p.checksum,status:kt.succeeded,rerun:!1,command:this.runCommand}))}if(n){let p=r.getRecursiveWorkspaceDependents();for(let h of p)this.markWorkspaceForRerun(h);let f=Array.from(r.getRecursiveWorkspaceDependencies()).filter(h=>this.isWorkspaceMarkedForRerun(h));for(let h of f){let _=h.getRecursiveWorkspaceDependents();for(let g of _)this.markWorkspaceForRerun(g)}}return this.planCache[r.relativeCwd]=n,n};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",s={1:[]};this.runGraph.dryRunCallback=(u,c)=>{s[c]?s[c].push(u.id):s[c]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let o=(u,c,l,p)=>{let f=l?"\u2514\u2500":p&&l?"\u2514\u2500\u252C\u2500":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${f}[${u}] ${c}`},a=Object.keys(s);return a.forEach((u,c)=>{let l=parseInt(u),p=s[l],f=c==a.length-1;p.forEach((h,_)=>{let g=this.runGraph.getNode(h);i+=o(l,h,_==p.length-1,f),g instanceof di&&g.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{var o,a;let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),(We.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),We.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;We.default||ft.pad(this.concurrency+3),We.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":(a=(o=this.runTargets[0])==null?void 0:o.relativeCwd)!=null?a:"Nothing to run",We.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let s=this.generateFinalReport();return typeof s=="string"&&process.stdout.write(`
${s}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";We.default?this.updateProgressCI(t):(n=this.generateProgressString(t),ft.cursorUp(ft.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ft.clearScreenDown()),typeof n!="undefined"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,Qq(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>H.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=H.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=H.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),s=H.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${s} ${sn(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{var s;We.default||(ft.cursorUp(ft.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ft.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),We.default&&(t=!0),t){let o=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let a in this.runReport.workspaces){let u=this.runReport.workspaces[a];u.fail&&o.push(a),!(this.runReport.failCount!==0&&u.fail===!1)&&((u.stdout.length!==0||u.stderr.length!==0)&&(r+=`
${this.formatHeader(`Output: ${H.formatUtils.pretty(this.configuration,a,H.FormatType.PATH)}`,2)+`
`}`),u.stdout.length!==0&&u.stdout.forEach(c=>{c.split(`
`).forEach(p=>{typeof p!="undefined"&&p.length!==0&&(r+=`${p+`
`}`)})}),u.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,u.stderr.forEach(l=>{(l instanceof Error?l.toString():`${l}`).split(`
`).forEach(h=>{typeof h!="undefined"&&h.length!==0&&(r+=`${h+`
`}`)})})))}o.length>=2&&(r+=`${this.grey(Xq)+`
`}`,r+=`${this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`)}`,o.forEach(u=>{r+=`${`- ${H.formatUtils.pretty(this.configuration,u,H.FormatType.PATH)}`+`
`}`}))}let n=this.formatHeader(`${H.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?H.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:o,failCount:a,ignoredCount:u,skipCount:c}=this.runReport,l=this.runGraph.runSize-u,p=l-a-o-c,f=H.formatUtils.pretty(this.configuration,`Success: ${o}`,"green"),h=H.formatUtils.pretty(this.configuration,`Fail: ${a}`,"red"),_=H.formatUtils.pretty(this.configuration,`Skipped: ${c}`,"white"),g=H.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),b=H.formatUtils.pretty(this.configuration,`Up to date: ${p}`,"white"),v=H.formatUtils.pretty(this.configuration,`Total: ${l}`,"white");if(r+=f+`
`,r+=b+`
`,r+=h+`
`,this.verbose&&a>0&&Object.keys(this.runReport.workspaces).forEach(E=>{let A=this.runReport.workspaces[E];A.fail&&(r+=` - ${H.formatUtils.pretty(this.configuration,E,"grey")}${H.formatUtils.pretty(this.configuration,A.locator,"IDENT")}
`)}),r+=_+`
`,this.verbose&&c>0&&Object.keys(this.runReport.workspaces).forEach(E=>{let A=this.runReport.workspaces[E];A.skipped&&(r+=` - ${H.formatUtils.pretty(this.configuration,E,"grey")}${H.formatUtils.pretty(this.configuration,A.locator,"IDENT")}
`)}),r+=g+`
`,this.verbose&&this.excluded.size>0)for(let E of this.excluded)r+=` - ${H.formatUtils.pretty(this.configuration,E.relativeCwd,"grey")}${H.formatUtils.pretty(this.configuration,E.locator,"IDENT")}
`;r+=v+`
`+this.grey("---")+`
`}let i=50;for(let o in this.runReport.workspaces)i+=(s=this.runReport.workspaces[o].runtimeSeconds)!=null?s:0;if(!!this.runReport.runStart&&this.runGraph.runSize>1){let o=i,u=Date.now()-this.runReport.runStart,c=sn(u,o);r+=`Cumulative: (cpu): ${sn(0,i)}
`,r+=`Saved: ${c}
`}return this.runReport.runStart&&(r+="Runtime (wall): "+sn(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:s})=>{var l,p,f,h,_,g,b,v;let o=t.relativeCwd,a={[q.PACKAGE_NAME]:t.locator.name,[q.PACKAGE_DIRECTORY]:t.relativeCwd,[q.PACKAGE_COMMAND]:this.runCommand};typeof t.locator.scope=="string"&&(a[q.PACKAGE_SCOPE]=`@${t.locator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[q.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let c=(l=this.runLog)==null?void 0:l.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit(le.start,t.relativeCwd,t.locator,`${((p=t.manifest.name)==null?void 0:p.scope)?`@${(f=t.manifest.name)==null?void 0:f.scope}/`:""}${(h=t.manifest.name)==null?void 0:h.name}`,u),i.addEvent("start"),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit(le.info,t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit(le.ignored,t.relativeCwd),i.addEvent("ignored"),!0;try{if(this.runReport.failCount!==0&&!this.continueOnError&&(this.runReporter.emit(le.skipped,t.relativeCwd),i.addEvent("skipped"),(_=this.runLog)==null||_.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:kt.skipped,rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let E=await this.cli(s,this.runCommand,t.cwd,this.runReporter,o);if(i.setAttribute(q.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,E),E!==0)return this.runReporter.emit(le.fail,t.relativeCwd),(g=this.runLog)==null||g.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:kt.failed,rerun:!0,command:this.runCommand,exitCode:`${E}`}),this.failFast===!0&&(We.default&&process.stdout.write(`--fail-fast is set, terminating all processes
`),Ju()),!1;(b=this.runLog)==null||b.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:kt.succeeded,rerun:!1,command:this.runCommand}),this.runReporter.emit(le.success,t.relativeCwd)}catch(E){return this.runReporter.emit(le.fail,t.relativeCwd,E),(v=this.runLog)==null||v.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:kt.failed,rerun:!0,command:this.runCommand}),(typeof E=="string"||E instanceof Error)&&i.recordException(E),i.setStatus({code:ZR.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),Ju()),!1}return!1}));let g=l!=null?l:(0,KR.cpus)().length;this.configuration=s,this.pluginConfiguration=o,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=c,this.concurrency=g,this.continueOnError=p,this.limit=(0,QR.default)(g),this.queue=new zR.default({concurrency:g,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=f,this.verbose&&(this.errorLogFile=z.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"})),this.ignoreDependencies=h,this.failFast=_}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return z.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return z.ppath.resolve(this.project.cwd,".yarn",Kq)}async readRunLog(){let t=new Map;try{let r=await z.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{checksum:r.packages[n].checksum,status:r.packages[n].status,rerun:r.packages[n].rerun,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await z.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:k({},t&&t.packages)};for(let[n]of this.runLog)r.packages[n]=k(k({},r.packages[n]),this.runLog.get(n));await z.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return;let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}markWorkspaceForRerun(t){var n,i,s;if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return;let r=(n=this.runLog)==null?void 0:n.get(`${t.relativeCwd}#${this.runCommand}`);(s=this.runLog)==null||s.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:(i=r==null?void 0:r.checksum)!=null?i:"",status:kt.succeeded,rerun:!0,command:this.runCommand})}isWorkspaceMarkedForRerun(t){var n,i;if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return!1;let r=(n=this.runLog)==null?void 0:n.get(`${t.relativeCwd}#${this.runCommand}`);return(i=r==null?void 0:r.rerun)!=null?i:!1}async checkIfRunIsRequired(t){var f,h,_,g,b,v,E,A,$,I,B,R,M,O,V,S,N,F,Q,m,y,de;if(typeof this.checkIfRunIsRequiredCache[t.relativeCwd]!="undefined")return this.checkIfRunIsRequiredCache[t.relativeCwd];if(typeof t.manifest.scripts.get(this.runCommand)!="string")return this.checkIfRunIsRequiredCache[t.relativeCwd]=!1,!1;let r=!1;this.ignoreRunCache&&(r=!0);let n=(f=this.runLog)==null?void 0:f.get(`${t.relativeCwd}#${this.runCommand}`);(n==null?void 0:n.rerun)&&(r=!0);for(let U of t.getRecursiveWorkspaceDependencies())if(this.checkIfRunIsRequiredCache[U.relativeCwd]===!0){r=!0;break}let i=_E(t.manifest.raw),s=(i==null?void 0:i.input)!=null,o=typeof(i==null?void 0:i.output)!="undefined",a=(h=i.input)!=null?h:this.pluginConfiguration.folders.input,u=new Set,c=new Set(Array.isArray(a)?a:[a]),l=(_=i.output)!=null?_:[],p=new Set(Array.isArray(l)?l:[l]);if(o||(typeof((b=(g=t==null?void 0:t.manifest)==null?void 0:g.raw)==null?void 0:b.bin)=="string"?p.add(t.manifest.raw.bin):typeof((A=(E=(v=t==null?void 0:t.manifest)==null?void 0:v.raw)==null?void 0:E.directories)==null?void 0:A.bin)=="string"?p.add(t.manifest.raw.directories.bin):typeof((I=($=t==null?void 0:t.manifest)==null?void 0:$.raw)==null?void 0:I.files)=="string"?p.add(t.manifest.raw.files):Array.isArray((R=(B=t==null?void 0:t.manifest)==null?void 0:B.raw)==null?void 0:R.files)?t.manifest.raw.files.forEach(U=>U&&p.add(U)):typeof((O=(M=t==null?void 0:t.manifest)==null?void 0:M.raw)==null?void 0:O.main)=="string"&&p.add(t.manifest.raw.main)),!s||!o)try{let U=(V=i.tsconfig)!=null?V:"tsconfig.json",be=z.xfs.pathUtils.join(t.cwd,z.npath.toPortablePath(U));if(await z.xfs.existsPromise(be)){let ee=(0,JR.parseTsconfig)(z.npath.fromPortablePath(be)),at=z.ppath.dirname(be);if(!s){if((S=ee.compilerOptions)==null?void 0:S.incremental){let _t=(N=ee.compilerOptions.tsBuildInfoFile)!=null?N:`${z.ppath.basename(be,z.ppath.extname(be))}.tsbuildinfo`,Te=z.ppath.join(at,z.npath.toPortablePath(_t)),qe=z.ppath.relative(t.cwd,Te);u.add(qe)}(F=ee.include)==null||F.forEach(_t=>{let Te=z.ppath.join(at,z.npath.toPortablePath(_t)),qe=z.ppath.relative(t.cwd,Te);c.add(qe)}),(Q=ee.exclude)==null||Q.forEach(_t=>{let Te=z.ppath.join(at,z.npath.toPortablePath(_t)),qe=z.ppath.relative(t.cwd,Te);u.add(qe)})}if(!o&&((m=ee.compilerOptions)==null?void 0:m.outDir)!=null){let _t=z.ppath.join(at,z.npath.toPortablePath(z.npath.toPortablePath(ee.compilerOptions.outDir))),Te=z.ppath.relative(t.cwd,_t);p.add(Te)}}}catch(U){console.warn(t.relativeCwd,`
`,U)}p.size===0&&(Array.isArray(this.pluginConfiguration.folders.output)?this.pluginConfiguration.folders.output.forEach(U=>U&&p.add(U)):typeof this.pluginConfiguration.folders.output=="string"&&p.add(this.pluginConfiguration.folders.output));{let U=[...new Set(["node_modules",...p,...u])].map(ee=>z.npath.toPortablePath(ee)),be=[...c].map(ee=>z.npath.toPortablePath(ee)),Ye=await this.runReport.mutex.acquire();try{let ee=await zq(t.cwd,be,U);if((n==null?void 0:n.checksum)!==ee&&(r=!0),!r){let at=z.npath.fromPortablePath(t.cwd);(await Promise.all([...p].map(async Te=>{try{return(await(0,Df.default)(Te,{dot:!0,cwd:at})).length===0}catch{return!1}}))).some(Te=>Te===!0)&&(r=!0)}(y=this.runLog)==null||y.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:ee,status:r?kt.succeeded:kt.pending,rerun:r,command:this.runCommand})}catch(ee){(de=this.runReport.workspaces[t.relativeCwd])==null||de.stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${ee})`))}finally{Ye()}}return this.checkIfRunIsRequiredCache[t.relativeCwd]=r,r}formatHeader(t,r=0,n=!1){let i=`${this.grey("-".repeat(r)+"[")} ${t} ${this.grey("]")}`,s=(0,tc.default)(i).length,o=n?"[ yarn.build ]":"",a=tP-s;return n&&(a-=o.length),i+this.grey("-".repeat(a))+this.grey(o)}generateHeaderString(){return`${H.formatUtils.pretty(this.configuration,`${this.runCommand}`,H.FormatType.CODE)} for ${H.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",H.FormatType.SCOPE)}${this.dryRun?H.formatUtils.pretty(this.configuration," --dry-run",H.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-n.start)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=o=>this.grey(`[${o}]`),i=H.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let s=1;for(let o in this.runReport.workspaces){let a=this.runReport.workspaces[o];if(!a||!a.start||a.done)continue;let u=H.formatUtils.pretty(this.configuration,o,H.FormatType.PATH),c=H.formatUtils.pretty(this.configuration,`(${a.runScript})`,H.FormatType.REFERENCE),l=a.start?H.formatUtils.pretty(this.configuration,sn(a.start,t),H.FormatType.RANGE):"",p=n(s++),f=" ".repeat(p.length-1),h=H.formatUtils.pretty(this.configuration,a.name,H.FormatType.NAME),_=`${p} ${h}${H.formatUtils.pretty(this.configuration,"@","grey")}${u} ${c} ${l}
`,g="",b="",v="";(0,tc.default)(_).length>=process.stdout.columns&&(g=`${p} ${u}${h}
`,b=`${f} ${c} ${l}
`,(0,tc.default)(g).length>=process.stdout.columns&&(g=(0,rc.default)(`${p} ${u}
`,0,process.stdout.columns),b=(0,rc.default)(`${f} ${h}
`,0,process.stdout.columns),v=(0,rc.default)(`${f} ${c} ${l}
`,0,process.stdout.columns)),_=g+b+v),r+=_}for(s;s<this.concurrency+1;)r+=`${n(s++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},zq=async(e,t,r)=>{let n=await(0,Df.default)(t,{cwd:z.npath.fromPortablePath(e),absolute:!0,expandDirectories:!0,dot:!0,ignore:r});n.sort();let i=await Promise.all(n.map(async s=>{let o=z.npath.toPortablePath(s),a=await z.xfs.statPromise(o);return{path:z.ppath.relative(e,o),size:a.isFile()?a.size:0,lastModified:a.isFile()?a.mtimeMs:0}}));return(0,eP.default)(i)},sn=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function Qq(e){return new Promise(t=>setTimeout(t,e))}var nP=rP;var iP=L(P("child_process"));async function Ff(e){return new Promise((t,r)=>{let n="";if(e.commit&&(n=`git diff --name-only ..${e.commit}`),e.sinceBranch&&e.sinceBranch.length>0&&(n=`git diff --name-only ${e.sinceBranch}...`),n.length===0)throw new Error("Unable to determine how to detect changes.");(0,iP.exec)(n,(i,s,o)=>{if(i&&r(i),s){let a=s.split(`
`),c=[...e.root.workspacesCwds].map(l=>{if(a.some(p=>p.startsWith(l.replace(`${e.root.cwd}/`,""))))return l}).filter(l=>!!l).map(l=>!!l&&e.root.project.workspacesByCwd.get(l)).filter(l=>!!l);t(c)}o&&t([])})})}var on=L(P("@yarnpkg/core"));var sP=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...sP(i,t))}return r},oP=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=sP(e,t);for(let i of n)for(let s of on.Manifest.hardDependencies){for(let o of i.manifest.getForScope(s).values()){let a=t.tryWorkspaceByDescriptor(o);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof Zu){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,s=n.node.length<n.dep.length+4?"\u21B0":"",o=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${on.formatUtils.pretty(r.configuration,n.node,"white")} ${s}
 \u21B3 ${on.formatUtils.pretty(r.configuration,n.dep,"red")} ${o}

`,i+=on.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=on.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var ws=L(j());var Ns=class extends nc.BaseCommand{constructor(){super(...arguments);this.json=he.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=he.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=he.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=he.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=he.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=he.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a job, but not actually run it"});this.ignoreBuildCache=he.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=he.Option.String("-m,--max-concurrency",{description:"is the maximum number of jobs that can run at a time, defaults to the number of logical CPUs on the current machine."});this.continueOnError=he.Option.Boolean("--continue-on-error",!1,{description:"if a job fails, continue with the rest"});this.failFast=he.Option.Boolean("--fail-fast",!1,{description:"if a job fails, terminate other running jobs"});this.exclude=he.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=he.Option.Boolean("--exclude-current",!1,{description:"run for this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=he.Option.Boolean("--changes",!1,{description:"only run for packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=he.Option.String("--since",{description:"only run for packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=he.Option.String("--since-branch",{description:"only run for packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=he.Option.Boolean("--only-current",!1,{description:"only run for the current workspace"});this.ignoreDependencies=he.Option.Boolean("--ignore-dependencies",!1,{description:"when true, don't run for packages this one depends on"});this.buildTargets=he.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.commandType="build"}async execute(){return await new Mt("yarn.build").startSpan({name:`yarn ${this.commandType}`,propegateFromEnv:!0},async({span:r,ctx:n})=>{var b,v;r.setAttributes({[q.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[q.YARN_BUILD_FLAGS_ALL]:this.all,[q.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[q.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[q.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[q.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[q.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[q.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[q.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[q.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[q.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[q.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[q.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[q.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[q.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[q.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let i=await Ue.Configuration.find(this.context.cwd,this.context.plugins),{project:s,workspace:o}=await Ue.Project.find(i,this.context.cwd);if(!o)throw new nc.WorkspaceRequiredError(s.cwd,this.context.cwd);let a=this.all?s.topLevelWorkspace:o,u=!1;a==s.topLevelWorkspace&&(u=!0);let c=[a,...this.buildTargets.length>0?a.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?c=await Ff({root:s.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(c=await Ff({root:s.topLevelWorkspace,commit:(b=this.onlyGitChangesSinceCommit)!=null?b:"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(Ue.structUtils.stringifyIdent(o.locator)),!u&&this.onlyCurrent&&(this.maxConcurrency="1");let l=E=>{var A,$;return!u&&this.onlyCurrent?E!=o:($=(A=this.exclude)==null?void 0:A.some(I=>Is.default.isMatch(Ue.structUtils.stringifyIdent(E.locator),I)||Is.default.isMatch(E.cwd,`${i.projectCwd}${kf.default.posix.sep}${I}`)))!=null?$:!1},p=E=>!u&&this.onlyCurrent?E==o:this.buildTargets.some(A=>Is.default.isMatch(Ue.structUtils.stringifyIdent(E.locator),A)||Is.default.isMatch(E.cwd,`${i.projectCwd}${kf.default.posix.sep}${A}`)),f=this.buildTargets.length>0?c.filter(p):c,h=await hE(i);this.continueOnError=(v=this.continueOnError)!=null?v:!!h.bail;let _=this.maxConcurrency===void 0?(0,aP.cpus)().length:parseInt(this.maxConcurrency);r.setAttributes({[q.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[q.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[q.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[q.YARN_BUILD_CONFIG_BAIL]:h.bail,[q.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[q.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:_,[q.YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES]:this.ignoreDependencies});let g=await Ue.StreamReport.start({configuration:i,json:this.json,stdout:this.context.stdout,includeLogs:!0},async E=>{let A=async(B,R,M,O,V)=>{let S=ws.trace.getSpan(B),N=new Ue.miscUtils.BufferStream;N.on("data",Q=>O==null?void 0:O.emit(le.info,V,Q&&Q.toString()));let F=new Ue.miscUtils.BufferStream;if(F.on("data",Q=>O==null?void 0:O.emit(le.error,V,Q&&Q.toString())),this.forceQuit)return N.destroy(),F.destroy(),N.end(),F.end(),2;try{let Q=await this.cli.run(["run",R],{cwd:M,stdout:N,stderr:F})||0;return N.end(),F.end(),Q}catch(Q){S==null||S.setStatus({code:ws.SpanStatusCode.ERROR,message:Q.message}),(typeof Q=="string"||Q instanceof Error)&&(S==null||S.recordException(Q)),N.end(),F.end()}return 2},$=new nP({project:s,configuration:i,pluginConfiguration:h,report:E,runCommand:this.buildCommand,cli:A,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:_,continueOnError:this.continueOnError,excludeWorkspacePredicate:l,ignoreDependencies:this.ignoreDependencies,failFast:this.failFast});$.runReporter.on(le.forceQuit,()=>{this.forceQuit=!0}),await $.setup();for(let B of f)await oP({targetWorkspace:B,project:s,supervisor:$});await $.run(n)===!1&&(E.reportError(Ue.MessageName.BUILD_FAILED,"Build failed"),r.setStatus({code:ws.SpanStatusCode.ERROR,message:"Build failed"}))});return fi.hasBeenTerminated=!0,g.exitCode()})}};Ns.paths=[["build"]],Ns.usage=he.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var ic=Ns;var yP=L(P("@yarnpkg/cli")),EP=L(P("@yarnpkg/core")),oc=L(P("@yarnpkg/core")),SP=L(P("clipanion"));var ht=e=>{if(e==null)throw new Error("Invalid name");return e.scope?`@${e.scope}/${e.name}`:e.name};var uP=({workspace:e,project:t})=>{let r=Array.from(e.manifest.dependencies.values()).map(i=>ht(i)),n=Array.from(t.workspaces.values()).map(i=>ht(i.manifest.name));return r.filter(i=>n.includes(i))};var cP=({project:e,workspaceName:t})=>e.workspaces.find(n=>ht(n.manifest.name)===t);var dP=L(P("@yarnpkg/core"));var Zq={firstCharacters:"\u27A4 ",tabString:"\u2502 "},lP="gray",xs=({format:e,padding:t,step:r=5,characters:n=Zq})=>{let{firstCharacters:i,tabString:s}=n,o=s.split("");for(let a=0;a<t;a++){let u=Array(r).fill(" ").map((c,l)=>l<o.length?o[l]:c).join("");process.stdout.write(e(u,lP))}process.stdout.write(e(i,lP))};var Jq=dP.FormatType.NAME,pP="red",fP=({format:e,circular:t,dependency:r,parents:n,current:i,project:s,padding:o=0})=>{if(t){xs({format:e,padding:o+1}),process.stdout.write(e(r,Jq)),process.stdout.write(e(" -> circular dependency",pP)),process.stdout.write(`
`);return}let a=cP({project:s,workspaceName:r});if(!a){xs({format:e,padding:o+1}),process.stdout.write(r),process.stdout.write(e("-> incorrect dependency",pP)),process.stdout.write(`
`);return}sc({format:e,project:s,parent:i,parents:[...n,i],padding:o+1,workspace:a})};var hP=({format:e,workspace:t,parent:r,parents:n,project:i,padding:s=0})=>{let o=uP({workspace:t,project:i});for(let a of o)fP({format:e,workspace:t,project:i,padding:s,parent:r,parents:n,current:ht(t.manifest.name),circular:r===a||n.includes(a),dependency:a})};var _P=L(P("@yarnpkg/core"));var ej=_P.FormatType.NAME,gP=({format:e,workspace:t,padding:r=0})=>{let{name:n}=t.manifest,i=ht(n);xs({format:e,padding:r}),process.stdout.write(e(i,ej)),process.stdout.write(`
`)};var sc=({format:e,workspace:t,project:r,parents:n,padding:i=0,parent:s})=>{gP({workspace:t,padding:i,format:e}),hP({parents:n,workspace:t,project:r,padding:i,parent:s,format:e})};var Ls=({padding:e})=>{for(let t=0;t<e;t++)process.stdout.write(`
`)};var mP=({workspace:e,format:t})=>{let r=ht(e.manifest.name);process.stdout.write(`Build query for package: ${t(r,"bold")}`),Ls({padding:1})};var Ms=class extends yP.BaseCommand{async execute(){let t=await oc.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await oc.Project.find(t,this.context.cwd);if(!n)return 0;let i=(s,o)=>EP.formatUtils.pretty(t,s,o);return Ls({padding:1}),mP({workspace:n,format:i}),sc({parents:[],workspace:n,project:r,format:i}),Ls({padding:2}),0}};Ms.paths=[["build","query"]],Ms.usage=SP.Command.Usage({category:"Build commands",description:"prints out dependency graph for current package",details:`
          In a monorepo with internal packages that depend on others, this command
          will traverse the dependency graph and efficiently ensure, the packages
          are built in the right order.

        `});var AP=Ms;var Ds=L(P("clipanion"));var Bs=class extends ic{constructor(){super(...arguments);this.buildCommand=Ds.Option.String("-c,--command","test",{description:'the command to be run in each package (if available), defaults to "test"'});this.onlyCurrent=Ds.Option.Boolean("--only-current",!0,{description:"only test the current workspace"});this.ignoreDependencies=!0;this.commandType="test"}};Bs.paths=[["test"]],Bs.usage=Ds.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are tested in the right order.
      `});var bP=Bs;var tj={commands:[MT,AP,ic,bP]},rj=tj;return nj;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
